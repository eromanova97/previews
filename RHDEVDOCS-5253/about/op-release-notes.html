

<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  
  
  <title>OpenShift Pipelines release notes | About OpenShift Pipelines | Red Hat OpenShift Pipelines Branch Build</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/search.css" rel="stylesheet" media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/autumn.css" rel="stylesheet"  media="screen"/>
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png"/>
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css"/>
  <link href="https://assets.openshift.net/content/osh-nav-footer.css" rel="stylesheet" type="text/css" media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/docs.css" rel="stylesheet"  media="screen"/>
  <link href="https://docs.openshift.com/container-platform/4.1/_stylesheets/print.css" rel="stylesheet" type="text/css" media="print"/>
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">

  <!-- Adobe DTM -->
  <script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <!-- End Adobe DTM -->

  <script id="trustarc" src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet">

</head>

<body onload="selectVersion('Branch Build');">
  
<nav id="main">
  <div class="container">
    <div class="row">
      <div class="navbar navbar-default navbar-openshift" role="navigation">
        <div class="navbar-header">
            <a href="#nav-main" class="dropdown-toggle navbar-menu-toggle hidden visible-xs" data-toggle="collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
          <a class="navbar-brand" href="/"></a>
        </div>
        <div id="nav-main" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="products" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                Products <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-column flex-md-row">
                  <div class="col-xs-12 col-sm-3">
                    <h3>Overview</h3>
                    <ul class="nav flex-column">
                      <li><a target="_blank" href="https://www.openshift.com/products/features/">Features</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/products/pricing/">Pricing</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-9">
                    <h3>Featured Products</h3>
                    <ul class="nav">
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/container-platform/">Red Hat OpenShift Container&nbsp;Platform</a>
                        <p class="d-none d-md-block">Build, deploy and manage your applications across cloud- and on-premise infrastructure</p>
                      </li>
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/dedicated/">Red Hat OpenShift Dedicated</a>
                        <p class="d-none d-md-block">Single-tenant, high-availability Kubernetes clusters in the public cloud</p>
                      </li>

                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/online/">Red Hat OpenShift Online</a>
                        <p class="d-none d-md-block">The fastest way for developers to build, host and scale applications in the public cloud</p>
                      </li>

                      <li class="nav-item">
                        <a target="_blank" href="https://www.openshift.com/products/">All products <span class="fa fa-angle-right"></span></a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li id="learn" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Learn <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-md-nowrap">
                  <div class="col-xs-12 col-sm-6">
                    <h3>Learn</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/what-is-openshift/">What is OpenShift</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/get-started/">Get started</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/partners/">Partners</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/success-stories/">Customer success stories</a></li>
                      <li><a target="_blank" href="https://blog.openshift.com">Blog</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/resources/">Resources</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <h3>Technology Topics</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/knative/">Knative</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/security/">Security</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/kubernetes/">Kubernetes</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/service-brokers/">Service Brokers</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Community <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://commons.openshift.org">OpenShift Commons</a></li>
                <li><a target="_blank" href="https://www.okd.io">Open Source (OKD)</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/startups/">Startups</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/grants/">Grants</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Support <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://help.openshift.com">Help Center</a></li>
                <li><a href="https://docs.openshift.com">OpenShift Docs</a></li>
              </ul>
            </li>

            <li><a target="_blank" class="nav-sign-up" href="https://www.openshift.com/trial/">Free Trial</a></li>

            <li><a target="_blank" href="https://console.redhat.com/openshift" class="nav-sign-in">Log In <span class="fa fa-angle-right"></span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

  
  <div class="container">
    <button id="hc-open-btn" class="open-btn-sm" onclick="openNav()" aria-label="Open"><span class="fa fa-bars" /></button>
    <ol class="breadcrumb hide-for-print">
      

      

      

      

      

      

      <li class="sitename">
        <a href="/">
          Documentation</a>
      </li>
      <li class="hidden-xs active">
        
          <a href="../about/op-release-notes.html">Red Hat OpenShift Pipelines Branch Build</a>
        
      </li>
      <li class="hidden-xs active">
        <a href="../about/op-release-notes.html">About OpenShift Pipelines</a>
      </li>
      
      
      <li class="hidden-xs active">
        OpenShift Pipelines release notes
      </li>
      
      <span text-align="right" style="float: right !important">
        <a href="https://github.com/openshift/openshift-docs/commits/main/about/op-release-notes.adoc"><span class="material-icons-outlined" title="Page history">history</span></a>
        
        <a href="https://issues.redhat.com/secure/CreateIssueDetails!init.jspa?pid=12332330&issuetype=1&components=12367614&priority=4&summary=Issue+in+file+about/op-release-notes.adoc">
          <span class="material-icons-outlined" title="Open an issue">bug_report</span>
        </a>
        <a href="javascript: void(0);" onclick="window.print()"><span class="material-icons-outlined" title="Print page (Save as PDF)">picture_as_pdf</span></a>
        
        
      </span>
      
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas hide-for-print">
        <div class="row-fluid">
          <div id="btn-close">
            <button id="hc-close-btn" onclick="closeNav()" class="close-btn-sm" aria-label="close"><span class="fa fa-times" /></button>
          </div>
          <div id="hc-search">
            <input id="hc-search-input" type="text" aria-label="search">
            <button id="hc-search-btn" aria-label="search"><span class="fa fa-search" /></button>
          </div>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0"><span id="tgSpan0" class="fa fa-angle-down"></span>About OpenShift Pipelines</a>
      <ul id="topicGroup0" class="collapse in list-unstyled">
            <li><a class=" active" href="../about/op-release-notes.html">OpenShift Pipelines release notes</a></li>
            <li><a class="" href="../about/about-pipelines.html">About OpenShift Pipelines</a></li>
            <li><a class="" href="../about/understanding-openshift-pipelines.html">Understanding OpenShift Pipelines</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1"><span id="tgSpan1" class="fa fa-angle-right"></span>Installing and configuring</a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../install_config/installing-pipelines.html">Installing OpenShift Pipelines</a></li>
            <li><a class="" href="../install_config/uninstalling-pipelines.html">Uninstalling OpenShift Pipelines</a></li>
            <li><a class="" href="../install_config/customizing-configurations-in-the-tektonconfig-cr.html">Customizing configurations in the TektonConfig custom resource</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2"><span id="tgSpan2" class="fa fa-angle-right"></span>Managing resource use</a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li><a class="" href="../resource/reducing-pipelines-resource-consumption.html">Reducing resource consumption of OpenShift Pipelines</a></li>
            <li><a class="" href="../resource/setting-compute-resource-quota-for-openshift-pipelines.html">Setting compute resource quota for OpenShift Pipelines</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3"><span id="tgSpan3" class="fa fa-angle-right"></span>Creating CI/CD pipelines</a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../create/creating-applications-with-cicd-pipelines.html">Creating CI/CD solutions for applications using OpenShift Pipelines</a></li>
            <li><a class="" href="../create/working-with-pipelines-web-console.html">Working with OpenShift Pipelines in the web console</a></li>
            <li><a class="" href="../create/remote-pipelines-tasks-resolvers.html">Specifying remote pipelines and tasks using resolvers</a></li>
            <li><a class="" href="../create/managing-nonversioned-and-versioned-cluster-tasks.html">Managing non-versioned and versioned cluster tasks</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4"><span id="tgSpan4" class="fa fa-angle-right"></span>Observability in OpenShift Pipelines</a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../records/using-tekton-results-for-openshift-pipelines-observability.html">Using Tekton Results for OpenShift Pipelines observability</a></li>
            <li><a class="" href="../records/viewing-pipeline-logs-using-the-openshift-logging-operator.html">Viewing pipeline logs using the OpenShift Logging Operator</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5"><span id="tgSpan5" class="fa fa-angle-right"></span>Pipelines as Code</a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../pac/about-pipelines-as-code.html">About Pipelines as Code</a></li>
            <li><a class="" href="../pac/install-config-pipelines-as-code.html">Installing and configuring Pipelines as Code</a></li>
            <li><a class="" href="../pac/using-pipelines-as-code-repos.html">Using Pipelines as Code with a Git repository hosting service provider</a></li>
            <li><a class="" href="../pac/using-repository-crd.html">Using the Repository custom resource</a></li>
            <li><a class="" href="../pac/using-pac-resolver.html">Using the Pipelines as Code resolver</a></li>
            <li><a class="" href="../pac/managing-pipeline-runs-pac.html">Managing pipeline runs</a></li>
            <li><a class="" href="../pac/pac-command-reference.html">Pipelines as Code command reference</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6"><span id="tgSpan6" class="fa fa-angle-right"></span>Securing OpenShift Pipelines</a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../secure/using-tekton-chains-for-openshift-pipelines-supply-chain-security.html">Using Tekton Chains for OpenShift Pipelines supply chain security</a></li>
            <li><a class="" href="../secure/configuring-security-context-for-pods.html">Configuring the security context for pods</a></li>
            <li><a class="" href="../secure/securing-webhooks-with-event-listeners.html">Securing webhooks with event listeners</a></li>
            <li><a class="" href="../secure/authenticating-pipelines-using-git-secret.html">Authenticating pipelines using git secret</a></li>
            <li><a class="" href="../secure/unprivileged-building-of-container-images-using-buildah.html">Unprivileged building of container images using Buildah</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7"><span id="tgSpan7" class="fa fa-angle-right"></span>Custom Tekton Hub instance</a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../hub/using-tekton-hub-with-openshift-pipelines.html">Using Tekton Hub with OpenShift Pipelines</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8"><span id="tgSpan8" class="fa fa-angle-right"></span>Pipelines CLI (tkn) reference</a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../tkn_cli/installing-tkn.html">Installing tkn</a></li>
            <li><a class="" href="../tkn_cli/op-configuring-tkn.html">Configuring tkn</a></li>
            <li><a class="" href="../tkn_cli/op-tkn-reference.html">Basic tkn commands</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div id="hc-search-modal">
        <div id="hc-modal-content">
          <span id="hc-modal-close">&times;</span>
          <div id="hc-search-results-wrapper">
            <div id="hc-search-results"></div>
            <div id="hc-search-progress-indicator" class="text-center search-progress-indicator"><i class="fa fa-circle-o-notch fa-spin" style="font-size:42px"></i></div>
            <div class="text-center">
              <button id="hc-search-more-btn">Show more results</button>
            </div>
          </div>
        </div>
      </div>
      <div class="print-logo" style="display:none;">
        <img src="https://www.redhat.com/cms/managed-files/Logo-Red_Hat-OpenShift-A-Standard-RGB_0_0.svg" alt="print logo"/>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>
            Red Hat OpenShift Pipelines release notes
          </h1>
        </div>
        
        
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#compatibility-support-matrix_op-release-notes">Compatibility and support matrix</a></li>
<li><a href="#making-open-source-more-inclusive_op-release-notes">Making open source more inclusive</a></li>
<li><a href="#op-release-notes-1-13_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.13</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-13_op-release-notes">New features</a></li>
<li><a href="#breaking-changes-1-13_op-release-notes">Breaking changes</a></li>
<li><a href="#known-issues-1-13_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-13_op-release-notes">Fixed issues</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-12_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.12</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-12_op-release-notes">New features</a></li>
<li><a href="#breaking-changes-1-12_op-release-notes">Breaking changes</a></li>
<li><a href="#known-issues-1-12_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-12_op-release-notes">Fixed issues</a></li>
<li><a href="#release-notes-1-12-1_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.12.1</a></li>
<li><a href="#release-notes-1-12-2_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.12.2</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-11_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.11</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-11_op-release-notes">New features</a></li>
<li><a href="#breaking-changes-1-11_op-release-notes">Breaking changes</a></li>
<li><a href="#deprecated-features-1-11_op-release-notes">Deprecated and removed features</a></li>
<li><a href="#known-issues-1-11_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-11_op-release-notes">Fixed issues</a></li>
<li><a href="#release-notes-1-11-1_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.11.1</a></li>
<li><a href="#release-notes-1-11-2_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.11.2</a></li>
<li><a href="#known-issues">Known issues</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-10_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.10</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-10_op-release-notes">New features</a></li>
<li><a href="#breaking-changes-1-10_op-release-notes">Breaking changes</a></li>
<li><a href="#deprecated-features-1-10_op-release-notes">Deprecated and removed features</a></li>
<li><a href="#known-issues-1-10_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-10_op-release-notes">Fixed issues</a></li>
<li><a href="#release-notes-1-10-1_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.10.1</a></li>
<li><a href="#release-notes-1-10-2_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.10.2</a></li>
<li><a href="#release-notes-1-10-3_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.10.3</a></li>
<li><a href="#release-notes-1-10-4_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.10.4</a></li>
<li><a href="#release-notes-1-10-5_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.10.5</a></li>
<li><a href="#release-notes-1-10-6_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.10.6</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-9_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.9</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-9_op-release-notes">New features</a></li>
<li><a href="#breaking-changes-1-9_op-release-notes">Breaking changes</a></li>
<li><a href="#deprecated-features-1-9_op-release-notes">Deprecated and removed features</a></li>
<li><a href="#known-issues-1-9_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-9_op-release-notes">Fixed issues</a></li>
<li><a href="#release-notes-1-9-1_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.9.1</a></li>
<li><a href="#fixed-issues-1-9-1_op-release-notes">Fixed issues</a></li>
<li><a href="#known-issues-1-9-1_op-release-notes">Known issues</a></li>
<li><a href="#breaking-changes-1-9-1_op-release-notes">Breaking changes</a></li>
<li><a href="#release-notes-1-9-2_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.9.2</a></li>
<li><a href="#fixed-issues-1-9-2_op-release-notes">Fixed issues</a></li>
<li><a href="#release-notes-1-9-3_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.9.3</a></li>
<li><a href="#fixed-issues-1-9-3_op-release-notes">Fixed issues</a></li>
<li><a href="#known-issues-1-9-3_op-release-notes">Known issues</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-8_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.8</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-8_op-release-notes">New features</a></li>
<li><a href="#breaking-changes-1-8_op-release-notes">Breaking changes</a></li>
<li><a href="#deprecated-features-1-8_op-release-notes">Deprecated and removed features</a></li>
<li><a href="#known-issues-1-8_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-8_op-release-notes">Fixed issues</a></li>
<li><a href="#release-notes-1-8-1_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.8.1</a></li>
<li><a href="#release-notes-1-8-2_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.8.2</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-7_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.7</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-7_op-release-notes">New features</a></li>
<li><a href="#deprecated-features-1-7_op-release-notes">Deprecated features</a></li>
<li><a href="#known-issues-1-7_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-7_op-release-notes">Fixed issues</a></li>
<li><a href="#release-notes-1-7-1_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.7.1</a></li>
<li><a href="#release-notes-1-7-2_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.7.2</a></li>
<li><a href="#release-notes-1-7-3_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.7.3</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-6_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.6</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-6_op-release-notes">New features</a></li>
<li><a href="#deprecated-features-1-6_op-release-notes">Deprecated features</a></li>
<li><a href="#known-issues-1-6_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-6_op-release-notes">Fixed issues</a></li>
<li><a href="#release-notes-1-6-1_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.6.1</a></li>
<li><a href="#release-notes-1-6-2_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.6.2</a></li>
<li><a href="#release-notes-1-6-3_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.6.3</a></li>
<li><a href="#release-notes-1-6-4_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.6.4</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-5_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.5</a>
<ul class="sectlevel2">
<li><a href="#compatibility-support-matrix-1-5_op-release-notes">Compatibility and support matrix</a></li>
<li><a href="#new-features-1-5_op-release-notes">New features</a></li>
<li><a href="#deprecated-features-1-5_op-release-notes">Deprecated features</a></li>
<li><a href="#known-issues-1-5_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-5_op-release-notes">Fixed issues</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-4_op-release-notes">Release notes for Red Hat OpenShift Pipelines General Availability 1.4</a>
<ul class="sectlevel2">
<li><a href="#compatibility-support-matrix-1-4_op-release-notes">Compatibility and support matrix</a></li>
<li><a href="#new-features-1-4_op-release-notes">New features</a></li>
<li><a href="#deprecated-features-1-4_op-release-notes">Deprecated features</a></li>
<li><a href="#known-issues-1-4_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-4_op-release-notes">Fixed issues</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-3_op-release-notes">Release notes for Red Hat OpenShift Pipelines Technology Preview 1.3</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-3_op-release-notes">New features</a></li>
<li><a href="#deprecated-features-1-3_op-release-notes">Deprecated features</a></li>
<li><a href="#known-issues-1-3_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-3_op-release-notes">Fixed issues</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-2_op-release-notes">Release notes for Red Hat OpenShift Pipelines Technology Preview 1.2</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-2_op-release-notes">New features</a></li>
<li><a href="#deprecated-features-1-2_op-release-notes">Deprecated features</a></li>
<li><a href="#known-issues-1-2_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-2_op-release-notes">Fixed issues</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-1_op-release-notes">Release notes for Red Hat OpenShift Pipelines Technology Preview 1.1</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-1_op-release-notes">New features</a></li>
<li><a href="#deprecated-features-1-1_op-release-notes">Deprecated features</a></li>
<li><a href="#known-issues-1-1_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-1_op-release-notes">Fixed issues</a></li>
</ul>
</li>
<li><a href="#op-release-notes-1-0_op-release-notes">Release notes for Red Hat OpenShift Pipelines Technology Preview 1.0</a>
<ul class="sectlevel2">
<li><a href="#new-features-1-0_op-release-notes">New features</a></li>
<li><a href="#deprecated-features-1-0_op-release-notes">Deprecated features</a></li>
<li><a href="#known-issues-1-4-0_op-release-notes">Known issues</a></li>
<li><a href="#fixed-issues-1-0_op-release-notes">Fixed issues</a></li>
</ul>
</li>
</ul>
</div>
<div class="paragraph">
<p>Red Hat OpenShift Pipelines is a cloud-native CI/CD experience based on the Tekton project which provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standard Kubernetes-native pipeline definitions (CRDs).</p>
</li>
<li>
<p>Serverless pipelines with no CI server management overhead.</p>
</li>
<li>
<p>Extensibility to build images using any Kubernetes tool, such as S2I, Buildah, JIB, and Kaniko.</p>
</li>
<li>
<p>Portability across any Kubernetes distribution.</p>
</li>
<li>
<p>Powerful CLI for interacting with pipelines.</p>
</li>
<li>
<p>Integrated user experience with the <strong>Developer</strong> perspective of the OpenShift Container Platform web console.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For an overview of Red Hat OpenShift Pipelines, see <a href="../about/understanding-openshift-pipelines.html#understanding-openshift-pipelines">Understanding OpenShift Pipelines</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="compatibility-support-matrix_op-release-notes"><a class="anchor" href="#compatibility-support-matrix_op-release-notes"></a>Compatibility and support matrix</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some features in this release are currently in <a href="https://access.redhat.com/support/offerings/techpreview">Technology Preview</a>. These experimental features are not intended for production use.</p>
</div>
<div class="paragraph">
<p>In the table, features are marked with the following statuses:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
TP
</td>
<td class="hdlist2">
<p>Technology Preview</p>
</td>
</tr>
<tr>
<td class="hdlist1">
GA
</td>
<td class="hdlist2">
<p>General Availability</p>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Compatibility and support matrix</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Red Hat OpenShift Pipelines Version</th>
<th class="tableblock halign-left valign-top" colspan="7">Component Version</th>
<th class="tableblock halign-left valign-top">OpenShift Version</th>
<th class="tableblock halign-left valign-top">Support Status</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipelines</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Triggers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chains</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hub</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipelines as Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Results</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19.x (GA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.15.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22.x (GA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.8.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.12, 4.13, 4.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.32.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17.x (GA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.14.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.21.x (GA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.8.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.12, 4.13, 4.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.47.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.24.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.31.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.16.x (GA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.13.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19.x (GA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.6.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.12, 4.13, 4.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.44.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.23.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.15.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.12.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17.x (GA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.10, 4.11, 4.12, 4.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.28.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.11.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.15.x (GA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.10, 4.11, 4.12, 4.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.37.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.24.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9.0 (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.10, 4.11, 4.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.23.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.8.0 (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7.0 (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.5.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.9, 4.10, 4.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.28.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.16.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.21.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.24.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12.x (TP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17.x</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For questions and feedback, you can send an email to the product team at <a href="mailto:pipelines-interest@redhat.com">pipelines-interest@redhat.com</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="making-open-source-more-inclusive_op-release-notes"><a class="anchor" href="#making-open-source-more-inclusive_op-release-notes"></a>Making open source more inclusive</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases. For more details, see <a href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright&#8217;s message</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-13_op-release-notes"><a class="anchor" href="#op-release-notes-1-13_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.13</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.13 is available on OpenShift Container Platform 4.12 and later versions.</p>
</div>
<div class="sect2">
<h3 id="new-features-1-13_op-release-notes"><a class="anchor" href="#new-features-1-13_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>In addition to fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.13:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Before upgrading to the Red Hat OpenShift Pipelines Operator 1.13, ensure that you installed at least the OpenShift Container Platform 4.12.19 or 4.13.1 version on your cluster.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="pipelines-new-features-1-13_op-release-notes"><a class="anchor" href="#pipelines-new-features-1-13_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, the Source-to-Image (S2I) cluster tasks used a base S2I container image that was in Technology Preview. With this update, the S2I cluster tasks used a base S2I container image that is released and fully supported.</p>
</li>
<li>
<p>With this update, optionally, you can enable a setting so that, when a task run is cancelled, OpenShift Pipelines stops the pod for the task run but does not delete the pod. To enable this setting, in the <code>TektonConfig</code> custom resource (CR) set the <code>pipeline.options.configMaps.feature-flags.data.keep-pod-on-cancel</code> spec to <code>true</code> and the <code>pipeline.enable-api-fields</code> spec to <code>alpha</code>.</p>
</li>
<li>
<p>Before this update, you had to enable alpha features in order to set compute resource limits on the task level. With this update, you can use the <code>computeResources</code> spec for a <code>TaskRun</code> CR to set the resource limits for a task.</p>
</li>
<li>
<p>With this update, when specifying a task and using the <code>displayName</code> parameter, you can use parameters that include the values of parameters, results, or context variables in the display name, for example, <code>$(params.application)</code>, <code>$(tasks.scan.results.report)</code>, <code>$(context.pipeline.name)</code>.</p>
</li>
<li>
<p>With this update, when specifying a remote pipeline or task using the hub resolver, in the <code>version</code> parameter you can use inequation constraints such as <code>&gt;=0.2.0,&lt; 1.0.0</code>.</p>
</li>
<li>
<p>With this update, when specifying a task you can use a Common Expression Language (CEL) expression in the <code>when</code> expression. To use this feature, you must set the <code>pipeline.options.configMaps.feature-flags.data.enable-cel-in-whenexpression</code> spec to <code>true</code> in the <code>TektonConfig</code> CR.</p>
</li>
<li>
<p>With this update, when specifying a pipeline in a <code>PipelineRun</code> CR spec, you can reference the results produced by an inline task in a subsequent inline task.</p>
<div class="listingblock">
<div class="title">Example usage</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml">  <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">tekton.dev/v1</span>
  <span class="na">kind</span><span class="pi">:</span> <span class="s">Task</span>
  <span class="na">metadata</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">uid-task</span>
  <span class="na">spec</span><span class="pi">:</span>
    <span class="na">results</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">uid</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">uid</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">alpine</span>
        <span class="na">command</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">/bin/sh"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">-c"</span><span class="pi">]</span>
        <span class="na">args</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">echo "1001" | tee $(results.uid.path)</span>
  <span class="s">---</span>
  <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">tekton.dev/v1</span>
  <span class="na">kind</span><span class="pi">:</span> <span class="s">PipelineRun</span>
  <span class="na">metadata</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">uid-pipeline-run</span>
  <span class="na">spec</span><span class="pi">:</span>
    <span class="na">pipelineSpec</span><span class="pi">:</span>
      <span class="na">tasks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">add-uid</span>
        <span class="na">taskRef</span><span class="pi">:</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">uid-task</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">show-uid</span>
        <span class="na">taskSpec</span><span class="pi">:</span>
          <span class="na">steps</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">show-uid</span>
              <span class="na">image</span><span class="pi">:</span> <span class="s">alpine</span>
              <span class="na">command</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">/bin/sh"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">-c"</span><span class="pi">]</span>
              <span class="na">args</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="s">echo $(tasks.add-uid.results.uid)</span></code></pre>
</div>
</div>
</li>
<li>
<p>With this update, when configuring the cluster resolver, you can set the value of the <code>blocked-namespaces</code> parameter to <code>*</code>. With this setting, only the namespaces listed in the <code>allowed-namespaces</code> parameter are allowed and all other namespaces are blocked.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="operator-new-features-1-13_op-release-notes"><a class="anchor" href="#operator-new-features-1-13_op-release-notes"></a>Operator</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, the <code>disable-affinity-assistant</code> feature flag has been deprecated and might be removed in a future release. Instead, in the <code>TektonConfig</code> CR, you can set the <code>pipeline.options.configMaps.feature-flags.data.coschedule</code> spec to one of the following values:</p>
<div class="ulist">
<ul>
<li>
<p><code>workspaces</code>: OpenShift Pipelines schedules all task runs that share the same workspace to the same node if the workspace allocates a persistent volume claim. This is the default setting.</p>
</li>
<li>
<p><code>pipelineruns</code>: OpenShift Pipelines schedules all task runs in a pipeline run to the same node.</p>
</li>
<li>
<p><code>isolate-pipelinerun</code>: OpenShift Pipelines schedules all task runs in a pipeline run to the same node and allows only one pipeline run to run on a node at the same time. This setting might delay pipeline runs if all nodes are used for other pipeline runs.</p>
</li>
<li>
<p><code>disabled</code>: OpenShift Pipelines does not apply any specific policy about alocating task runs to nodes.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-13_op-release-notes"><a class="anchor" href="#triggers-new-features-1-13_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, the core interceptor always created TLS secrets when starting. With this update, the core interceptor creates TLS secrets if a TLS secret is not present on the cluster or when a certificate in the existing secret has expired.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cli-new-features-1-13_op-release-notes"><a class="anchor" href="#cli-new-features-1-13_op-release-notes"></a>CLI</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, when you use the <code>tkn bundle push</code> command, the bundle is created with the creation time set to <code>1970-01-01T00:00:00Z</code> (Unix epoch time). This change ensures that bundle images created from the same source are always identical. You can use the <code>--ctime</code> parameter to set the creation time in the RFC3339 format. You can also use the <code>SOURCE_DATE_EPOCH</code> environment variable to set the creation time.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="pac-new-features-1-13_op-release-notes"><a class="anchor" href="#pac-new-features-1-13_op-release-notes"></a>Pipelines as Code</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, in Pipelines as Code, when using a CEL expression for advanced event matching (pipelinesascode.tekton.dev/on-cel-expression), you can use the <code>header</code> and <code>body</code> fields to access the full payload that is passed by the Git repository provider body. You can use this feature to filter events by any information that the Git repository sends.</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using the header and body of the payload in CEL expressions for event matching is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>With this update, when a Pipelines as Code pipeline run is triggered by a push event, you can use <code>/test</code>, <code>/test branch:&lt;branchname&gt;</code>, <code>/retest</code>, <code>/retest branch:&lt;branchname&gt;</code>, <code>/cancel</code>, and <code>/cancel branch:&lt;branchname&gt;</code> commands on the corresponding commit comment to re-run or cancel the pipeline run.</p>
</li>
<li>
<p>With this update, when using Pipelines as Code, you can use remote tasks on remote pipelines. Therefore, you can reuse a complete remote pipeline across multiple repositories. You can override tasks from the remote pipeline by adding a task with the same name.</p>
<div class="openblock">
<div class="content">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using remote tasks on remote pipelines and overriding tasks is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>With this update, when using Pipelines as Code, you can view improved information about CI pipeline runs in the Git repository provider. This information includes the namespace and the associated pipeline run.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes-1-13_op-release-notes"><a class="anchor" href="#breaking-changes-1-13_op-release-notes"></a>Breaking changes</h3>
<div class="ulist">
<ul>
<li>
<p>Before this update, in Pipelines as Code, when using a policy group, users who were not a part of policy groups and not allowed explicitly but allowed to run the CI  (via org ownership or otherwise) could sometimes execute pipeline runs by creating events such as pull requests or by entering commands such as <code>ok_to_test</code>. With this update, if policy groups are configured, only users that are added to the required policy groups can execute pipeline runs, and users that are a part of the owner organization but not configured in policy groups cannot execute pipeline runs.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-13_op-release-notes"><a class="anchor" href="#known-issues-1-13_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>To enable keeping pods when a task run is cancelled, along with setting the <code>pipeline.options.configMaps.feature-flags.data.keep-pod-on-cancel</code> spec to <code>true</code> in the <code>TektonConfig</code> CR, you also need to set the <code>pipeline.enable-api-fields</code> spec to <code>alpha</code> in the <code>TektonConfig</code> CR.</p>
</li>
<li>
<p>If you enable keeping pods when a task run is cancelled, when a task run is cancelled because of a default timeout or because you set a timeput in the pipeline specification, OpenShift Pipelines deletes the pod.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-13_op-release-notes"><a class="anchor" href="#fixed-issues-1-13_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Before this update, a secret that a pipeline run uses for Git authentication could be deleted from the cluster during a cleanup. With this update, a secret is deleted only when all pipeline runs that use it are deleted.</p>
</li>
<li>
<p>Before this update, in cases where multiple secrets shared the same prefix and were logged using the git interface, sometimes the concealing process started with a shorter secret, and a part of a longer secret could be displayed in the logs. With this update, when concealing secrets in logs, the process now starts from the longest secret, ensuring that no part of any secret is displayed in the logs.</p>
</li>
<li>
<p>Before this update, if you specified a <code>results</code> spec for a pipeline, the pipeline run could wrongly fail with a mismatched types error. With this update, if you specify a <code>results</code> spec for a pipeline, the results provided by the pipeline are correctly processed.</p>
</li>
<li>
<p>Before this update, when Tekton Chains was configured with KMS as Hashicorp Vault, the pod started crashing if there was an underlying error while connecting to Vault. This has now been fixed and the error is now recorded in the Tekton Chains controller log.</p>
</li>
<li>
<p>Before this update, when using Tekton Chains, if you configured the <code>storage.oci.repository</code> parameter, errors were reported in the Tekton Chains controller log. With this update, the <code>storage.oci.repository</code> parameter is processed correctly.</p>
</li>
<li>
<p>Before this update, when Tekton Chains was configured with the Hashicorp Vault KMS and there was an issue with the connection to Vault, the Tekton Chains controller pod could crash. With this update, the errors are processed and logged on the Tekton Chains controller log.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-12_op-release-notes"><a class="anchor" href="#op-release-notes-1-12_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.12</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.12 is available on OpenShift Container Platform 4.12 and later versions.</p>
</div>
<div class="sect2">
<h3 id="new-features-1-12_op-release-notes"><a class="anchor" href="#new-features-1-12_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>In addition to fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.12:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Before upgrading to the Red Hat OpenShift Pipelines Operator 1.12, ensure that you have at least installed the OpenShift Container Platform 4.12.19 or 4.13.1 version on your cluster.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="pipelines-new-features-1-12_op-release-notes"><a class="anchor" href="#pipelines-new-features-1-12_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, the web console includes a new gauge metric for pipeline runs and task runs. This metric indicates whether the underlying pods are being throttled by OpenShift Container Platform either because of resource quota policies defined in the namespace or because of resource constraints on the underlying node.</p>
</li>
<li>
<p>With this update, the new <code>set-security-context</code> feature flag is set to <code>true</code> by default, in order to enable task runs and pipeline runs to run in namespaces with restricted pod security admission policies.</p>
</li>
<li>
<p>With this update, the <code>enable-api-fields</code> flag is set to <code>beta</code> by default. You can use all features that are marked as <code>beta</code> in the code without further changes.</p>
</li>
<li>
<p>With this update, the <code>results.tekton.dev/*</code> and <code>chains.tekton.dev/*</code> reserved annotations are not passed from the pipeline run to the task runs that it creates.</p>
</li>
<li>
<p>Before this update, CSI volumes and projected volumes were not enabled by default. With this update, you can use CSI volumes and projected volumes in your pipelines without changing any configuration fields.</p>
</li>
<li>
<p>With this update, the isolated workspaces feature is enabled by default. You can use this feature to share a workspace with specified steps and sidecars without sharing it with the entire task run.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="operator-new-features-1-12_op-release-notes"><a class="anchor" href="#operator-new-features-1-12_op-release-notes"></a>Operator</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, you can configure the default security context constraint (SCC) for the pods that OpenShift Pipelines creates for pipeline runs and task runs. You can set the SCC separately for different namespaces and also configure the maximum (least restrictive) SCC that can be set for any namespace.</p>
</li>
<li>
<p>With this update, a new <code>options:</code> heading is available under each component in the TektonConfig spec. You can use parameters under this headings to control settings for different components. In particular, you can use parameters under the <code>platforms.openshift.pipelinesAsCode.options.configMaps.pac-config-logging.data</code> spec to set logging levels for components of Pipelines as Code.</p>
</li>
<li>
<p>With this update, you can use the new <code>spec.pipeline.performance.replicas</code> parameter to set the number of replicas that are created for the OpenShift Pipelines controller pod. If you previously set the replica counts in your deployment manually, you must now use this setting to control the replica counts.</p>
</li>
<li>
<p>With this update, the Operator ensures that the stored API version remains the same throughout your deployment of OpenShift Pipelines. The stored API version in OpenShift Pipelines 1.12 is <code>v1</code>.</p>
</li>
<li>
<p>With this update, you can use a secret to configure S3 bucket storage to store Tekton Results logging information. When configuring S3 bucket storage, you must provide the secret with the S3 storage credentials by using the new <code>secret_name</code> spec in the <code>TektonResult</code> custom resource (CR).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="tekton-results-new-features-1-12_op-release-notes"><a class="anchor" href="#tekton-results-new-features-1-12_op-release-notes"></a>Tekton Results</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Results is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, you can configure Tekton Results to store data in an external PostgreSQL server.</p>
</li>
<li>
<p>With this update, you can use Google Cloud Storage (GCS) to store Tekton Results logging information. You can provide the secret with the GCS storage credentials and then provide the secret name, secret key, and bucket name in properties under the <code>TektonResult</code> spec.  You can also use Workload Identity Federation for authentication.</p>
</li>
<li>
<p>With this update, any service account authenticated with OpenShift Pipelines can access the <code>TektonResult</code> CR.</p>
</li>
<li>
<p>With this update, Tekton Results includes cluster role aggregation for service accounts with admin, edit, and view roles. Cluster role binding is no longer required for these service accounts to access results and records using the Tekton Results API.</p>
</li>
<li>
<p>With this update, you can configure pruning for each <code>PipelineRun</code> or <code>TaskRun</code> resource by setting a <code>prune-per-resource</code> boolean field in the <code>TektonConfig</code> CR. You can also configure pruning for each <code>PipelineRun</code> or <code>TaskRun</code> resource in a  namespace by adding the <code>operator.tekton.dev/prune.prune-per-resource=true</code> annotation to that namespace.</p>
</li>
<li>
<p>With this update, if there are any changes in the OpenShift Container Platform cluster-wide proxy, Operator Lifecycle Manager (OLM) recreates the Red Hat OpenShift Pipelines Operator.</p>
</li>
<li>
<p>With this update, you can disable the pruner feature by setting the value of the <code>config.pruner.disabled</code> field to <code>true</code> in the <code>TektonConfig</code> CR.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-12_op-release-notes"><a class="anchor" href="#triggers-new-features-1-12_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, you can configure readiness and liveness probes on <code>Trigger</code> CRs. You can also set the value of the failure threshold for the probes; the default value is 3.</p>
</li>
<li>
<p>With this update, OpenShift Pipelines triggers add <code>Type</code> and <code>Subject</code> values when creating a response to a Cloud Events request.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cli-new-features-1-12_op-release-notes"><a class="anchor" href="#cli-new-features-1-12_op-release-notes"></a>CLI</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, the <code>tkn pipeline logs</code> command displays the logs of a pipeline or task that is referenced using a resolver.</p>
</li>
<li>
<p>With this update, when entering the <code>tkn bundle push</code> command, you can use the <code>--annotate</code> flag to provide additional annotations.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="pac-new-features-1-12_op-release-notes"><a class="anchor" href="#pac-new-features-1-12_op-release-notes"></a>Pipelines as Code</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, a Pipelines as Code pipeline run can include remote tasks fetched from multiple Artifact Hub or Tekton Hub instances and from different catalogs in the same hub instance.</p>
</li>
<li>
<p>With this update, you can use parameters under the <code>platforms.openshift.pipelinesAsCode.options.configMaps.pac-config-logging.data</code> spec in the <code>TektonConfig</code> CR to set logging levels for Pipelines as Code components.</p>
</li>
<li>
<p>With this update, you can set policies that allow certain actions only to members of a team and reject the actions when other users request them. Currently, the <code>pull_request</code> and <code>ok_to_test</code> actions support setting such policies.</p>
</li>
<li>
<p>With this update, you can pass arbitrary parameters in the incoming webhook as a JSON payload. OpenShift Pipelines passes these parameters to the pipeline run. To provide an additional security layer, you must explicitly define the permitted parameters in the <code>Repository</code> CR.</p>
</li>
<li>
<p>With this update, matching a large set of pipeline runs with a large number of remote annotations in Pipelines as Code is optimized. Pipelines as Code fetches the remote tasks only for the pipeline run that has matched.</p>
</li>
<li>
<p>With this update, you can use the <code>source_url</code> variable in a pipeline run template to retrieve information about the forked repository from where the event, such as a pull or push request, is triggered.</p>
<div class="listingblock">
<div class="title">Example usage</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">tekton.dev/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">PipelineRun</span>
<span class="c1"># ...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">params</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">source_url</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">{{</span><span class="nv"> </span><span class="s">source_url</span><span class="nv"> </span><span class="s">}}"</span>
  <span class="na">pipelineSpec</span><span class="pi">:</span>
    <span class="na">params</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">source_url</span>
<span class="c1"># ...</span></code></pre>
</div>
</div>
</li>
<li>
<p>With this update, if an authorized user provides an <code>ok-to-test</code> comment to trigger a pipeline run on the pull request from an unauthorized user and then the author makes further changes to the branch, Pipelines as Code triggers the pipelines. To disable triggering the pipeline until an authorized user provides a new <code>ok-to-test</code> comment, set the <code>pipelinesAsCode.settings.remember-ok-to-test</code> spec in the <code>TektonConfig</code> CR to false.</p>
</li>
<li>
<p>With this update, on the GitHub status check page, the table that shows the status of all tasks includes the display name of every task.</p>
</li>
<li>
<p>With this update, you can configure the <code>tags push</code> event in a pipeline run on GitLab.</p>
</li>
<li>
<p>With this update, you can use the <code>target_url</code> and <code>source_url</code> fields in Pipelines as Code Common Expression Language (CEL) expression filtering annotations to filter the request for a specific target or source.</p>
</li>
<li>
<p>With this update, when you configure fetching a remote GitHub URL using a token, you can include a branch name that contains a slash. You must encode the slash within the branch name as <code>%2F</code> to ensure proper parsing by Pipelines as Code, as in the following example URL: <code>https://github.com/organization/repository/blob/feature%2Fmainbranch/path/file</code>. In this example URL, the branch name is <code>feature/mainbranch</code> and the name of the file to fetch is <code>/path/file</code>.</p>
</li>
<li>
<p>With this update, you can use <code>--v1beta1</code> flag in the <code>tkn pac resolve</code> command. Use this flag if the pipeline run is generated with the <code>v1beta1</code> API version schema.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes-1-12_op-release-notes"><a class="anchor" href="#breaking-changes-1-12_op-release-notes"></a>Breaking changes</h3>
<div class="ulist">
<ul>
<li>
<p>With this update, you cannot use the <code>openshift-operators</code> namespace as the target namespace for installing OpenShift Pipelines. If you used the <code>openshift-operators</code> namespace as the target namespace, change the target namespace before upgrading to Red Hat OpenShift Pipelines Operator version 1.12. Otherwise, after the upgrade, you will not be able to change any configuration settings in the <code>TektonConfig</code> CR except the <code>targetNamespace</code> setting.</p>
</li>
<li>
<p>With this update, the new <code>spec.pipeline.performance.replicas</code> parameter controls the number of replicas that is created for every pod for a pipeline run or task run. If you previously set the replica counts in your deployment manually, after upgrading to OpenShift Pipelines version 1.12 you must use this parameter to control the replica counts.</p>
</li>
<li>
<p>With this update, the following parameters are no longer supported in the <code>TektonResult</code> CR:</p>
<div class="ulist">
<ul>
<li>
<p><code>db_user</code></p>
</li>
<li>
<p><code>db_password</code></p>
</li>
<li>
<p><code>s3_bucket_name</code></p>
</li>
<li>
<p><code>s3_endpoint</code></p>
</li>
<li>
<p><code>s3_hostname_immutable</code></p>
</li>
<li>
<p><code>s3_region</code></p>
</li>
<li>
<p><code>s3_access_key_id</code></p>
</li>
<li>
<p><code>s3_secret_access_key</code></p>
</li>
<li>
<p><code>s3_multi_part_size</code></p>
<div class="paragraph">
<p>You must provide these parameters using secrets. After upgrading to OpenShift Pipelines version 1.12, you must delete and re-create the <code>TektonResult</code> CR to provide these parameters.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>With this update, the <code>tkn pac bootstrap</code> command supports the <code>--github-hostname</code> flag. The <code>--github-api-url</code> flag is deprecated.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-12_op-release-notes"><a class="anchor" href="#known-issues-1-12_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>If limit ranges are configured for a namespace, but pod ephemeral storage is not configured in the limit ranges, pods can go into an error stage with the message <code>Pod ephemeral local storage usage exceeds the total limit of containers 0</code>.</p>
</li>
<li>
<p>If you want to make changes to the configuration in the <code>TektonResult</code> CR, you must delete the existing <code>TektonResult</code> CR and then create a new one. If you change an existing <code>TektonResult</code> CR, the changes are not applied to the existing deployment of Tekton Results. For example, if you change the connection from an internal database server to an external one or vice versa, the API remains connected to the old database.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-12_op-release-notes"><a class="anchor" href="#fixed-issues-1-12_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Before this update, Pipelines as Code ran pipeline runs based only on branch base names, and could  incorrectly trigger pipeline runs with the same base name but different branch name. With this update, Pipelines as Code checks both the base name and the exact branch name of a pipeline run.</p>
</li>
<li>
<p>Before this update, an incoming webhook event could trigger multiple pipeline runs configured for other events. With this update, an incoming webhook event triggers only a pipeline run configured for the webhook event.</p>
</li>
<li>
<p>With this update, the <code>pac-gitauth</code> secrets are now explicitly deleted when cleaning up a pipeline run, in case the <code>ownerRef</code> on the pipeline run gets removed.</p>
</li>
<li>
<p>Before this update, when a task in a pipeline run failed with a reason message, the entire pipeline run failed with a <code>PipelineValidationFailed</code> reason. With this update, the pipeline run fails with the same reason message as the task that failed.</p>
</li>
<li>
<p>Before this update, the <code>disable-ha</code> flag value was not correctly passed to the Pipelines controller, and the high availability (HA) functionality was never enabled. With this update, you can enable the HA functionality by setting the value of the <code>disable-ha</code> flag in the <code>TektonConfig</code> CR to <code>false</code>.</p>
</li>
<li>
<p>Before this update, the <code>skopeo-copy</code> cluster task would fail when attempting to copy images mentioned in  config map data. With this update, the <code>skopeo-copy</code> cluster task completes properly.</p>
</li>
<li>
<p>With this update, a pipeline run automatically generated by the <code>tkn pac generate language=java</code> command has correct annotations and parameter names.</p>
</li>
<li>
<p>Before this update, only a user with the administrative permissions could successfully run the <code>tkn pac create repository</code> command. With this update, any authorized user can run the <code>tkn pac create repository</code> command.</p>
</li>
<li>
<p>Before this update, the <code>/test &lt;run-name&gt;</code> and <code>/retest &lt;run-name&gt;</code> user comments, which specified a particular pipeline, did not trigger pipeline runs as expected. With this update, these comments trigger pipeline runs successfully.</p>
</li>
<li>
<p>Before this update, if there were multiple pipeline runs in the <code>.tekton</code> folder with the <code>generateName</code> field and not the <code>Name</code> field, the pipeline runs failed. This update fixes the issue.</p>
</li>
<li>
<p>Before this update, in Pipelines as Code when using GitLab, a pipeline run was triggered by any event in a merge request, including adding labels and setting status. With this update, the pipeline run is triggered only when there is an open, reopen, or push event. A comment containing the status of the checks is now posted on the merge request.</p>
</li>
<li>
<p>Before this update, while a pipeline run was waiting for approval, the status of the check could be displayed as <code>skipped</code> in the checks section of GitHub and Gitea pull requests. With this update, the correct <code>pending approval</code> status is displayed.</p>
</li>
<li>
<p>Before this update, the bundles resolver sometimes set the type to <code>Task</code> when attempting to retrieve a pipeline, leading to errors in retrieval. With this update, the resolver uses the correct type to retrieve a pipeline.</p>
</li>
<li>
<p>This update fixes an error in processing the Common Expression Language (CEL) NOT operator when querying Tekton Results.</p>
</li>
<li>
<p>This update fixed a <code>404</code> error response that was produced in the Tekton Results API when a <code>LIST</code> operation for records was requested and the specified result was <code>-</code>.</p>
</li>
<li>
<p>Before this update, in an <code>EventListener</code> object, the <code>status.address.url</code> field was always set to the default port. With this update, the <code>status.address.url</code> field is set to match the port specified in the <code>spec.resources.kubernetesresource.serviceport</code> parameter.</p>
</li>
<li>
<p>Before this update, if the GitHub API provided a paginated response, Pipelines as Code used only the first page of the response. With this update, all paginated responses are processed fully.</p>
</li>
<li>
<p>Before this update, the Tekton Chains controller crashed when the host address of KMS Hashicorp Vault was configured incorrectly or when Tekton Chains was unable to connect to the KMS Hashicorp Vault. With this update, Tekton Chains logs the connection error and does not crash.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-12-1_op-release-notes"><a class="anchor" href="#release-notes-1-12-1_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.12.1</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.12.1 is available on OpenShift Container Platform 4.12 and later versions.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-12-1_op-release-notes"><a class="anchor" href="#fixed-issues-1-12-1_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, if you configured Pipelines as Code with the custom console driver to output to a custom console, the Pipelines as Code controller crashed in certain cases. After you pushed changes to a pull request, the CI status check for this pull request could remain as <code>waiting for status to be reported</code> and the associated pipeline run did not complete. With this update, the Pipelines as Code controller operates normally. After you push changes to a pull request, the associated pipeline run completes normally and the CI status check for the pull request is updated.</p>
</li>
<li>
<p>Before this update, when using Pipelines as Code, if you created an access policy on the <code>Repository</code> custom resource (CR) that did not include a particular user and then added the user to the <code>OWNER</code> file in the Git repository, the user would have no rights for the Pipelines as Code CI process. For example, if the user created a pull request into the Git repository. the CI process would not run on this pull request automatically. With this update, a user who is not included in the access policy on the <code>Repository</code> CR but is included in the <code>OWNER</code> file is allowed to run the CI process for the repository.</p>
</li>
<li>
<p>With this update, the HTTP/2.0 protocol is not supported for webhooks. All webhook calls to Red Hat OpenShift Pipelines must use the HTTP/1.1 protocol.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-12-2_op-release-notes"><a class="anchor" href="#release-notes-1-12-2_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.12.2</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.12.2 is available on OpenShift Container Platform 4.12 and later versions.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-12-2_op-release-notes"><a class="anchor" href="#fixed-issues-1-12-2_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, the generated Git secret for the latest pipeline run was deleted when the <code>max-keep-runs</code> parameter was exceeded. With this update, the Git secret is no longer deleted on the latest pipeline run.</p>
</li>
<li>
<p>With this update, the S2I cluster task uses a General Availability container image.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-11_op-release-notes"><a class="anchor" href="#op-release-notes-1-11_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.11</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.11 is available on OpenShift Container Platform 4.12 and later versions.</p>
</div>
<div class="sect2">
<h3 id="new-features-1-11_op-release-notes"><a class="anchor" href="#new-features-1-11_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>In addition to fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.11:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Before upgrading to the Red Hat OpenShift Pipelines Operator 1.11, ensure that you have at least installed the OpenShift Container Platform 4.12.19 or 4.13.1 version on your cluster.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="pipelines-new-features-1-11_op-release-notes"><a class="anchor" href="#pipelines-new-features-1-11_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, you can use Red Hat OpenShift Pipelines on the OpenShift Container Platform cluster that runs on ARM hardware. You have support for the <code>ClusterTask</code> resources where images are available and the Tekton CLI tool on ARM hardware.</p>
</li>
<li>
<p>This update adds support for results, object parameters, array results, and indexing into an array when you set the <code>enable-api-fields</code> feature flag to <code>beta</code> value in the <code>TektonConfig</code> CR.</p>
</li>
<li>
<p>With this update, propagated parameters are now part of a stable feature. This feature enables interpolating parameters in embedded specifications to reduce verbosity in Tekton resources.</p>
</li>
<li>
<p>With this update, propagated workspaces are now part of a stable feature. You can enable the propagated workspaces feature by setting the <code>enable-api-fields</code> feature flag to <code>alpha</code> or <code>beta</code> value.</p>
</li>
<li>
<p>With this update, the <code>TaskRun</code> object fetches and displays the init container failure message to users when a pod fails to run.</p>
</li>
<li>
<p>With this update, you can replace parameters, results, and the context of a pipeline task while configuring a matrix as per the following guidelines:</p>
<div class="ulist">
<ul>
<li>
<p>Replace an array with an <code>array</code> parameter or a string with a <code>string</code>, <code>array</code>, or <code>object</code> parameter in the <code>matrix.params</code> configuration.</p>
</li>
<li>
<p>Replace a string with a <code>string</code>, <code>array</code>, or <code>object</code> parameter in the <code>matrix.include</code> configuration.</p>
</li>
<li>
<p>Replace the context of a pipeline task with another context in the <code>matrix.include</code> configuration.</p>
</li>
</ul>
</div>
</li>
<li>
<p>With this update, the <code>TaskRun</code> resource validation process also validates the <code>matrix.include</code> parameters. The validation checks whether all parameters have values and match the specified type, and object parameters have all the keys required.</p>
</li>
<li>
<p>This update adds a new <code>default-resolver-type</code> field in the <code>default-configs</code> config map. You can set the value of this field to configure a default resolver.</p>
</li>
<li>
<p>With this update, you can define and use a <code>PipelineRun</code> context variable in the <code>pipelineRun.workspaces.subPath</code> configuration.</p>
</li>
<li>
<p>With this update, the <code>ClusterResolver</code>, <code>BundleResolver</code>, <code>HubResolver</code>, and <code>GitResolver</code> features are now available by default.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-11_op-release-notes"><a class="anchor" href="#triggers-new-features-1-11_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, Tekton Triggers support the <code>Affinity</code> and <code>TopologySpreadConstraints</code> values in the <code>EventListener</code> specification. You can use these values to configure Kubernetes and custom resources for an <code>EventListener</code> object.</p>
</li>
<li>
<p>This update adds a Slack interceptor that allows you to extract fields by using a slash command in Slack. The extracted fields are sent in the form data section of an HTTP request.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="operator-new-features-1-11_op-release-notes"><a class="anchor" href="#operator-new-features-1-11_op-release-notes"></a>Operator</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, you can configure pruning for each <code>PipelineRun</code> or <code>TaskRun</code> resource by setting a <code>prune-per-resource</code> boolean field in the <code>TektonConfig</code> CR. You can also configure pruning for each <code>PipelineRun</code> or <code>TaskRun</code> resource in a  namespace by adding the <code>operator.tekton.dev/prune.prune-per-resource=true</code> annotation to that namespace.</p>
</li>
<li>
<p>With this update, if there are any changes in the OpenShift Container Platform cluster-wide proxy, Operator Lifecycle Manager (OLM) recreates the Red Hat OpenShift Pipelines Operator.</p>
</li>
<li>
<p>With this update, you can disable the pruner feature by setting the value of the <code>config.pruner.disabled</code> field to <code>true</code> in the <code>TektonConfig</code> CR.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="chains-new-features-1-11_op-release-notes"><a class="anchor" href="#chains-new-features-1-11_op-release-notes"></a>Tekton Chains</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, Tekton Chains is now generally available for use.</p>
</li>
<li>
<p>With this update, you can use the skopeo tool with Tekton Chains to generate keys, which are used in the <code>cosign</code> signing scheme.</p>
</li>
<li>
<p>When you upgrade to the Red Hat OpenShift Pipelines Operator 1.11, the previous Tekton Chains configuration will be overwritten and you must set it again in the <code>TektonConfig</code> CR.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="tekton-hub-new-features-1-11_op-release-notes"><a class="anchor" href="#tekton-hub-new-features-1-11_op-release-notes"></a>Tekton Hub</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Hub is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>This update adds a new <code>resource/&lt;catalog_name&gt;/&lt;kind&gt;/&lt;resource_name&gt;/raw</code> endpoint and a new <code>resourceURLPath</code> field in the <code>resource</code> API response. This update helps you to obtain the latest raw YAML file of the resource.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="tekton-results-new-features-1-11_op-release-notes"><a class="anchor" href="#tekton-results-new-features-1-11_op-release-notes"></a>Tekton Results</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Results is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>This update adds Tekton Results to the Tekton Operator as an optional component.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="pac-new-features-1-11_op-release-notes"><a class="anchor" href="#pac-new-features-1-11_op-release-notes"></a>Pipelines as Code</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, Pipelines as Code allows you to expand a custom parameter within your <code>PipelineRun</code> resource by using the <code>params</code> field. You can specify a value for the custom parameter inside the template of the <code>Repository</code> CR. The specified value replaces the custom parameter in your pipeline run. Also, you can define a custom parameter and use its expansion only when specified conditions are compatible with a Common Expression Language (CEL) filter.</p>
</li>
<li>
<p>With this update, you can either rerun a specific pipeline or all pipelines by clicking the <strong>Re-run all checks</strong> button in the <strong>Checks</strong> tab of the GitHub interface.</p>
</li>
<li>
<p>This update adds a new <code>tkn pac info</code> command to the Pipelines as Code CLI. As an administrator, you can use the <code>tkn pac info</code> command to obtain the following details about the Pipelines as Code installation:</p>
<div class="ulist">
<ul>
<li>
<p>The location where Pipelines as Code is installed.</p>
</li>
<li>
<p>The version number of Pipelines as Code.</p>
</li>
<li>
<p>An overview of the <code>Repository</code> CR created on the cluster and the URL associated with the repository.</p>
</li>
<li>
<p>Details of any installed GitHub applications.</p>
<div class="paragraph">
<p>With this command, you can also specify a custom GitHub API URL by using the <code>--github-api-url</code> argument.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>This update enables error detection for all <code>PipelineRun</code> resources by default. Pipelines as Code detects if a <code>PipelineRun</code> resource execution has failed and shows a snippet of the last few lines of the error. For a GitHub application, Pipelines as Code detects error messages in the container logs and exposes them as annotations on a pull request.</p>
</li>
<li>
<p>With this update, you can fetch tasks from a private Tekton Hub instance attached to a private Git repository. To enable this update, Pipelines as Code uses the internal raw URL of the private Tekton Hub instance instead of using the GitHub raw URL.</p>
</li>
<li>
<p>Before this update, Pipelines as Code provided logs that would not include the namespace detail. With this update, Pipelines as Code adds the namespace information to the pipeline logs so that you can filter them based on a namespace and debug easily.</p>
</li>
<li>
<p>With this update, you can define the provenance source from where the <code>PipelineRun</code> resource definition is to be fetched. By default, Pipelines as Code fetches the <code>PipelineRun</code> resource definition from the branch where the event has been triggered. Now, you can configure the value of the <code>pipelinerun_provenance</code> setting to <code>default_branch</code> so that the <code>PipelineRun</code> resource definition is fetched from the default branch of the repository as configured on GitHub.</p>
</li>
<li>
<p>With this update, you can extend the scope of the GitHub token at the following levels:</p>
<div class="ulist">
<ul>
<li>
<p>Repository-level: Use this level to extend the scope to the repositories that exist in the same namespace in which the original repository exists.</p>
</li>
<li>
<p>Global-level: Use this level to extend the scope to the repositories that exist in a different namespace.</p>
</li>
</ul>
</div>
</li>
<li>
<p>With this update, Pipelines as Code triggers a CI pipeline for a pull request created by a user who is not an owner, collaborator, or public member or is not listed in the <code>owner</code> file but has permission to push changes to the repository.</p>
</li>
<li>
<p>With this update, the custom console setting allows you to use custom parameters from a <code>Repository</code> CR.</p>
</li>
<li>
<p>With this update, Pipelines as Code changes all <code>PipelineRun</code> labels to <code>PipelineRun</code> annotations. You can use a <code>PipelineRun</code> annotation to mark a Tekton resource, instead of using a <code>PipelineRun</code> label.</p>
</li>
<li>
<p>With this update, you can use the <code>pac-config-logging</code> config map for watcher and webhook resources, but not for the Pipelines as Code controller.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes-1-11_op-release-notes"><a class="anchor" href="#breaking-changes-1-11_op-release-notes"></a>Breaking changes</h3>
<div class="ulist">
<ul>
<li>
<p>This update replaces the <code>resource-verification-mode</code> feature flag with a new <code>trusted-resources-verification-no-match-policy</code> flag in the pipeline specification.</p>
</li>
<li>
<p>With this update, you cannot edit the Tekton Chains CR. Instead, edit the <code>TektonConfig</code> CR to configure Tekton Chains.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-11_op-release-notes"><a class="anchor" href="#deprecated-features-1-11_op-release-notes"></a>Deprecated and removed features</h3>
<div class="ulist">
<ul>
<li>
<p>This update removes support for the <code>PipelineResource</code> commands and references from Tekton CLI:</p>
<div class="ulist">
<ul>
<li>
<p>Removal of pipeline resources from cluster tasks</p>
</li>
<li>
<p>Removal of pipeline resources from tasks</p>
</li>
<li>
<p>Removal of pipeline resources from pipelines</p>
</li>
<li>
<p>Removal of resource commands</p>
</li>
<li>
<p>Removal of input and output resources from the <code>clustertask describe</code> command</p>
</li>
</ul>
</div>
</li>
<li>
<p>This update removes support for the <code>full</code> embedded status from Tekton CLI.</p>
</li>
<li>
<p>The <code>taskref.bundle</code> and <code>pipelineref.bundle</code> bundles are deprecated and will be removed in a future release.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.11, support for the <code>PipelineResource</code> CR has been removed, use the <code>Task</code> CR instead.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.11, support for the <code>v1alpha1.Run</code> objects has been removed. You must upgrade the objects from <code>v1alpha1.Run</code> to <code>v1beta1.CustomRun</code> before upgrading to this release.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.11, the <code>custom-task-version</code> feature flag has been removed.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.11, the <code>pipelinerun.status.taskRuns</code> and <code>pipelinerun.status.runs</code> fields have been removed along with the <code>embedded-status</code> feature flag. Use the <code>pipelinerun.status.childReferences</code> field instead.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-11_op-release-notes"><a class="anchor" href="#known-issues-1-11_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>Setting the <code>prune-per-resource</code> boolean field does not delete <code>PipelineRun</code> or <code>TaskRun</code> resources if they were not part of any pipeline or task.</p>
</li>
<li>
<p>Tekton CLI does not show logs of the <code>PipelineRun</code> resources that are created by using resolvers.</p>
</li>
<li>
<p>When you filter your pipeline results based on the <code>order_by=created_time+desc&amp;page_size=1</code> query, you get zero records without any <code>nextPageToken</code> value in the output.</p>
</li>
<li>
<p>When you set the value of the <code>loglevel.pipelinesascode</code> field to <code>debug</code>, no debugging logs are generated in the Pipelines as Code controller pod. As a workaround, restart the Pipelines as Code controller pod.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-11_op-release-notes"><a class="anchor" href="#fixed-issues-1-11_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Before this update, Pipelines as Code failed to create a <code>PipelineRun</code> resource while detecting the <code>generateName</code> field in the <code>PipelineRun</code> CR. With this update, Pipelines as Code supports providing the <code>generateName</code> field in the <code>PipelineRun</code> CR.</p>
</li>
<li>
<p>Before this update, when you created a <code>PipelineRun</code> resource from the web console, all annotations would be copied from the pipeline, causing issues for the running nodes. This update now resolves the issue.</p>
</li>
<li>
<p>This update fixes the <code>tkn pr delete</code> command for the <code>keep</code> flag. Now, if the value of the <code>keep</code> flag is equal to the number of the associated task runs or pipeline runs, then the command returns the exit code <code>0</code> along with a message.</p>
</li>
<li>
<p>Before this update, the Tekton Operator did not expose the performance configuration fields for any customizations. With this update, as a cluster administrator, you can customize the following performance configuration fields in the <code>TektonConfig</code> CR based on your needs:</p>
<div class="ulist">
<ul>
<li>
<p><code>disable-ha</code></p>
</li>
<li>
<p><code>buckets</code></p>
</li>
<li>
<p><code>kube-api-qps</code></p>
</li>
<li>
<p><code>kube-api-burst</code></p>
</li>
<li>
<p><code>threads-per-controller</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>This update fixes the remote bundle resolver to perform a case-insensitive comparison of the <code>kind</code> field with the <code>dev.tekton.image.kind</code> annotation value in the bundle.</p>
</li>
<li>
<p>Before this update, pods for remote resolvers were terminated because of insufficient memory when you would clone a large Git repository. This update fixes the issue and increases the memory limit for deploying remote resolvers.</p>
</li>
<li>
<p>With this update, task and pipeline resources of <code>v1</code> type are supported in remote resolution.</p>
</li>
<li>
<p>This update reverts the removal of embedded <code>TaskRun</code> status from the API.  The embedded <code>TaskRun</code> status is now available as a deprecated feature to support compatibility with older versions of the client-server.</p>
</li>
<li>
<p>Before this update, all annotations were merged into <code>PipelineRun</code> and <code>TaskRun</code> resources even if they were not required for the execution. With this update, when you merge annotations into <code>PipelineRun</code> and <code>TaskRun</code> resources, the <code>last-applied-configuration</code> annotation is skipped.</p>
</li>
<li>
<p>This update fixes a regression issue and prevents the validation of a skipped task result in pipeline results. For example, if the pipeline result references a skipped <code>PipelineTask</code> resource, then the pipeline result is not emitted and the <code>PipelineRun</code> execution does not fail due to a missing result.</p>
</li>
<li>
<p>This update uses the pod status message to determine the cause of a pod termination.</p>
</li>
<li>
<p>Before this update, the default resolver was not set for the execution of the <code>finally</code> tasks. This update sets the default resolver for the <code>finally</code> tasks.</p>
</li>
<li>
<p>With this update, Red Hat OpenShift Pipelines avoids occasional failures of the <code>TaskRun</code> or <code>PipelineRun</code> execution when you use remote resolution.</p>
</li>
<li>
<p>Before this update, a long pipeline run would be stuck in the running state on the cluster, even after the timeout. This update fixes the issue.</p>
</li>
<li>
<p>This update fixes the <code>tkn pr delete</code> command for correctly using the <code>keep</code> flag. With this update, if the value of the <code>keep</code> flag equals the number of associated task runs or pipeline runs, the <code>tkn pr delete</code> command returns exit code <code>0</code> along with a message.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-11-1_op-release-notes"><a class="anchor" href="#release-notes-1-11-1_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.11.1</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.11.1 is available on OpenShift Container Platform 4.12 and later versions.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-11-1_op-release-notes"><a class="anchor" href="#fixed-issues-1-11-1_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, a task run could fail with a mount path error message, when a running or pending pod was preempted. With this update, a task run does not fail when the cluster causes a pod to be deleted and re-created.</p>
</li>
<li>
<p>Before this update, a shell script in a task had to be run as root. With this update, the shell script image has the non-root user ID set so that you can run a task that includes a shell script, such as the <code>git-clone</code> task, as a non-root user within the pod.</p>
</li>
<li>
<p>Before this update, in Red Hat OpenShift Pipelines 1.11.0, when a pipeline run is defined using Pipelines as Code, the definition in the Git repository references the <code>tekton.dev/v1beta1</code> API version and includes a <code>spec.pipelineRef.bundle</code> entry, the <code>kind</code> parameter for the bundle reference was wrongly set to <code>Task</code>. The issue did not exist in earlier versions of Red Hat OpenShift Pipelines. With this update, the <code>kind</code> parameter is set correctly.</p>
</li>
<li>
<p>Before this update, the <code>disable-ha</code> flag was not correctly passed to the <code>tekton-pipelines</code> controller, so the High Availability (HA) feature of Red Hat OpenShift Pipelines could not be enabled. With this update, the <code>disable-ha</code> flag  is correctly passed and you can enable the HA feature as required.</p>
</li>
<li>
<p>Before this update, you could not set the URL for Tekton Hub and Artifact Hub for the hub resolver, so you could use only the preset addresses of Tekton Hub and Artifact Hub. With this update, you can configure the URL for Tekton Hub and Artifact Hub for the hub resolver, for example, to use a custom Tekton Hub instance that you installed.</p>
</li>
<li>
<p>With this update, the SHA digest of the <code>git-init</code> image corresponds to version 1.10.5, which is the current released version of the image.</p>
</li>
<li>
<p>Before this update, the <code>tekton-pipelines-controller</code> component used a config map named <code>config-leader-election</code>. This name is the default value for knative controllers, so the configuration process for OpenShift Pipelines could affect other controllers and vice versa. With this update, the component uses a unique config name, so the configuration process for OpenShift Pipelines does not affect other controllers and is not affected by other controllers.</p>
</li>
<li>
<p>Before this update, when a user without write access to a GitHub repository opened a pull request, Pipelines as Code CI/CD actions would show as <code>skipped</code> in GitHub. With this update, Pipelines as Code CI/CD actions are shown as <code>Pending approval</code> in GitHub.</p>
</li>
<li>
<p>Before this update, Pipelines as Code ran CI/CD actions for every pull request into a branch that matched a configured branch name. With this update, Pipelines as Code runs CI/CD actions only when the source branch of the pull request matches the exact configured branch name.</p>
</li>
<li>
<p>Before this update, metrics for the Pipelines as Code controller were not visible in the OpenShift Container Platform developer console. With this update, metrics for the Pipelines as Code controller are displayed in the developer console.</p>
</li>
<li>
<p>Before this update, in Red Hat OpenShift Pipelines 1.11.0, the Operator always installed Tekton Chains and you could not disable installation of the Tekton Chains component. With this update, you can set the value of the <code>disabled</code> parameter to <code>true</code> in the <code>TektonConfig</code> CR  to disable installation okindf Tekton Chains.</p>
</li>
<li>
<p>Before this update, if you configured Tekton Chains on an older version of OpenShift Pipelines using the <code>TektonChain</code> CR and then upgraded to OpenShift Pipelines version 1.11.0, the configuration information was overwritten. With this update, if you upgrade from an older version of OpenShift Pipelines and Tekton Chains was configured in the same namespace where the <code>TektonConfig</code> is installed (<code>openshift-pipelines</code>), Tekton Chains configuration information is preserved.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-11-2_op-release-notes"><a class="anchor" href="#release-notes-1-11-2_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.11.2</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.11.2 is available on OpenShift Container Platform 4.12 and later versions.</p>
</div>
<div class="paragraph">
<p>This update includes an updated version of the <code>tkn</code> command line tool. You can download the updated version of this tool at the following locations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.11.2/x86_64/linux/tkn-linux-amd64.tar.gz">Linux (x86_64, amd64)</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.11.2/s390x/linux/tkn-linux-s390x.tar.gz">Linux on IBM zSystems and IBM&#174; LinuxONE (s390x)</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.11.2/ppc64le/linux/tkn-linux-ppc64le.tar.gz">Linux on IBM Power (ppc64le)</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.11.2/arm64/linux/tkn-linux-arm64.tar.gz">Linux on ARM (aarch64, arm64)</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.11.2/x86_64/windows/tkn-windows-amd64.zip">Windows</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.11.2/x86_64/macos/tkn-macos-amd64.tar.gz">macOS</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.11.2/arm64/macos/tkn-macos-arm64.tar.gz">macOS on ARM</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you installed the <code>tkn</code> command line tool using RPM on Red Hat Enterprise Linux (RHEL), use the <code>yum update</code> command to install the updated version.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-11-2_op-release-notes"><a class="anchor" href="#fixed-issues-1-11-2_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, the <code>tkn pac resolve -f</code> command did not detect the existing secret for authentication with the Git repository. With this update, this command successfully detects the secret.</p>
</li>
<li>
<p>With this update, you can use <code>--v1beta1</code> flag in the <code>tkn pac resolve</code> command. Use this flag if you want to generate the pipeline run with the <code>v1beta1</code> API version schema.</p>
</li>
<li>
<p>Before this update, the <code>tkn pr logs</code> command failed to display the logs for a pipeline run if this pipeline run referenced a resolver. With this update, the command displays the logs.</p>
</li>
<li>
<p>With this update, the SHA digest of the <code>git-init</code> image corresponds to version 1.12.1, which is the current released version of the image</p>
</li>
<li>
<p>With this update, the HTTP/2.0 protocol is not supported for webhooks. All webhook calls to Red Hat OpenShift Pipelines must use the HTTP/1.1 protocol.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="known-issues"><a class="anchor" href="#known-issues"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>If you use the Bundles resolver to define a pipeline run and then use the <code>tkn pac resolve --v1beta1</code> command for this pipeline run, the command generates incorrect YAML output. The <code>kind</code> parameter for the bundle is set to <code>Task</code> in the YAML output. As a workaround, you can set the correct value in the YAML data manually. Alternatively, you can use the <code>opc pac resolve --v1beta1</code> command or use the version of the <code>tkn</code> tool included with OpenShift Pipelines version 1.12.0 or later.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-10_op-release-notes"><a class="anchor" href="#op-release-notes-1-10_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.10</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.10 is available on OpenShift Container Platform 4.11, 4.12, and 4.13.</p>
</div>
<div class="sect2">
<h3 id="new-features-1-10_op-release-notes"><a class="anchor" href="#new-features-1-10_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>In addition to fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.10.</p>
</div>
<div class="sect3">
<h4 id="pipelines-new-features-1-10_op-release-notes"><a class="anchor" href="#pipelines-new-features-1-10_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, you can specify environment variables in a <code>PipelineRun</code> or <code>TaskRun</code> pod template to override or append the variables that are configured in a task or step. Also, you can specify environment variables in a default pod template to use those variables globally for all <code>PipelineRuns</code> and <code>TaskRuns</code>. This update also adds a new default configuration named <code>forbidden-envs</code> to filter environment variables while propagating from pod templates.</p>
</li>
<li>
<p>With this update, custom tasks in pipelines are enabled by default.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To disable this update, set the <code>enable-custom-tasks</code> flag to <code>false</code> in the <code>feature-flags</code> config custom resource.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>This update supports the <code>v1beta1.CustomRun</code> API version for custom tasks.</p>
</li>
<li>
<p>This update adds support for the <code>PipelineRun</code> reconciler to create a custom run. For example, custom <code>TaskRuns</code> created from <code>PipelineRuns</code> can now use the <code>v1beta1.CustomRun</code> API version instead of <code>v1alpha1.Run</code>, if the <code>custom-task-version</code> feature flag is set to <code>v1beta1</code>, instead of the default value <code>v1alpha1</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You need to update the custom task controller to listen for the <code>*v1beta1.CustomRun</code> API version instead of <code>*v1alpha1.Run</code> in order to respond to <code>v1beta1.CustomRun</code> requests.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>This update adds a new <code>retries</code> field to the <code>v1beta1.TaskRun</code> and <code>v1.TaskRun</code> specifications.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-10_op-release-notes"><a class="anchor" href="#triggers-new-features-1-10_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, triggers support the creation of <code>Pipelines</code>, <code>Tasks</code>, <code>PipelineRuns</code>, and <code>TaskRuns</code> objects of the <code>v1</code> API version along with <code>CustomRun</code> objects of the <code>v1beta1</code> API version.</p>
</li>
<li>
<p>With this update, GitHub Interceptor blocks a pull request trigger from being executed unless invoked by an owner or with a configurable comment by an owner.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To enable or disable this update, set the value of the <code>githubOwners</code> parameter to <code>true</code> or <code>false</code> in the GitHub Interceptor configuration file.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>With this update, GitHub Interceptor has the ability to add a comma delimited list of all files that have changed for the push and pull request events. The list of changed files is added to the <code>changed_files</code> property of the event payload in the top-level extensions field.</p>
</li>
<li>
<p>This update changes the <code>MinVersion</code> of TLS to <code>tls.VersionTLS12</code> so that triggers run on OpenShift Container Platform when the Federal Information Processing Standards (FIPS) mode is enabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cli-new-features-1-10_op-release-notes"><a class="anchor" href="#cli-new-features-1-10_op-release-notes"></a>CLI</h4>
<div class="ulist">
<ul>
<li>
<p>This update adds support to pass a Container Storage Interface (CSI) file as a workspace at the time of starting a <code>Task</code>, <code>ClusterTask</code> or <code>Pipeline</code>.</p>
</li>
<li>
<p>This update adds <code>v1</code> API support to all CLI commands associated with task, pipeline, pipeline run, and task run resources. Tekton CLI works with both <code>v1beta1</code> and <code>v1</code> APIs for these resources.</p>
</li>
<li>
<p>This update adds support for an object type parameter in the <code>start</code> and <code>describe</code> commands.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="operator-new-features-1-10_op-release-notes"><a class="anchor" href="#operator-new-features-1-10_op-release-notes"></a>Operator</h4>
<div class="ulist">
<ul>
<li>
<p>This update adds a <code>default-forbidden-env</code> parameter in optional pipeline properties. The parameter includes forbidden environment variables that should not be propagated if provided through pod templates.</p>
</li>
<li>
<p>This update adds support for custom logos in Tekton Hub UI. To add a custom logo, set the value of the <code>customLogo</code> parameter to base64 encoded URI of logo in the Tekton Hub CR.</p>
</li>
<li>
<p>This update increments the version number of the git-clone task to 0.9.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="chains-new-features-1-10_op-release-notes"><a class="anchor" href="#chains-new-features-1-10_op-release-notes"></a>Tekton Chains</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Chains is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>This update adds annotations and labels to the <code>PipelineRun</code> and <code>TaskRun</code> attestations.</p>
</li>
<li>
<p>This update adds a new format named <code>slsa/v1</code>, which generates the same provenance as the one generated when requesting in the <code>in-toto</code> format.</p>
</li>
<li>
<p>With this update, Sigstore features are moved out from the experimental features.</p>
</li>
<li>
<p>With this update, the <code>predicate.materials</code> function includes image URI and digest information from all steps and sidecars for a <code>TaskRun</code> object.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="tekton-hub-new-features-1-10_op-release-notes"><a class="anchor" href="#tekton-hub-new-features-1-10_op-release-notes"></a>Tekton Hub</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Hub is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>This update supports installing, upgrading, or downgrading Tekton resources of the <code>v1</code> API version on the cluster.</p>
</li>
<li>
<p>This update supports adding a custom logo in place of the Tekton Hub logo in UI.</p>
</li>
<li>
<p>This update extends the <code>tkn hub install</code> command functionality by adding a <code>--type artifact</code> flag, which fetches resources from the Artifact Hub and installs them on your cluster.</p>
</li>
<li>
<p>This update adds support tier, catalog, and org information as labels to the resources being installed from Artifact Hub to your cluster.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="pac-new-features-1-10_op-release-notes"><a class="anchor" href="#pac-new-features-1-10_op-release-notes"></a>Pipelines as Code</h4>
<div class="ulist">
<ul>
<li>
<p>This update enhances incoming webhook support. For a GitHub application installed on the OpenShift Container Platform cluster, you do not need to provide the <code>git_provider</code> specification for an incoming webhook. Instead, Pipelines as Code detects the secret and use it for the incoming webhook.</p>
</li>
<li>
<p>With this update, you can use the same token to fetch remote tasks from the same host on GitHub with a non-default branch.</p>
</li>
<li>
<p>With this update, Pipelines as Code supports Tekton <code>v1</code> templates. You can have <code>v1</code> and <code>v1beta1</code> templates, which Pipelines as Code reads for PR generation. The PR is created as <code>v1</code> on cluster.</p>
</li>
<li>
<p>Before this update, OpenShift console UI would use a hardcoded pipeline run template as a fallback template when a runtime template was not found in the OpenShift namespace. This update in the <code>pipelines-as-code</code> config map provides a new default pipeline run template named, <code>pipelines-as-code-template-default</code> for the console to use.</p>
</li>
<li>
<p>With this update, Pipelines as Code supports Tekton Pipelines 0.44.0 minimal status.</p>
</li>
<li>
<p>With this update, Pipelines as Code supports Tekton <code>v1</code> API, which means Pipelines as Code is now compatible with Tekton v0.44 and later.</p>
</li>
<li>
<p>With this update, you can configure custom console dashboards in addition to configuring a console for OpenShift and Tekton dashboards for k8s.</p>
</li>
<li>
<p>With this update, Pipelines as Code detects the installation of a GitHub application initiated using the <code>tkn pac create repo</code> command and does not require a GitHub webhook if it was installed globally.</p>
</li>
<li>
<p>Before this update, if there was an error on a <code>PipelineRun</code> execution and not on the tasks attached to <code>PipelineRun</code>, Pipelines as Code would not report the failure properly. With this update, Pipelines as Code reports the error properly on the GitHub checks when a <code>PipelineRun</code> could not be created.</p>
</li>
<li>
<p>With this update, Pipelines as Code includes a <code>target_namespace</code> variable, which expands to the currently running namespace where the <code>PipelineRun</code> is executed.</p>
</li>
<li>
<p>With this update, Pipelines as Code lets you bypass GitHub enterprise questions in the CLI bootstrap GitHub application.</p>
</li>
<li>
<p>With this update, Pipelines as Code does not report errors when the repository CR was not found.</p>
</li>
<li>
<p>With this update, Pipelines as Code reports an error if multiple pipeline runs with the same name were found.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes-1-10_op-release-notes"><a class="anchor" href="#breaking-changes-1-10_op-release-notes"></a>Breaking changes</h3>
<div class="ulist">
<ul>
<li>
<p>With this update, the prior version of the <code>tkn</code> command is not compatible with Red Hat OpenShift Pipelines 1.10.</p>
</li>
<li>
<p>This update removes support for <code>Cluster</code> and <code>CloudEvent</code> pipeline resources from Tekton CLI. You cannot create pipeline resources by using the <code>tkn pipelineresource create</code> command. Also, pipeline resources are no longer supported in the <code>start</code> command of a task, cluster task, or pipeline.</p>
</li>
<li>
<p>This update removes <code>tekton</code> as a provenance format from Tekton Chains.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-10_op-release-notes"><a class="anchor" href="#deprecated-features-1-10_op-release-notes"></a>Deprecated and removed features</h3>
<div class="ulist">
<ul>
<li>
<p>In Red Hat OpenShift Pipelines 1.10, the <code>ClusterTask</code> commands are now deprecated and are planned to be removed in a future release. The <code>tkn task create</code> command is also deprecated with this update.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.10, the flags <code>-i</code> and <code>-o</code> that were used with the <code>tkn task start</code> command are now deprecated because the <code>v1</code> API does not support pipeline resources.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.10, the flag <code>-r</code> that was used with the <code>tkn pipeline start</code> command is deprecated because the <code>v1</code> API does not support pipeline resources.</p>
</li>
<li>
<p>The Red Hat OpenShift Pipelines 1.10 update sets the <code>openshiftDefaultEmbeddedStatus</code> parameter to <code>both</code> with <code>full</code> and <code>minimal</code> embedded status. The flag to change the default embedded status  is also deprecated and will be removed. In addition, the pipeline default embedded status will be changed to <code>minimal</code> in a future release.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-10_op-release-notes"><a class="anchor" href="#known-issues-1-10_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>This update includes the following backward incompatible changes:</p>
<div class="ulist">
<ul>
<li>
<p>Removal of the <code>PipelineResources</code> cluster</p>
</li>
<li>
<p>Removal of the <code>PipelineResources</code> cloud event</p>
</li>
</ul>
</div>
</li>
<li>
<p>If the pipelines metrics feature does not work after a cluster upgrade, run the following command as a workaround:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get tektoninstallersets.operator.tekton.dev | <span class="nb">awk</span> <span class="s1">'/pipeline-main-static/ {print $1}'</span> | xargs oc delete tektoninstallersets</code></pre>
</div>
</div>
</li>
<li>
<p>With this update, usage of external databases, such as the Crunchy PostgreSQL is not supported on IBM Power, IBM zSystems, and IBM&#174; LinuxONE. Instead, use the default Tekton Hub database.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-10_op-release-notes"><a class="anchor" href="#fixed-issues-1-10_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Before this update, the <code>opc pac</code> command generated a runtime error instead of showing any help. This update fixes the <code>opc pac</code> command to show the help message.</p>
</li>
<li>
<p>Before this update, running the <code>tkn pac create repo</code> command needed the webhook details for creating a repository. With this update, the <code>tkn-pac create repo</code> command does not configure a webhook when your GitHub application is installed.</p>
</li>
<li>
<p>Before this update, Pipelines as Code would not report a pipeline run creation error when Tekton Pipelines had issues creating the <code>PipelineRun</code> resource. For example, a non-existing task in a pipeline run would show no status. With this update, Pipelines as Code shows the proper error message coming from Tekton Pipelines along with the task that is missing.</p>
</li>
<li>
<p>This update fixes UI page redirection after a successful authentication. Now, you are redirected to the same page where you had attempted to log in to Tekton Hub.</p>
</li>
<li>
<p>This update fixes the <code>list</code> command with these flags, <code>--all-namespaces</code> and <code>--output=yaml</code>, for a cluster task, an individual task, and a pipeline.</p>
</li>
<li>
<p>This update removes the forward slash in the end of the <code>repo.spec.url</code> URL so that it matches the URL coming from GitHub.</p>
</li>
<li>
<p>Before this update, the <code>marshalJSON</code> function would not marshal a list of objects. With this update, the <code>marshalJSON</code> function marshals the list of objects.</p>
</li>
<li>
<p>With this update, Pipelines as Code lets you bypass GitHub enterprise questions in the CLI bootstrap GitHub application.</p>
</li>
<li>
<p>This update fixes the GitHub collaborator check when your repository has more than 100 users.</p>
</li>
<li>
<p>With this update, the <code>sign</code> and <code>verify</code> commands for a task or pipeline now work without a kubernetes configuration file.</p>
</li>
<li>
<p>With this update, Tekton Operator cleans leftover pruner cron jobs if pruner has been skipped on a namespace.</p>
</li>
<li>
<p>Before this update, the API <code>ConfigMap</code> object would not be updated with a user configured value for a catalog refresh interval. This update fixes the <code>CATALOG_REFRESH_INTERVAL</code> API in the Tekon Hub CR.</p>
</li>
<li>
<p>This update fixes reconciling of <code>PipelineRunStatus</code> when changing the <code>EmbeddedStatus</code> feature flag. This update resets the following parameters:</p>
<div class="ulist">
<ul>
<li>
<p>The <code>status.runs</code> and <code>status.taskruns</code> parameters to <code>nil</code> with <code>minimal EmbeddedStatus</code></p>
</li>
<li>
<p>The <code>status.childReferences</code> parameter to <code>nil</code> with <code>full EmbeddedStatus</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>This update adds a conversion configuration to the <code>ResolutionRequest</code> CRD. This update properly configures conversion from the <code>v1alpha1.ResolutionRequest</code> request to the <code>v1beta1.ResolutionRequest</code> request.</p>
</li>
<li>
<p>This update checks for duplicate workspaces associated with a pipeline task.</p>
</li>
<li>
<p>This update fixes the default value for enabling resolvers in the code.</p>
</li>
<li>
<p>This update fixes <code>TaskRef</code> and <code>PipelineRef</code> names conversion by using a resolver.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-10-1_op-release-notes"><a class="anchor" href="#release-notes-1-10-1_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.10.1</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.10.1 is available on OpenShift Container Platform 4.11, 4.12, and 4.13.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-10-1_op-release-notes"><a class="anchor" href="#fixed-issues-1-10-1_op-release-notes"></a>Fixed issues for Pipelines as Code</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, if the source branch information coming from payload included <code>refs/heads/</code> but the user-configured target branch only included the branch name, <code>main</code>,in a CEL expression, the push request would fail. With this update, Pipelines as Code passes the push request and triggers a pipeline if either the base branch or target branch has <code>refs/heads/</code> in the payload.</p>
</li>
<li>
<p>Before this update, when a <code>PipelineRun</code> object could not be created, the error received from the Tekton controller was not reported to the user. With this update, Pipelines as Code reports the error messages to the GitHub interface so that users can troubleshoot the errors. Pipelines as Code also reports the errors that occurred during pipeline execution.</p>
</li>
<li>
<p>With this update, Pipelines as Code does not echo a secret to the GitHub checks interface when it failed to create the secret on the OpenShift Container Platform cluster because of an infrastructure issue.</p>
</li>
<li>
<p>This update removes the deprecated APIs that are no longer in use from Red Hat OpenShift Pipelines.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-10-2_op-release-notes"><a class="anchor" href="#release-notes-1-10-2_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.10.2</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.10.2 is available on OpenShift Container Platform 4.11, 4.12, and 4.13.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-10-2_op-release-notes"><a class="anchor" href="#fixed-issues-1-10-2_op-release-notes"></a>Fixed issues</h4>
<div class="paragraph">
<p>Before this update, an issue in the Tekton Operator prevented the user from setting the value of the <code>enable-api-fields</code> flag to <code>beta</code>. This update fixes the issue. Now, you can set the value of the <code>enable-api-fields</code> flag to <code>beta</code> in the <code>TektonConfig</code> CR.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-10-3_op-release-notes"><a class="anchor" href="#release-notes-1-10-3_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.10.3</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.10.3 is available on OpenShift Container Platform 4.11, 4.12, and 4.13.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-10-3_op-release-notes"><a class="anchor" href="#fixed-issues-1-10-3_op-release-notes"></a>Fixed issues</h4>
<div class="paragraph">
<p>Before this update, the Tekton Operator did not expose the performance configuration fields for any customizations. With this update, as a cluster administrator, you can customize the following performance configuration fields in the <code>TektonConfig</code> CR based on your needs:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>disable-ha</code></p>
</li>
<li>
<p><code>buckets</code></p>
</li>
<li>
<p><code>kube-api-qps</code></p>
</li>
<li>
<p><code>kube-api-burst</code></p>
</li>
<li>
<p><code>threads-per-controller</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-10-4_op-release-notes"><a class="anchor" href="#release-notes-1-10-4_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.10.4</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.10.4 is available on OpenShift Container Platform 4.11, 4.12, and 4.13.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-10-4_op-release-notes"><a class="anchor" href="#fixed-issues-1-10-4_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>This update fixes the bundle resolver conversion issue for the <code>PipelineRef</code> field in a pipeline run. Now, the conversion feature sets the value of the <code>kind</code> field to<code>Pipeline</code>after conversion.</p>
</li>
<li>
<p>Before this update, the <code>pipelinerun.timeouts</code> field was reset to the <code>timeouts.pipeline</code> value, ignoring the <code>timeouts.tasks</code> and <code>timeouts.finally</code> values. This update fixes the issue and sets the correct default timeout value for a <code>PipelineRun</code> resource.</p>
</li>
<li>
<p>Before this update, the controller logs contained unnecessary data. This update fixes the issue.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-10-5_op-release-notes"><a class="anchor" href="#release-notes-1-10-5_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.10.5</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.10.5 is available on OpenShift Container Platform 4.10 in addition to 4.11, 4.12, and 4.13.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Red Hat OpenShift Pipelines 1.10.5 is only available in the <code>pipelines-1.10</code> channel on OpenShift Container Platform 4.10, 4.11, 4.12, and 4.13. It is not available in the <code>latest</code> channel for any OpenShift Container Platform version.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-10-5_op-release-notes"><a class="anchor" href="#fixed-issues-1-10-5_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, huge pipeline runs were not getting listed or deleted using the <code>oc</code> and <code>tkn</code> commands. This update mitigates this issue by compressing the huge annotations that were causing this problem. Remember that if the pipeline runs are still too huge after compression, then the same error still recurs.</p>
</li>
<li>
<p>Before this update, only the pod template specified in the <code>pipelineRun.spec.taskRunSpecs[].podTemplate</code> object would be considered for a pipeline run. With this update, the pod template specified in the <code>pipelineRun.spec.podTemplate</code> object is also considered and merged with the template specified in the <code>pipelineRun.spec.taskRunSpecs[].podTemplate</code> object.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-10-6_op-release-notes"><a class="anchor" href="#release-notes-1-10-6_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.10.6</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.10.6 is available on OpenShift Container Platform 4.10, 4.11, 4.12, and 4.13.</p>
</div>
<div class="paragraph">
<p>This update includes an updated version of the <code>tkn</code> command line tool. You can download the updated version of this tool at the following locations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.10.6/tkn-linux-amd64.tar.gz">Linux (x86_64, amd64)</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.10.6/tkn-linux-s390x.tar.gz">Linux on IBM zSystems and IBM&#174; LinuxONE (s390x)</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.10.6/tkn-linux-ppc64le.tar.gz">Linux on IBM Power (ppc64le)</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.10.6/tkn-linux-arm64.tar.gz">Linux on ARM (aarch64, arm64)</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.10.6/tkn-windows-amd64.zip">Windows</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.10.6/tkn-macos-amd64.tar.gz">macOS</a></p>
</li>
<li>
<p><a href="https://mirror.openshift.com/pub/openshift-v4/clients/pipelines/1.10.6/tkn-macos-arm64.tar.gz">macOS on ARM</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you installed the <code>tkn</code> command line tool using RPM on Red Hat Enterprise Linux (RHEL), use the <code>yum update</code> command to install the updated version.</p>
</div>
<div class="sect3">
<h4 id="known-issues-1-10-6_op-release-notes"><a class="anchor" href="#known-issues-1-10-6_op-release-notes"></a>Known issues</h4>
<div class="ulist">
<ul>
<li>
<p>If you enter the <code>tkn task start</code> or <code>tkn clustertask start</code> command, the <code>tkn</code> command line utility displays an error message. As a workaround, to start tasks or cluster tasks using the command line, use the version of the <code>tkn</code> utility shipped with OpenShift Pipelines 1.11 or a later version.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-10-6_op-release-notes"><a class="anchor" href="#fixed-issues-1-10-6_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, the S2I cluster task uses a General Availability container image.</p>
</li>
<li>
<p>With this update, the HTTP/2.0 protocol is not supported for webhooks. All webhook calls to Red Hat OpenShift Pipelines must use the HTTP/1.1 protocol.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-9_op-release-notes"><a class="anchor" href="#op-release-notes-1-9_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.9</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.9 is available on OpenShift Container Platform 4.11, 4.12, and 4.13.</p>
</div>
<div class="sect2">
<h3 id="new-features-1-9_op-release-notes"><a class="anchor" href="#new-features-1-9_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>In addition to the fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.9.</p>
</div>
<div class="sect3">
<h4 id="pipelines-new-features-1-9_op-release-notes"><a class="anchor" href="#pipelines-new-features-1-9_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, you can specify pipeline parameters and results in arrays and object dictionary forms.</p>
</li>
<li>
<p>This update provides support for Container Storage Interface (CSI) and projected volumes for your workspace.</p>
</li>
<li>
<p>With this update, you can specify the <code>stdoutConfig</code> and <code>stderrConfig</code> parameters when defining pipeline steps. Defining these parameters helps to capture standard output and standard error, associated with steps, to local files.</p>
</li>
<li>
<p>With this update, you can add variables in the <code>steps[].onError</code> event handler, for example, <code>$(params.CONTINUE)</code>.</p>
</li>
<li>
<p>With this update, you can use the output from the <code>finally</code> task in the <code>PipelineResults</code> definition. For example, <code>$(finally.&lt;pipelinetask-name&gt;.result.&lt;result-name&gt;)</code>, where <code>&lt;pipelinetask-name&gt;</code> denotes the pipeline task name and <code>&lt;result-name&gt;</code> denotes the result name.</p>
</li>
<li>
<p>This update supports task-level resource requirements for a task run.</p>
</li>
<li>
<p>With this update, you do not need to recreate parameters that are shared, based on their names, between a pipeline and the defined tasks. This update is part of a developer preview feature.</p>
</li>
<li>
<p>This update adds support for remote resolution, such as built-in git, cluster, bundle, and hub resolvers.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-9_op-release-notes"><a class="anchor" href="#triggers-new-features-1-9_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>This update adds the <code>Interceptor</code> CRD to define <code>NamespacedInterceptor</code>. You can use <code>NamespacedInterceptor</code> in the <code>kind</code> section of interceptors reference in triggers or in the <code>EventListener</code> specification.</p>
</li>
<li>
<p>This update enables <code>CloudEvents</code>.</p>
</li>
<li>
<p>With this update, you can configure the webhook port number when defining a trigger.</p>
</li>
<li>
<p>This update supports using trigger <code>eventID</code> as input to <code>TriggerBinding</code>.</p>
</li>
<li>
<p>This update supports validation and rotation of certificates for the <code>ClusterInterceptor</code> server.</p>
<div class="ulist">
<ul>
<li>
<p>Triggers perform certificate validation for core interceptors and rotate a new certificate to <code>ClusterInterceptor</code> when its certificate expires.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cli-new-features-1-9_op-release-notes"><a class="anchor" href="#cli-new-features-1-9_op-release-notes"></a>CLI</h4>
<div class="ulist">
<ul>
<li>
<p>This update supports showing annotations in the <code>describe</code> command.</p>
</li>
<li>
<p>This update supports showing pipeline, tasks, and timeout in the <code>pr describe</code> command.</p>
</li>
<li>
<p>This update adds flags to provide pipeline, tasks, and timeout in the <code>pipeline start</code> command.</p>
</li>
<li>
<p>This update supports showing the presence of workspace, optional or mandatory, in the <code>describe</code> command of a task and pipeline.</p>
</li>
<li>
<p>This update adds the <code>timestamps</code> flag to show logs with a timestamp.</p>
</li>
<li>
<p>This update adds a new flag <code>--ignore-running-pipelinerun</code>, which ignores the deletion of <code>TaskRun</code> associated with <code>PipelineRun</code>.</p>
</li>
<li>
<p>This update adds support for experimental commands. This update also adds experimental subcommands, <code>sign</code> and <code>verify</code> to the <code>tkn</code> CLI tool.</p>
</li>
<li>
<p>This update makes the Z shell(Zsh) completion feature usable without generating any files.</p>
</li>
<li>
<p>This update introduces a new CLI tool called <code>opc</code>. It is anticipated that an upcoming release will replace the <code>tkn</code> CLI tool with <code>opc</code>.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The new CLI tool <code>opc</code> is a Technology Preview feature.</p>
</li>
<li>
<p><code>opc</code> will be a replacement for <code>tkn</code> with additional Red Hat OpenShift Pipelines specific features, which do not necessarily fit in <code>tkn</code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="operator-new-features-1-9_op-release-notes"><a class="anchor" href="#operator-new-features-1-9_op-release-notes"></a>Operator</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, Pipelines as Code is installed by default. You can disable Pipelines as Code by using the <code>-p</code> flag:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc patch tektonconfig config <span class="nt">--type</span><span class="o">=</span><span class="s2">"merge"</span> <span class="nt">-p</span> <span class="s1">'{"spec": {"platforms": {"openshift":{"pipelinesAsCode": {"enable": false}}}}}'</span></code></pre>
</div>
</div>
</li>
<li>
<p>With this update, you can also modify Pipelines as Code configurations in the <code>TektonConfig</code> CRD.</p>
</li>
<li>
<p>With this update, if you disable the developer perspective, the Operator does not install developer console related custom resources.</p>
</li>
<li>
<p>This update includes <code>ClusterTriggerBinding</code> support for Bitbucket Server and Bitbucket Cloud and helps you to reuse a <code>TriggerBinding</code>across your entire cluster.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="resolver-new-features-1-9_op-release-notes"><a class="anchor" href="#resolver-new-features-1-9_op-release-notes"></a>Resolvers</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Resolvers is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, you can configure pipeline resolvers in the <code>TektonConfig</code> CRD. You can enable or disable these pipeline resolvers: <code>enable-bundles-resolver</code>, <code>enable-cluster-resolver</code>, <code>enable-git-resolver</code>, and <code>enable-hub-resolver</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">operator.tekton.dev/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">TektonConfig</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">config</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">pipeline</span><span class="pi">:</span>
    <span class="na">enable-bundles-resolver</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">enable-cluster-resolver</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">enable-git-resolver</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">enable-hub-resolver</span><span class="pi">:</span> <span class="no">true</span>
<span class="nn">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also provide resolver specific configurations in <code>TektonConfig</code>. For example, you can define the following fields in the <code>map[string]string</code> format to set configurations for individual resolvers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">operator.tekton.dev/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">TektonConfig</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">config</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">pipeline</span><span class="pi">:</span>
    <span class="na">bundles-resolver-config</span><span class="pi">:</span>
      <span class="na">default-service-account</span><span class="pi">:</span> <span class="s">pipelines</span>
    <span class="na">cluster-resolver-config</span><span class="pi">:</span>
      <span class="na">default-namespace</span><span class="pi">:</span> <span class="s">test</span>
    <span class="na">git-resolver-config</span><span class="pi">:</span>
      <span class="na">server-url</span><span class="pi">:</span> <span class="s">localhost.com</span>
    <span class="na">hub-resolver-config</span><span class="pi">:</span>
      <span class="na">default-tekton-hub-catalog</span><span class="pi">:</span> <span class="s">tekton</span>
<span class="nn">...</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="chains-new-features-1-9_op-release-notes"><a class="anchor" href="#chains-new-features-1-9_op-release-notes"></a>Tekton Chains</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Chains is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Before this update, only Open Container Initiative (OCI) images were supported as outputs of <code>TaskRun</code> in the in-toto provenance agent. This update adds in-toto provenance metadata as outputs with these suffixes, <code>ARTIFACT_URI</code> and <code>ARTIFACT_DIGEST</code>.</p>
</li>
<li>
<p>Before this update, only <code>TaskRun</code> attestations were supported. This update adds support for <code>PipelineRun</code> attestations as well.</p>
</li>
<li>
<p>This update adds support for Tekton Chains to get the <code>imgPullSecret</code> parameter from the pod template. This update helps you to configure repository authentication based on each pipeline run or task run without modifying the service account.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="tekton-hub-new-features-1-9_op-release-notes"><a class="anchor" href="#tekton-hub-new-features-1-9_op-release-notes"></a>Tekton Hub</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Hub is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, as an administrator, you can use an external database, such as Crunchy PostgreSQL with Tekton Hub, instead of using the default Tekton Hub database. This update helps you to perform the following actions:</p>
<div class="ulist">
<ul>
<li>
<p>Specify the coordinates of an external database to be used with Tekton Hub</p>
</li>
<li>
<p>Disable the default Tekton Hub database deployed by the Operator</p>
</li>
</ul>
</div>
</li>
<li>
<p>This update removes the dependency of <code>config.yaml</code> from external Git repositories and moves the complete configuration data into the API <code>ConfigMap</code>. This update helps an administrator to perform the following actions:</p>
<div class="ulist">
<ul>
<li>
<p>Add the configuration data, such as categories, catalogs, scopes, and defaultScopes in the Tekton Hub custom resource.</p>
</li>
<li>
<p>Modify Tekton Hub configuration data on the cluster. All modifications are preserved upon Operator upgrades.</p>
</li>
<li>
<p>Update the list of catalogs for Tekton Hub</p>
</li>
<li>
<p>Change the categories for Tekton Hub</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you do not add any configuration data, you can use the default data in the API <code>ConfigMap</code> for Tekton Hub configurations.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="pac-new-features-1-9_op-release-notes"><a class="anchor" href="#pac-new-features-1-9_op-release-notes"></a>Pipelines as Code</h4>
<div class="ulist">
<ul>
<li>
<p>This update adds support for concurrency limit in the <code>Repository</code> CRD to define the maximum number of <code>PipelineRuns</code> running for a repository at a time. The <code>PipelineRuns</code> from a pull request or a push event are queued in alphabetical order.</p>
</li>
<li>
<p>This update adds a new command <code>tkn pac logs</code> for showing the logs of the latest pipeline run for a repository.</p>
</li>
<li>
<p>This update supports advanced event matching on file path for push and pull requests to GitHub and GitLab. For example, you can use the Common Expression Language (CEL) to run a pipeline only if a path has changed for any markdown file in the <code>docs</code> directory.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml">  <span class="s">...</span>
  <span class="s">annotations</span><span class="pi">:</span>
     <span class="s">pipelinesascode.tekton.dev/on-cel-expression</span><span class="pi">:</span> <span class="pi">|</span>
      <span class="s">event == "pull_request" &amp;&amp; "docs/*.md".pathChanged()</span></code></pre>
</div>
</div>
</li>
<li>
<p>With this update, you can reference a remote pipeline in the <code>pipelineRef:</code> object using annotations.</p>
</li>
<li>
<p>With this update, you can auto-configure new GitHub repositories with Pipelines as Code, which sets up a namespace and creates a <code>Repository</code> CRD for your GitHub repository.</p>
</li>
<li>
<p>With this update, Pipelines as Code generates metrics for <code>PipelineRuns</code> with provider information.</p>
</li>
<li>
<p>This update provides the following enhancements for the<code>tkn-pac</code>plugin:</p>
<div class="ulist">
<ul>
<li>
<p>Detects running pipelines correctly</p>
</li>
<li>
<p>Fixes showing duration when there is no failure completion time</p>
</li>
<li>
<p>Shows an error snippet and highlights the error regular expression pattern in the <code>tkn-pac describe</code> command</p>
</li>
<li>
<p>Adds the <code>use-real-time</code> switch to the <code>tkn-pac ls</code> and <code>tkn-pac describe</code> commands</p>
</li>
<li>
<p>Imports the <code>tkn-pac</code> logs documentation</p>
</li>
<li>
<p>Shows <code>pipelineruntimeout</code> as a failure in the <code>tkn-pac ls</code> and <code>tkn-pac describe</code> commands.</p>
</li>
<li>
<p>Show a specific pipeline run failure with the <code>--target-pipelinerun</code> option.</p>
</li>
</ul>
</div>
</li>
<li>
<p>With this update, you can view the errors for your pipeline run in the form of a version control system (VCS) comment or a small snippet in the GitHub checks.</p>
</li>
<li>
<p>With this update, Pipelines as Code optionally can detect errors inside the tasks if they are of a simple format and add those tasks as annotations in GitHub. This update is part of a developer preview feature.</p>
</li>
<li>
<p>This update adds the following new commands:</p>
<div class="ulist">
<ul>
<li>
<p><code>tkn-pac webhook add</code>: Adds a webhook to project repository settings and updates the <code>webhook.secret</code> key in the existing <code>k8s Secret</code> object without updating the repository.</p>
</li>
<li>
<p><code>tkn-pac webhook update-token</code>: Updates provider token for an existing <code>k8s Secret</code> object without updating the repository.</p>
</li>
</ul>
</div>
</li>
<li>
<p>This update enhances functionality of the <code>tkn-pac create repo</code> command, which creates and configures webhooks for GitHub, GitLab, and BitbucketCloud along with creating repositories.</p>
</li>
<li>
<p>With this update, the <code>tkn-pac describe</code> command shows the latest fifty events in a sorted order.</p>
</li>
<li>
<p>This update adds the <code>--last</code> option to the <code>tkn-pac logs</code> command.</p>
</li>
<li>
<p>With this update, the <code>tkn-pac resolve</code> command prompts for a token on detecting a <code>git_auth_secret</code> in the file template.</p>
</li>
<li>
<p>With this update, Pipelines as Code hides secrets from log snippets to avoid exposing secrets in the GitHub interface.</p>
</li>
<li>
<p>With this update, the secrets automatically generated for <code>git_auth_secret</code> are an owner reference with <code>PipelineRun</code>. The secrets get cleaned with the <code>PipelineRun</code>, not after the pipeline run execution.</p>
</li>
<li>
<p>This update adds support to cancel a pipeline run with the <code>/cancel</code> comment.</p>
</li>
<li>
<p>Before this update, the GitHub apps token scoping was not defined and tokens would be used on every repository installation. With this update, you can scope the GitHub apps token to the target repository using the following parameters:</p>
<div class="ulist">
<ul>
<li>
<p><code>secret-github-app-token-scoped</code>: Scopes the app token to the target repository, not to every repository the app installation has access to.</p>
</li>
<li>
<p><code>secret-github-app-scope-extra-repos</code>: Customizes the scoping of the  app token with an additional owner or repository.</p>
</li>
</ul>
</div>
</li>
<li>
<p>With this update, you can use Pipelines as Code with your own Git repositories that are hosted on GitLab.</p>
</li>
<li>
<p>With this update, you can access pipeline execution details in the form of kubernetes events in your namespace. These details help you to troubleshoot pipeline errors without needing access to admin namespaces.</p>
</li>
<li>
<p>This update supports authentication of URLs in the Pipelines as Code resolver with the Git provider.</p>
</li>
<li>
<p>With this update, you can set the name of the hub catalog by using a setting in the <code>pipelines-as-code</code> config map.</p>
</li>
<li>
<p>With this update, you can set the maximum and default limits for the <code>max-keep-run</code> parameter.</p>
</li>
<li>
<p>This update adds documents on how to inject custom Secure Sockets Layer (SSL) certificates in Pipelines as Code to let you connect to provider instance with custom certificates.</p>
</li>
<li>
<p>With this update, the <code>PipelineRun</code> resource definition has the log URL included as an annotation. For example, the <code>tkn-pac describe</code> command shows the log link when describing a <code>PipelineRun</code>.</p>
</li>
<li>
<p>With this update, <code>tkn-pac</code> logs show repository name, instead of <code>PipelineRun</code> name.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes-1-9_op-release-notes"><a class="anchor" href="#breaking-changes-1-9_op-release-notes"></a>Breaking changes</h3>
<div class="ulist">
<ul>
<li>
<p>With this update, the <code>Conditions</code> custom resource definition (CRD) type has been removed. As an alternative, use the <code>WhenExpressions</code> instead.</p>
</li>
<li>
<p>With this update, support for <code>tekton.dev/v1alpha1</code> API pipeline resources, such as Pipeline, PipelineRun, Task, Clustertask, and TaskRun has been removed.</p>
</li>
<li>
<p>With this update, the <code>tkn-pac setup</code> command has been removed. Instead, use the <code>tkn-pac webhook add</code> command to re-add a webhook to an existing Git repository. And use the <code>tkn-pac webhook update-token</code> command to update the personal provider access token for an existing Secret object in the Git repository.</p>
</li>
<li>
<p>With this update, a namespace that runs a pipeline with default settings does not apply the <code>pod-security.kubernetes.io/enforce:privileged</code> label to a workload.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-9_op-release-notes"><a class="anchor" href="#deprecated-features-1-9_op-release-notes"></a>Deprecated and removed features</h3>
<div class="ulist">
<ul>
<li>
<p>In the Red Hat OpenShift Pipelines 1.9.0 release, <code>ClusterTasks</code> are deprecated and planned to be removed in a future release. As an alternative, you can use <code>Cluster Resolver</code>.</p>
</li>
<li>
<p>In the Red Hat OpenShift Pipelines 1.9.0 release, the use of the <code>triggers</code> and the <code>namespaceSelector</code> fields in a single <code>EventListener</code> specification is deprecated and planned to be removed in a future release. You can use these fields in different <code>EventListener</code> specifications successfully.</p>
</li>
<li>
<p>In the Red Hat OpenShift Pipelines 1.9.0 release, the <code>tkn pipelinerun describe</code> command does not display timeouts for the <code>PipelineRun</code> resource.</p>
</li>
<li>
<p>In the Red Hat OpenShift Pipelines 1.9.0 release, the PipelineResource` custom resource (CR) is deprecated. The <code>PipelineResource</code> CR was a Tech Preview feature and part of the <code>tekton.dev/v1alpha1</code> API.</p>
</li>
<li>
<p>In the Red Hat OpenShift Pipelines 1.9.0 release, custom image parameters from cluster tasks are deprecated. As an alternative, you can copy a cluster task and use your custom image in it.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-9_op-release-notes"><a class="anchor" href="#known-issues-1-9_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>The <code>chains-secret</code> and <code>chains-config</code> config maps are removed after you uninstall the Red Hat OpenShift Pipelines Operator. As they contain user data, they should be preserved and not deleted.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>When running the <code>tkn pac</code> set of commands on Windows, you may receive the following error message: <code>Command finished with error: not supported by Windows.</code></p>
<div class="paragraph">
<p>Workaround: Set the <code>NO_COLOR</code> environment variable to <code>true</code>.</p>
</div>
</li>
<li>
<p>Running the <code>tkn pac resolve -f &lt;filename&gt; | oc create -f</code> command may not provide expected results, if the <code>tkn pac resolve</code> command uses a templated parameter value to function.</p>
<div class="paragraph">
<p>Workaround: To mitigate this issue, save the output of <code>tkn pac resolve</code> in a temporary file by running the <code>tkn pac resolve -f &lt;filename&gt; -o tempfile.yaml</code> command and then run the <code>oc create -f tempfile.yaml</code> command. For example, <code>tkn pac resolve -f &lt;filename&gt; -o /tmp/pull-request-resolved.yaml &amp;&amp; oc create -f /tmp/pull-request-resolved.yaml</code>.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-9_op-release-notes"><a class="anchor" href="#fixed-issues-1-9_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Before this update, after replacing an empty array, the original array returned an empty string rendering the paramaters inside it invalid. With this update, this issue is resolved and the original array returns as empty.</p>
</li>
<li>
<p>Before this update, if duplicate secrets were present in a service account for a pipelines run, it resulted in failure in task pod creation. With this update, this issue is resolved and the task pod is created successfully even if duplicate secrets are present in a service account.</p>
</li>
<li>
<p>Before this update, by looking at the TaskRun&#8217;s <code>spec.StatusMessage</code> field, users could not distinguish whether the <code>TaskRun</code> had been cancelled by the user or by a <code>PipelineRun</code> that was part of it. With this update, this issue is resolved and users can distinguish the status of the <code>TaskRun</code> by looking at the TaskRun&#8217;s <code>spec.StatusMessage</code> field.</p>
</li>
<li>
<p>Before this update, webhook validation was removed on deletion of old versions of invalid objects. With this update, this issue is resolved.</p>
</li>
<li>
<p>Before this update, if you set the <code>timeouts.pipeline</code> parameter to <code>0</code>, you could not set the <code>timeouts.tasks</code> parameter or the <code>timeouts.finally</code> parameters. This update resolves the issue. Now, when you set the <code>timeouts.pipeline</code> parameter value, you can set the value of either the`timeouts.tasks` parameter or the <code>timeouts.finally</code> parameter. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="s">yaml</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">PipelineRun</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">timeouts</span><span class="pi">:</span>
    <span class="na">pipeline</span><span class="pi">:</span> <span class="s2">"</span><span class="s">0"</span>  <span class="c1"># No timeout</span>
    <span class="na">tasks</span><span class="pi">:</span> <span class="s2">"</span><span class="s">0h3m0s"</span></code></pre>
</div>
</div>
</li>
<li>
<p>Before this update, a race condition could occur if another tool updated labels or annotations on a PipelineRun or TaskRun. With this update, this issue is resolved and you can merge labels or annotations.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Before this update, log keys did not have the same keys as in pipelines controllers. With this update, this issue has been resolved and the log keys have been updated to match the log stream of pipeline controllers. The keys in logs have been changed from "ts" to "timestamp", from "level" to "severity", and from "message" to "msg".</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Before this update, if a PipelineRun was deleted with an unknown status, an error message was not generated. With this update, this issue is resolved and an error message is generated.</p>
</li>
<li>
<p>Before this update, to access bundle commands like <code>list</code> and <code>push</code>, it was required to use the <code>kubeconfig</code> file . With this update, this issue has been resolved and the <code>kubeconfig</code> file is not required to access bundle commands.</p>
</li>
<li>
<p>Before this update, if the parent PipelineRun was running while deleting TaskRuns, then TaskRuns would be deleted. With this update, this issue is resolved and TaskRuns are not getting deleted if the parent PipelineRun is running.</p>
</li>
<li>
<p>Before this update, if the user attempted to build a bundle with more objects than the pipeline controller permitted, the Tekton CLI did not display an error message. With this update, this issue is resolved and the Tekton CLI displays an error message if the user attempts to build a bundle with more objects than the limit permitted in the pipeline controller.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Before this update, if namespaces were removed from the cluster, then the operator did not remove namespaces from the <code>ClusterInterceptor ClusterRoleBinding</code> subjects. With this update, this issue has been resolved, and the operator removes the namespaces from the <code>ClusterInterceptor ClusterRoleBinding</code> subjects.</p>
</li>
<li>
<p>Before this update, the default installation of the Red Hat OpenShift Pipelines Operator resulted in the <code>pipelines-scc-rolebinding security context constraint</code> (SCC) role binding resource remaining in the cluster. With this update, the default installation of the Red Hat OpenShift Pipelines Operator results in the <code>pipelines-scc-rolebinding security context constraint</code> (SCC) role binding resource resource being removed from the cluster.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Before this update, Pipelines as Code did not get updated values from the Pipelines as Code <code>ConfigMap</code> object. With this update, this issue is fixed and the Pipelines as Code <code>ConfigMap</code> object looks for any new changes.</p>
</li>
<li>
<p>Before this update, Pipelines as Code controller did not wait for the <code>tekton.dev/pipeline</code> label to be updated and added the <code>checkrun id</code> label, which would cause race conditions. With this update, the Pipelines as Code controller waits for the <code>tekton.dev/pipeline</code> label to be updated and then adds the <code>checkrun id</code> label, which helps to avoid race conditions.</p>
</li>
<li>
<p>Before this update, the <code>tkn-pac create repo</code> command did not override a <code>PipelineRun</code> if it already existed in the git repository. With this update, <code>tkn-pac create</code> command is fixed to override a <code>PipelineRun</code> if it exists in the git repository and this resolves the issue successfully.</p>
</li>
<li>
<p>Before this update, the <code>tkn pac describe</code> command did not display reasons for every message. With this update, this issue is fixed and the <code>tkn pac describe</code> command displays reasons for every message.</p>
</li>
<li>
<p>Before this update, a pull request failed if the user in the annotation provided values by using a regex form, for example, <code>refs/head/rel-*</code>. The pull request failed because it was missing <code>refs/heads</code> in its base branch. With this update, the prefix is added and checked that it matches. This resolves the issue and the pull request is successful.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-9-1_op-release-notes"><a class="anchor" href="#release-notes-1-9-1_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.9.1</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.9.1 is available on OpenShift Container Platform 4.11, 4.12, and 4.13.</p>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-9-1_op-release-notes"><a class="anchor" href="#fixed-issues-1-9-1_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Before this update, the <code>tkn pac repo list</code> command did not run on Microsoft Windows. This update fixes the issue, and now you can run the <code>tkn pac repo list</code> command on Microsoft Windows.</p>
</li>
<li>
<p>Before this update, Pipelines as Code watcher did not receive all the configuration change events. With this update, the Pipelines as Code watcher is updated, and now the Pipelines as Code watcher does not miss the configuration change events.</p>
</li>
<li>
<p>Before this update, the pods created by Pipelines as Code, such as <code>TaskRuns</code> or <code>PipelineRuns</code> could not access custom certificates exposed by the user in the cluster. This update fixes the issue, and you can now access custom certificates from the <code>TaskRuns</code> or <code>PipelineRuns</code> pods in the cluster.</p>
</li>
<li>
<p>Before this update, on a cluster enabled with FIPS, the <code>tekton-triggers-core-interceptors</code> core interceptor used in the <code>Trigger</code> resource did not function after the Pipelines Operator was upgraded to version 1.9. This update resolves the issue. Now, OpenShift uses MInTLS 1.2 for all its components. As a result, the <code>tekton-triggers-core-interceptors</code> core interceptor updates to TLS version 1.2and its functionality runs accurately.</p>
</li>
<li>
<p>Before this update, when using a pipeline run with an internal OpenShift image registry, the URL to the image had to be hardcoded in the pipeline run definition. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="nn">...</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">IMAGE_NAME</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s1">'</span><span class="s">image-registry.openshift-image-registry.svc:5000/&lt;test_namespace&gt;/&lt;test_pipelinerun&gt;'</span>
<span class="nn">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When using a pipeline run in the context of Pipelines as Code, such hardcoded values prevented the pipeline run definitions from being used in different clusters and namespaces.</p>
</div>
<div class="paragraph">
<p>With this update, you can use the dynamic template variables instead of hardcoding the values for namespaces and pipeline run names to generalize pipeline run definitions. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="nn">...</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">IMAGE_NAME</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s1">'</span><span class="s">image-registry.openshift-image-registry.svc:5000/{{</span><span class="nv"> </span><span class="s">target_namespace</span><span class="nv"> </span><span class="s">}}/$(context.pipelineRun.name)'</span>
<span class="nn">...</span></code></pre>
</div>
</div>
</li>
<li>
<p>Before this update, Pipelines as Code used the same GitHub token to fetch a remote task available in the same host only on the default GitHub branch. This update resolves the issue. Now Pipelines as Code uses the same GitHub token to fetch a remote task from any GitHub branch.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-9-1_op-release-notes"><a class="anchor" href="#known-issues-1-9-1_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>The value for <code>CATALOG_REFRESH_INTERVAL</code>, a field in the Hub API <code>ConfigMap</code> object used in the Tekton Hub CR, is not getting updated with a custom value provided by the user.</p>
<div class="paragraph">
<p>Workaround: None. You can track the issue <a href="https://issues.redhat.com/browse/SRVKP-2854">SRVKP-2854</a>.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes-1-9-1_op-release-notes"><a class="anchor" href="#breaking-changes-1-9-1_op-release-notes"></a>Breaking changes</h3>
<div class="ulist">
<ul>
<li>
<p>With this update, an OLM misconfiguration issue has been introduced, which prevents the upgrade of the OpenShift Container Platform. This issue will be fixed in a future release.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-9-2_op-release-notes"><a class="anchor" href="#release-notes-1-9-2_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.9.2</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.9.2 is available on OpenShift Container Platform 4.11, 4.12, and 4.13.</p>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-9-2_op-release-notes"><a class="anchor" href="#fixed-issues-1-9-2_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Before this update, an OLM misconfiguration issue had been introduced in the previous version of the release, which prevented the upgrade of OpenShift Container Platform. With this update, this misconfiguration issue has been fixed.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-9-3_op-release-notes"><a class="anchor" href="#release-notes-1-9-3_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.9.3</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.9.3 is available on OpenShift Container Platform 4.10 in addition to 4.11, 4.12, and 4.13.</p>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-9-3_op-release-notes"><a class="anchor" href="#fixed-issues-1-9-3_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>This update fixes the performance issues for huge pipelines. Now, the CPU usage is reduced by 61% and the memory usage is reduced by 44%.</p>
</li>
<li>
<p>Before this update, a pipeline run would fail if a task did not run because of its <code>when</code> expression. This update fixes the issue by preventing the validation of a skipped task result in pipeline results. Now, the pipeline result is not emitted and the pipeline run does not fail because of a missing result.</p>
</li>
<li>
<p>This update fixes the <code>pipelineref.bundle</code> conversion to the bundle resolver for the <code>v1beta1</code> API. Now, the conversion feature sets the value of the <code>kind</code> field to <code>Pipeline</code> after conversion.</p>
</li>
<li>
<p>Before this update, an issue in the OpenShift Pipelines Operator prevented the user from setting the value of the <code>spec.pipeline.enable-api-fields</code> field to <code>beta</code>. This update fixes the issue. Now, you can set the value to <code>beta</code> along with <code>alpha</code> and <code>stable</code> in the <code>TektonConfig</code> custom resource.</p>
</li>
<li>
<p>Before this update, when Pipelines as Code could not create a secret due to a cluster error, it would show the temporary token on the GitHub check run, which is public. This update fixes the issue. Now, the token is no longer displayed on the GitHub checks interface when the creation of the secret fails.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-9-3_op-release-notes"><a class="anchor" href="#known-issues-1-9-3_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>There is currently a known issue with the <strong>stop</strong> option for pipeline runs in the OpenShift Container Platform web console. The <strong>stop</strong> option in the <strong>Actions</strong> drop-down list is not working as expected and does not cancel the pipeline run.</p>
</li>
<li>
<p>There is currently a known issue with upgrading to OpenShift Pipelines version 1.9.x due to a failing custom resource definition conversion.</p>
<div class="paragraph">
<p>Workaround: Before upgrading to OpenShift Pipelines version 1.9.x, perform the step mentioned in the <a href="https://access.redhat.com/solutions/6999996">solution</a> on the Red Hat Customer Portal.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-8_op-release-notes"><a class="anchor" href="#op-release-notes-1-8_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.8</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.8 is available on OpenShift Container Platform 4.10, 4.11, and 4.12.</p>
</div>
<div class="sect2">
<h3 id="new-features-1-8_op-release-notes"><a class="anchor" href="#new-features-1-8_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>In addition to the fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.8.</p>
</div>
<div class="sect3">
<h4 id="pipelines-new-features-1-8_op-release-notes"><a class="anchor" href="#pipelines-new-features-1-8_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, you can run Red Hat OpenShift Pipelines GA 1.8 and later on an OpenShift Container Platform cluster that is running on ARM hardware. This includes support for <code>ClusterTask</code> resources and the <code>tkn</code> CLI tool.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Running Red Hat OpenShift Pipelines on ARM hardware is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>This update implements <code>Step</code> and <code>Sidecar</code> overrides for <code>TaskRun</code> resources.</p>
</li>
<li>
<p>This update adds minimal <code>TaskRun</code> and <code>Run</code> statuses within <code>PipelineRun</code> statuses.</p>
<div class="paragraph">
<p>To enable this feature, in the <code>TektonConfig</code> custom resource definition, in the <code>pipeline</code> section, you must set the <code>enable-api-fields</code> field to <code>alpha</code>.</p>
</div>
</li>
<li>
<p>With this update, the graceful termination of pipeline runs feature is promoted from an alpha feature to a stable feature. As a result, the previously deprecated <code>PipelineRunCancelled</code> status remains deprecated and is planned to be removed in a future release.</p>
<div class="paragraph">
<p>Because this feature is available by default, you no longer need to set the <code>pipeline.enable-api-fields</code> field to <code>alpha</code> in the <code>TektonConfig</code> custom resource definition.</p>
</div>
</li>
<li>
<p>With this update, you can specify the workspace for a pipeline task by using the name of the workspace. This change makes it easier to specify a shared workspace for a pair of <code>Pipeline</code> and <code>PipelineTask</code> resources. You can also continue to map workspaces explicitly.</p>
<div class="paragraph">
<p>To enable this feature, in the <code>TektonConfig</code> custom resource definition, in the <code>pipeline</code> section, you must set the <code>enable-api-fields</code> field to <code>alpha</code>.</p>
</div>
</li>
<li>
<p>With this update, parameters in embedded specifications are propagated without mutations.</p>
</li>
<li>
<p>With this update, you can specify the required metadata of a <code>Task</code> resource referenced by a <code>PipelineRun</code> resource by using annotations and labels. This way, <code>Task</code> metadata that depends on the execution context is available during the pipeline run.</p>
</li>
<li>
<p>This update adds support for object or dictionary types in <code>params</code>  and <code>results</code> values. This change affects backward compatibility and sometimes breaks forward compatibility, such as using an earlier client with a later Red Hat OpenShift Pipelines version. This update changes the <code>ArrayOrStruct</code> structure, which affects projects that use the Go language API as a library.</p>
</li>
<li>
<p>This update adds a <code>SkippingReason</code> value to the <code>SkippedTasks</code> field of the <code>PipelineRun</code> status fields so that users know why a given PipelineTask was skipped.</p>
</li>
<li>
<p>This update supports an alpha feature in which you can use an <code>array</code> type for emitting results from a <code>Task</code> object. The result type is changed from <code>string</code> to <code>ArrayOrString</code>. For example, a task can specify a type to produce an array result:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">kind</span><span class="pi">:</span> <span class="s">Task</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">tekton.dev/v1beta1</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">write-array</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="na">description</span><span class="pi">:</span> <span class="pi">|</span>
      <span class="s">A simple task that writes array</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">results</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">array-results</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">array</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">The array results</span>
<span class="nn">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Additionally, you can run a task script to populate the results with an array:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"[</span><span class="se">\"</span><span class="s2">hello</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">world</span><span class="se">\"</span><span class="s2">]"</span> | <span class="nb">tee</span> <span class="si">$(</span>results.array-results.path<span class="si">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To enable this feature, in the <code>TektonConfig</code> custom resource definition, in the <code>pipeline</code> section, you must set the <code>enable-api-fields</code> field to <code>alpha</code>.</p>
</div>
<div class="paragraph">
<p>This feature is in progress and is part of TEP-0076.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-8_op-release-notes"><a class="anchor" href="#triggers-new-features-1-8_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>This update transitions the <code>TriggerGroups</code> field in the <code>EventListener</code> specification from an alpha feature to a stable feature. Using this field, you can specify a set of interceptors before selecting and running a group of triggers.</p>
<div class="paragraph">
<p>Because this feature is available by default, you no longer need to set the <code>pipeline.enable-api-fields</code> field to <code>alpha</code> in the <code>TektonConfig</code> custom resource definition.</p>
</div>
</li>
<li>
<p>With this update, the <code>Trigger</code> resource supports end-to-end secure connections by running the <code>ClusterInterceptor</code> server using HTTPS.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cli-new-features-1-8_op-release-notes"><a class="anchor" href="#cli-new-features-1-8_op-release-notes"></a>CLI</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, you can use the <code>tkn taskrun export</code> command to export a live task run from a cluster to a YAML file, which you can use to import the task run to another cluster.</p>
</li>
<li>
<p>With this update, you can add the <code>-o name</code> flag to the <code>tkn pipeline start</code> command to print the name of the pipeline run right after it starts.</p>
</li>
<li>
<p>This update adds a list of available plugins to the output of the <code>tkn --help</code> command.</p>
</li>
<li>
<p>With this update, while deleting a pipeline run or task run, you can use both the <code>--keep</code> and <code>--keep-since</code> flags together.</p>
</li>
<li>
<p>With this update, you can use <code>Cancelled</code> as the value of the <code>spec.status</code> field rather than the deprecated <code>PipelineRunCancelled</code> value.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="operator-new-features-1-8_op-release-notes"><a class="anchor" href="#operator-new-features-1-8_op-release-notes"></a>Operator</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, as an administrator, you can configure your local Tekton Hub instance to use a custom database rather than the default database.</p>
</li>
<li>
<p>With this update, as a cluster administrator, if you enable your local Tekton Hub instance, it periodically refreshes the database so that changes in the catalog appear in the Tekton Hub web console. You can adjust the period between refreshes.</p>
<div class="paragraph">
<p>Previously, to add the tasks and pipelines in the catalog to the database, you performed that task manually or set up a cron job to do it for you.</p>
</div>
</li>
<li>
<p>With this update, you can install and run a Tekton Hub instance with minimal configuration. This way, you can start working with your teams to decide which additional customizations they might want.</p>
</li>
<li>
<p>This update adds <code>GIT_SSL_CAINFO</code> to the <code>git-clone</code> task so you can clone secured repositories.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="chains-new-features-1-8_op-release-notes"><a class="anchor" href="#chains-new-features-1-8_op-release-notes"></a>Tekton Chains</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Chains is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, you can log in to a vault by using OIDC rather than a static token. This change means that Spire can generate the OIDC credential so that only trusted workloads are allowed to log in to the vault. Additionally, you can pass the vault address as a configuration value rather than inject it as an environment variable.</p>
</li>
<li>
<p>The <code>chains-config</code> config map for Tekton Chains in the <code>openshift-pipelines</code> namespace is automatically reset to default after upgrading the Red Hat OpenShift Pipelines Operator because directly updating the config map is not supported when installed by using the Red Hat OpenShift Pipelines Operator. However, with this update, you can configure Tekton Chains by using the <code>TektonChain</code> custom resource. This feature enables your configuration to persist after upgrading, unlike the <code>chains-config</code> config map, which gets overwritten during upgrades.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="tekton-hub-new-features-1-8_op-release-notes"><a class="anchor" href="#tekton-hub-new-features-1-8_op-release-notes"></a>Tekton Hub</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Hub is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, if you install a fresh instance of Tekton Hub by using the Operator, the Tekton Hub login is disabled by default. To enable the login and rating features, you must create the Hub API secret while installing Tekton Hub.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Because Tekton Hub login was enabled by default in Red Hat OpenShift Pipelines 1.7, if you upgrade the Operator, the login is enabled by default in Red Hat OpenShift Pipelines 1.8. To disable this login, see <a href="https://access.redhat.com/articles/6973040">Disabling Tekton Hub login after upgrading from OpenShift Pipelines 1.7.x -&#8594; 1.8.x</a></p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>With this update, as an administrator, you can configure your local Tekton Hub instance to use a custom PostgreSQL 13 database rather than the default database. To do so, create a <code>Secret</code> resource named <code>tekton-hub-db</code>. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Secret</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">tekton-hub-db</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">tekton-hub-db</span>
<span class="na">type</span><span class="pi">:</span> <span class="s">Opaque</span>
<span class="na">stringData</span><span class="pi">:</span>
  <span class="na">POSTGRES_HOST</span><span class="pi">:</span> <span class="s">&lt;hostname&gt;</span>
  <span class="na">POSTGRES_DB</span><span class="pi">:</span> <span class="s">&lt;database_name&gt;</span>
  <span class="na">POSTGRES_USER</span><span class="pi">:</span> <span class="s">&lt;username&gt;</span>
  <span class="na">POSTGRES_PASSWORD</span><span class="pi">:</span> <span class="s">&lt;password&gt;</span>
  <span class="na">POSTGRES_PORT</span><span class="pi">:</span> <span class="s">&lt;listening_port_number&gt;</span></code></pre>
</div>
</div>
</li>
<li>
<p>With this update, you no longer need to log in to the Tekton Hub web console to add resources from the catalog to the database. Now, these resources are automatically added when the Tekton Hub API starts running for the first time.</p>
</li>
<li>
<p>This update automatically refreshes the catalog every 30 minutes by calling the catalog refresh API job. This interval is user-configurable.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="pac-new-features-1-8_op-release-notes"><a class="anchor" href="#pac-new-features-1-8_op-release-notes"></a>Pipelines as Code</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pipelines as Code (PAC) is a Technology Preview feature only. Technology Preview features are not supported with Red Hat production service level agreements (SLAs) and might not be functionally complete. Red Hat does not recommend using them in production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information about the support scope of Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Support Scope</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, as a developer, you get a notification from the <code>tkn-pac</code> CLI tool if you try to add a duplicate repository to a Pipelines as Code run. When you enter <code>tkn pac create repository</code>, each repository must have a unique URL. This notification also helps prevent hijacking exploits.</p>
</li>
<li>
<p>With this update, as a developer, you can use the new <code>tkn-pac setup cli</code> command to add a Git repository to Pipelines as Code by using the webhook mechanism. This way, you can use Pipelines as Code even when using GitHub Apps is not feasible. This capability includes support for repositories on GitHub, GitLab, and BitBucket.</p>
</li>
<li>
<p>With this update, Pipelines as Code supports GitLab integration with features such as the following:</p>
<div class="ulist">
<ul>
<li>
<p>ACL (Access Control List) on project or group</p>
</li>
<li>
<p><code>/ok-to-test</code> support from allowed users</p>
</li>
<li>
<p><code>/retest</code> support.</p>
</li>
</ul>
</div>
</li>
<li>
<p>With this update, you can perform advanced pipeline filtering with Common Expression Language (CEL). With CEL, you can match pipeline runs with different Git provider events by using annotations in the <code>PipelineRun</code> resource. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml">  <span class="s">...</span>
  <span class="s">annotations</span><span class="pi">:</span>
     <span class="s">pipelinesascode.tekton.dev/on-cel-expression</span><span class="pi">:</span> <span class="pi">|</span>
      <span class="s">event == "pull_request" &amp;&amp; target_branch == "main" &amp;&amp; source_branch == "wip"</span></code></pre>
</div>
</div>
</li>
<li>
<p>Previously, as a developer, you could have only one pipeline run in your <code>.tekton</code> directory for each Git event, such as a pull request. With this update, you can have multiple pipeline runs in your <code>.tekton</code> directory. The web console displays the status and reports of the runs. The pipeline runs operate in parallel and report back to the Git provider interface.</p>
</li>
<li>
<p>With this update, you can test or retest a pipeline run by commenting <code>/test</code> or <code>/retest</code> on a pull request. You can also specify the pipeline run by name. For example, you can enter <code>/test &lt;pipelinerun_name&gt;</code> or  <code>/retest &lt;pipelinerun-name&gt;</code>.</p>
</li>
<li>
<p>With this update, you can delete a repository custom resource and its associated secrets by using the new <code>tkn-pac delete repository</code> command.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="breaking-changes-1-8_op-release-notes"><a class="anchor" href="#breaking-changes-1-8_op-release-notes"></a>Breaking changes</h3>
<div class="ulist">
<ul>
<li>
<p>This update changes the default metrics level of <code>TaskRun</code> and <code>PipelineRun</code> resources to the following values:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ConfigMap</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">config-observability</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">tekton-pipelines</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="s">app.kubernetes.io/instance</span><span class="pi">:</span> <span class="s">default</span>
    <span class="s">app.kubernetes.io/part-of</span><span class="pi">:</span> <span class="s">tekton-pipelines</span>
<span class="na">data</span><span class="pi">:</span>
  <span class="na">_example</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="s">...</span>
    <span class="s">metrics.taskrun.level: "task"</span>
    <span class="s">metrics.taskrun.duration-type: "histogram"</span>
    <span class="s">metrics.pipelinerun.level: "pipeline"</span>
    <span class="s">metrics.pipelinerun.duration-type: "histogram"</span></code></pre>
</div>
</div>
</li>
<li>
<p>With this update, if an annotation or label is present in both <code>Pipeline</code> and <code>PipelineRun</code> resources, the value in the <code>Run</code> type takes precedence. The same is true if an annotation or label is present in <code>Task</code> and <code>TaskRun</code> resources.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.8, the previously deprecated <code>PipelineRun.Spec.ServiceAccountNames</code> field has been removed. Use the <code>PipelineRun.Spec.TaskRunSpecs</code> field instead.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.8, the previously deprecated <code>TaskRun.Status.ResourceResults.ResourceRef</code> field has been removed. Use the <code>TaskRun.Status.ResourceResults.ResourceName</code> field instead.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.8, the previously deprecated <code>Conditions</code> resource type has been removed. Remove the <code>Conditions</code> resource from <code>Pipeline</code> resource definitions that include it. Use <code>when</code> expressions in <code>PipelineRun</code> definitions instead.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>For Tekton Chains, the <code>tekton-provenance</code> format has been removed in this release. Use the <code>in-toto</code> format by setting <code>"artifacts.taskrun.format": "in-toto"</code> in the <code>TektonChain</code> custom resource instead.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Red Hat OpenShift Pipelines 1.7.x shipped with Pipelines as Code 0.5.x. The current update ships with Pipelines as Code 0.10.x. This change creates a new route in the <code>openshift-pipelines</code> namespace for the new controller. You must update this route in GitHub Apps or webhooks that use Pipelines as Code. To fetch the route, use the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get route <span class="nt">-n</span> openshift-pipelines pipelines-as-code-controller <span class="se">\</span>
  <span class="nt">--template</span><span class="o">=</span><span class="s1">'https://{{ .spec.host }}'</span></code></pre>
</div>
</div>
</li>
<li>
<p>With this update, Pipelines as Code renames the default secret keys for the <code>Repository</code> custom resource definition (CRD). In your CRD, replace <code>token</code> with <code>provider.token</code>, and replace <code>secret</code> with <code>webhook.secret</code>.</p>
</li>
<li>
<p>With this update, Pipelines as Code replaces a special template variable with one that supports multiple pipeline runs for private repositories. In your pipeline runs, replace <code>secret: pac-git-basic-auth-{{repo_owner}}-{{repo_name}}</code> with <code>secret: {{ git_auth_secret }}</code>.</p>
</li>
<li>
<p>With this update, Pipelines as Code updates the following commands in the <code>tkn-pac</code> CLI tool:</p>
<div class="ulist">
<ul>
<li>
<p>Replace <code>tkn pac repository create</code> with <code>tkn pac create repository</code>.</p>
</li>
<li>
<p>Replace <code>tkn pac repository delete</code> with <code>tkn pac delete repository</code>.</p>
</li>
<li>
<p>Replace <code>tkn pac repository list</code> with <code>tkn pac list</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-8_op-release-notes"><a class="anchor" href="#deprecated-features-1-8_op-release-notes"></a>Deprecated and removed features</h3>
<div class="ulist">
<ul>
<li>
<p>Starting with OpenShift Container Platform 4.11, the <code>preview</code> and <code>stable</code> channels for installing and upgrading the Red Hat OpenShift Pipelines Operator are removed. To install and upgrade the Operator, use the appropriate <code>pipelines-&lt;version&gt;</code> channel, or the <code>latest</code> channel for the most recent stable version. For example, to install the OpenShift Pipelines Operator version <code>1.8.x</code>, use the <code>pipelines-1.8</code> channel.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In OpenShift Container Platform 4.10 and earlier versions, you can use the <code>preview</code> and <code>stable</code> channels for installing and upgrading the Operator.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Support for the <code>tekton.dev/v1alpha1</code> API version, which was deprecated in Red Hat OpenShift Pipelines GA 1.6, is planned to be removed in the upcoming Red Hat OpenShift Pipelines GA 1.9 release.</p>
<div class="paragraph">
<p>This change affects the pipeline component, which includes the <code>TaskRun</code>, <code>PipelineRun</code>, <code>Task</code>, <code>Pipeline</code>, and similar <code>tekton.dev/v1alpha1</code> resources. As an alternative, update existing resources to use <code>apiVersion: tekton.dev/v1beta1</code> as described in <a href="https://tekton.dev/docs/pipelines/migrating-v1alpha1-to-v1beta1/">Migrating From Tekton v1alpha1 to Tekton v1beta1</a>.</p>
</div>
<div class="paragraph">
<p>Bug fixes and support for the <code>tekton.dev/v1alpha1</code> API version are provided only through the end of the current GA 1.8 lifecycle.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For the <strong>Tekton Operator</strong>, the <code>operator.tekton.dev/v1alpha1</code> API version is <strong>not</strong> deprecated. You do not need to make changes to this value.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.8, the <code>PipelineResource</code> custom resource (CR) is available but no longer supported. The <code>PipelineResource</code> CR was a Tech Preview feature and part of the <code>tekton.dev/v1alpha1</code> API, which had been deprecated and planned to be removed in the upcoming Red Hat OpenShift Pipelines GA 1.9 release.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.8, the <code>Condition</code> custom resource (CR) is removed. The <code>Condition</code> CR was part of the <code>tekton.dev/v1alpha1</code> API, which has been deprecated and is planned to be removed in the upcoming Red Hat OpenShift Pipelines GA 1.9 release.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.8, the <code>gcr.io</code> image for <code>gsutil</code> has been removed. This removal might break clusters with <code>Pipeline</code> resources that depend on this image. Bug fixes and support are provided only through the end of the Red Hat OpenShift Pipelines 1.7 lifecycle.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>In Red Hat OpenShift Pipelines 1.8, the <code>PipelineRun.Status.TaskRuns</code> and <code>PipelineRun.Status.Runs</code> fields are deprecated and are planned to be removed in a future release. See <a href="https://github.com/tektoncd/community/blob/main/teps/0100-embedded-taskruns-and-runs-status-in-pipelineruns.md">TEP-0100: Embedded TaskRuns and Runs Status in PipelineRuns</a>.</p>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.8, the <code>pipelineRunCancelled</code> state is deprecated and planned to be removed in a future release. Graceful termination of <code>PipelineRun</code> objects is now promoted from an alpha feature to a stable feature. (See <a href="https://github.com/tektoncd/community/blob/main/teps/0058-graceful-pipeline-run-termination.md">TEP-0058: Graceful Pipeline Run Termination</a>.) As an alternative, you can use the <code>Cancelled</code> state, which replaces the <code>pipelineRunCancelled</code> state.</p>
<div class="paragraph">
<p>You do not need to make changes to your <code>Pipeline</code> and <code>Task</code> resources. If you have tools that cancel pipeline runs, you must update tools in the next release. This change also affects tools such as the CLI, IDE extensions, and so on, so that they support the new <code>PipelineRun</code> statuses.</p>
</div>
<div class="paragraph">
<p>Because this feature is available by default, you no longer need to set the <code>pipeline.enable-api-fields</code> field to <code>alpha</code> in the <code>TektonConfig</code> custom resource definition.</p>
</div>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.8, the <code>timeout</code> field in <code>PipelineRun</code> has been deprecated. Instead, use the <code>PipelineRun.Timeouts</code> field, which is now promoted from an alpha feature to a stable feature.</p>
<div class="paragraph">
<p>Because this feature is available by default, you no longer need to set the <code>pipeline.enable-api-fields</code> field to <code>alpha</code> in the <code>TektonConfig</code> custom resource definition.</p>
</div>
</li>
<li>
<p>In Red Hat OpenShift Pipelines 1.8, <code>init</code> containers are omitted from the <code>LimitRange</code> object&#8217;s default request calculations.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-8_op-release-notes"><a class="anchor" href="#known-issues-1-8_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>The <code>s2i-nodejs</code> pipeline cannot use the <code>nodejs:14-ubi8-minimal</code> image stream to perform source-to-image (S2I) builds. Using that image stream produces an <code>error building at STEP "RUN /usr/libexec/s2i/assemble": exit status 127</code> message.</p>
<div class="paragraph">
<p>Workaround: Use <code>nodejs:14-ubi8</code> rather than the <code>nodejs:14-ubi8-minimal</code> image stream.</p>
</div>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>When you run Maven and Jib-Maven cluster tasks, the default container image is supported only on Intel (x86) architecture. Therefore, tasks will fail on ARM, IBM Power Systems (ppc64le), IBM Z, and LinuxONE (s390x) clusters.</p>
<div class="paragraph">
<p>Workaround: Specify a custom image by setting the <code>MAVEN_IMAGE</code> parameter value to <code>maven:3.6.3-adoptopenjdk-11</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Before you install tasks that are based on the Tekton Catalog on ARM, IBM Power Systems (ppc64le), IBM Z, and LinuxONE (s390x) using <code>tkn hub</code>, verify if the task can be executed on these platforms. To check if <code>ppc64le</code> and <code>s390x</code> are listed in the "Platforms" section of the task information, you can run the following command: <code>tkn hub info task &lt;name&gt;</code></p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>On ARM, IBM Power Systems, IBM Z, and LinuxONE, the <code>s2i-dotnet</code> cluster task is unsupported.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Implicit parameter mapping incorrectly passes parameters from the top-level <code>Pipeline</code> or <code>PipelineRun</code> definitions to the <code>taskRef</code> tasks. Mapping should only occur from a top-level resource to tasks with in-line <code>taskSpec</code> specifications. This issue only affects clusters where this feature was enabled by setting the <code>enable-api-fields</code> field to <code>alpha</code> in the <code>pipeline</code> section of the <code>TektonConfig</code> custom resource definition.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-8_op-release-notes"><a class="anchor" href="#fixed-issues-1-8_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Before this update, the metrics for pipeline runs in the Developer view of the web console were incomplete and outdated. With this update, the issue has been fixed so that the metrics are correct.</p>
</li>
<li>
<p>Before this update, if a pipeline had two parallel tasks that failed and one of them had <code>retries=2</code>, the final tasks never ran, and the pipeline timed out and failed to run. For example, the <code>pipelines-operator-subscription</code> task failed intermittently with the following error message: <code>Unable to connect to the server: EOF</code>. With this update, the issue has been fixed so that the final tasks always run.</p>
</li>
<li>
<p>Before this update, if a pipeline run stopped because a task run failed,other task runs might not complete their retries. As a result,no <code>finally</code> tasks were scheduled, which caused the pipeline to hang.This update resolves the issue. <code>TaskRuns</code> and <code>Run</code> objects can retry when a pipeline run has stopped, even by graceful stopping, so that pipeline runs can complete.</p>
</li>
<li>
<p>This update changes how resource requirements are calculated when one or more <code>LimitRange</code> objects are present in the namespace where a <code>TaskRun</code> object exists. The scheduler now considers <code>step</code> containers and excludes all other app containers, such as sidecar containers, when factoring requests from <code>LimitRange</code> objects.</p>
</li>
<li>
<p>Before this update, under specific conditions, the flag package might incorrectly parse a subcommand immediately following a double dash flag terminator, <code>--</code>. In that case, it ran the entrypoint subcommand rather than the actual command. This update fixes this flag-parsing issue so that the entrypoint runs the correct command.</p>
</li>
<li>
<p>Before this update, the controller might generate multiple panics if pulling an image failed, or its pull status was incomplete. This update fixes the issue by checking the <code>step.ImageID</code> value rather than the <code>status.TaskSpec</code> value.</p>
</li>
<li>
<p>Before this update, canceling a pipeline run that contained an unscheduled custom task produced a <code>PipelineRunCouldntCancel</code> error. This update fixes the issue. You can cancel a pipeline run that contains an unscheduled custom task without producing that error.</p>
</li>
<li>
<p>Before this update, if the <code>&lt;NAME&gt;</code> in <code>$params["&lt;NAME&gt;"]</code> or <code>$params['&lt;NAME&gt;']</code> contained a dot character (<code>.</code>),  any part of the name to the right of the dot was not extracted. For example, from <code>$params["org.ipsum.lorem"]</code>, only <code>org</code> was extracted.</p>
<div class="paragraph">
<p>This update fixes the issue so that <code>$params</code> fetches the complete value. For example, <code>$params["org.ipsum.lorem"]</code> and <code>$params['org.ipsum.lorem']</code> are valid and the entire value of <code>&lt;NAME&gt;</code>, <code>org.ipsum.lorem</code>, is extracted.</p>
</div>
<div class="paragraph">
<p>It also throws an error if <code>&lt;NAME&gt;</code> is not enclosed in single or double quotes. For example, <code>$params.org.ipsum.lorem</code> is not valid and generates a validation error.</p>
</div>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, <code>Trigger</code> resources support custom interceptors and ensure that the port of the custom interceptor service is the same as the port in the <code>ClusterInterceptor</code> definition file.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Before this update, the <code>tkn version</code> command for Tekton Chains and Operator components did not work correctly. This update fixes the issue so that the command works correctly and returns version information for those components.</p>
</li>
<li>
<p>Before this update, if you ran a <code>tkn pr delete --ignore-running</code> command and a pipeline run did not have a <code>status.condition</code> value, the <code>tkn</code> CLI tool produced a null-pointer error (NPE). This update fixes the issue so that the CLI tool now generates an error and correctly ignores pipeline runs that are still running.</p>
</li>
<li>
<p>Before this update, if you used the <code>tkn pr delete --keep &lt;value&gt;</code> or <code>tkn tr delete  --keep &lt;value&gt;</code> commands, and the number of pipeline runs or task runs was less than the value, the command did not return an error as expected. This update fixes the issue so that the command correctly returns an error under those conditions.</p>
</li>
<li>
<p>Before this update, if you used the <code>tkn pr delete</code> or <code>tkn tr delete</code> commands with the <code>-p</code> or <code>-t</code> flags together with the <code>--ignore-running</code> flag, the commands incorrectly deleted running or pending resources. This update fixes the issue so that these commands correctly ignore running or pending resources.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, you can configure Tekton Chains by using the <code>TektonChain</code> custom resource. This feature enables your configuration to persist after upgrading, unlike the <code>chains-config</code> config map, which gets overwritten during upgrades.</p>
</li>
<li>
<p>With this update, <code>ClusterTask</code> resources no longer run as root by default, except for the <code>buildah</code> and <code>s2i</code> cluster tasks.</p>
</li>
<li>
<p>Before this update, tasks on Red Hat OpenShift Pipelines 1.7.1 failed when using <code>init</code> as a first argument followed by two or more arguments. With this update, the flags are parsed correctly, and the task runs are successful.</p>
</li>
<li>
<p>Before this update, installation of the Red Hat OpenShift Pipelines Operator on OpenShift Container Platform 4.9 and 4.10 failed due to an invalid role binding, with the following error message:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">error updating rolebinding openshift-operators-prometheus-k8s-read-binding: RoleBinding.rbac.authorization.k8s.io
"openshift-operators-prometheus-k8s-read-binding" is invalid:
roleRef: Invalid value: rbac.RoleRef{APIGroup:"rbac.authorization.k8s.io", Kind:"Role", Name:"openshift-operator-read"}: cannot change roleRef</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This update fixes the issue so that the failure no longer occurs.</p>
</div>
</li>
<li>
<p>Previously, upgrading the Red Hat OpenShift Pipelines Operator caused the <code>pipeline</code> service account to be recreated, which meant that the secrets linked to the service account were lost. This update fixes the issue. During upgrades, the Operator no longer recreates the <code>pipeline</code> service account. As a result, secrets attached to the <code>pipeline</code> service account persist after upgrades, and the resources (tasks and pipelines) continue to work correctly.</p>
</li>
<li>
<p>With this update, Pipelines as Code pods run on infrastructure nodes if infrastructure node settings are configured in the <code>TektonConfig</code> custom resource (CR).</p>
</li>
<li>
<p>Previously, with the resource pruner, each namespace Operator created a command that ran in a separate container. This design consumed too many resources in clusters with a high number of namespaces. For example, to run a single command, a cluster with 1000 namespaces produced 1000 containers in a pod.</p>
<div class="paragraph">
<p>This update fixes the issue. It passes the namespace-based configuration to the job so that all the commands run in one container in a loop.</p>
</div>
</li>
<li>
<p>In Tekton Chains, you must define a secret called <code>signing-secrets</code> to hold the key used for signing tasks and images. However, before this update, updating the Red Hat OpenShift Pipelines Operator reset or overwrote this secret, and the key was lost. This update fixes the issue. Now, if the secret is configured after installing Tekton Chains through the Operator, the secret persists, and it is not overwritten by upgrades.</p>
</li>
<li>
<p>Before this update, all S2I build tasks failed with an error similar to the following message:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">Error: error writing "0 0 4294967295\n" to /proc/22/uid_map: write /proc/22/uid_map: operation not permitted
time="2022-03-04T09:47:57Z" level=error msg="error writing \"0 0 4294967295\\n\" to /proc/22/uid_map: write /proc/22/uid_map: operation not permitted"
time="2022-03-04T09:47:57Z" level=error msg="(unable to determine exit status)"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With this update, the <code>pipelines-scc</code> security context constraint (SCC) is compatible with the <code>SETFCAP</code> capability necessary for <code>Buildah</code> and <code>S2I</code> cluster tasks. As a result, the <code>Buildah</code> and <code>S2I</code> build tasks can run successfully.</p>
</div>
<div class="paragraph">
<p>To successfully run the <code>Buildah</code> cluster task and <code>S2I</code> build tasks for applications written in various languages and frameworks, add the following snippet for appropriate <code>steps</code> objects such as <code>build</code> and <code>push</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">securityContext</span><span class="pi">:</span>
  <span class="na">capabilities</span><span class="pi">:</span>
    <span class="na">add</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">SETFCAP"</span><span class="pi">]</span></code></pre>
</div>
</div>
</li>
<li>
<p>Before this update, installing the Red Hat OpenShift Pipelines Operator took longer than expected. This update optimizes some settings to speed up the installation process.</p>
</li>
<li>
<p>With this update, Buildah and S2I cluster tasks have fewer steps than in previous versions. Some steps have been combined into a single step so that they work better with <code>ResourceQuota</code> and <code>LimitRange</code> objects and do not require more resources than necessary.</p>
</li>
<li>
<p>This update upgrades the Buildah, <code>tkn</code> CLI tool, and <code>skopeo</code> CLI tool versions in cluster tasks.</p>
</li>
<li>
<p>Before this update, the Operator failed when creating RBAC resources if any namespace was in a <code>Terminating</code> state. With this update, the Operator ignores namespaces in a <code>Terminating</code> state and creates the RBAC resources.</p>
</li>
<li>
<p>Before this update, pods for the prune cronjobs were not scheduled on infrastructure nodes, as expected. Instead, they were scheduled on worker nodes or not scheduled at all. With this update, these types of pods can now be scheduled on infrastructure nodes if configured in the <code>TektonConfig</code> custom resource (CR).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-8-1_op-release-notes"><a class="anchor" href="#release-notes-1-8-1_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.8.1</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.8.1 is available on OpenShift Container Platform 4.10, 4.11, and 4.12.</p>
</div>
<div class="sect3">
<h4 id="known-issues-1-8-1_op-release-notes"><a class="anchor" href="#known-issues-1-8-1_op-release-notes"></a>Known issues</h4>
<div class="ulist">
<ul>
<li>
<p>By default, the containers have restricted permissions for enhanced security. The restricted permissions apply to all controller pods in the Red Hat OpenShift Pipelines Operator, and to some cluster tasks. Due to restricted permissions, the <code>git-clone</code> cluster task fails under certain configurations.</p>
<div class="paragraph">
<p>Workaround: None. You can track the issue <a href="https://issues.redhat.com/browse/SRVKP-2634">SRVKP-2634</a>.</p>
</div>
</li>
<li>
<p>When installer sets are in a failed state, the status of the <code>TektonConfig</code> custom resource is incorrectly displayed as <code>True</code> instead of <code>False</code>.</p>
<div class="listingblock">
<div class="title">Example: Failed installer sets</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get tektoninstallerset
<span class="go">NAME                                     READY   REASON
addon-clustertasks-nx5xz                 False   Error
addon-communityclustertasks-cfb2p        True
addon-consolecli-ftrb8                   True
addon-openshift-67dj2                    True
addon-pac-cf7pz                          True
addon-pipelines-fvllm                    True
addon-triggers-b2wtt                     True
addon-versioned-clustertasks-1-8-hqhnw   False   Error
pipeline-w75ww                           True
postpipeline-lrs22                       True
prepipeline-ldlhw                        True
rhosp-rbac-4dmgb                         True
trigger-hfg64                            True
validating-mutating-webhoook-28rf7       True</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Incorrect <code>TektonConfig</code> status</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get tektonconfig config
<span class="go">NAME     VERSION   READY   REASON
config   1.8.1     True</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-8-1_op-release-notes"><a class="anchor" href="#fixed-issues-1-8-1_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, the pruner deleted task runs of running pipelines and displayed the following warning: <code>some tasks were indicated completed without ancestors being done</code>. With this update, the pruner retains the task runs that are part of running pipelines.</p>
</li>
<li>
<p>Before this update, <code>pipeline-1.8</code> was the default channel for installing the Red Hat OpenShift Pipelines Operator 1.8.x. With this update, <code>latest</code> is the default channel.</p>
</li>
<li>
<p>Before this update, the Pipelines as Code controller pods did not have access to certificates exposed by the user. With this update, Pipelines as Code can now access routes and Git repositories guarded by a self-signed or a custom certificate.</p>
</li>
<li>
<p>Before this update, the task failed with RBAC errors after upgrading from Red Hat OpenShift Pipelines 1.7.2 to 1.8.0. With this update, the tasks run successfully without any RBAC errors.</p>
</li>
<li>
<p>Before this update, using the <code>tkn</code> CLI tool, you could not remove task runs and pipeline runs that contained a <code>result</code> object whose type was <code>array</code>. With this update, you can use the <code>tkn</code> CLI tool to remove task runs and pipeline runs that contain a <code>result</code> object whose type is <code>array</code>.</p>
</li>
<li>
<p>Before this update, if a pipeline specification contained a task with an <code>ENV_VARS</code> parameter of <code>array</code> type, the pipeline run failed with the following error: <code>invalid input params for task func-buildpacks: param types don&#8217;t match the user-specified type: [ENV_VARS]</code>. With this update, pipeline runs with such pipeline and task specifications do not fail.</p>
</li>
<li>
<p>Before this update, cluster administrators could not provide a <code>config.json</code> file to the <code>Buildah</code> cluster task for accessing a container registry. With this update, cluster administrators can provide the <code>Buildah</code> cluster task with a <code>config.json</code> file by using the <code>dockerconfig</code> workspace.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-8-2_op-release-notes"><a class="anchor" href="#release-notes-1-8-2_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.8.2</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.8.2 is available on OpenShift Container Platform 4.10, 4.11, and 4.12.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-8-2_op-release-notes"><a class="anchor" href="#fixed-issues-1-8-2_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, the <code>git-clone</code> task failed when cloning a repository using SSH keys. With this update, the role of the non-root user in the <code>git-init</code> task is removed, and the SSH program looks in the <code>$HOME/.ssh/</code> directory for the correct keys.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-7_op-release-notes"><a class="anchor" href="#op-release-notes-1-7_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.7</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.7 is available on OpenShift Container Platform 4.9, 4.10, and 4.11.</p>
</div>
<div class="sect2">
<h3 id="new-features-1-7_op-release-notes"><a class="anchor" href="#new-features-1-7_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>In addition to the fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.7.</p>
</div>
<div class="sect3">
<h4 id="pipelines-new-features-1-7_op-release-notes"><a class="anchor" href="#pipelines-new-features-1-7_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, <code>pipelines-&lt;version&gt;</code> is the default channel to install the Red Hat OpenShift Pipelines Operator. For example, the default channel to install the OpenShift Pipelines Operator version <code>1.7</code> is <code>pipelines-1.7</code>. Cluster administrators can also use the <code>latest</code> channel to install the most recent stable version of the Operator.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>preview</code> and <code>stable</code> channels will be deprecated and removed in a future release.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>When you run a command in a user namespace, your container runs as <code>root</code> (user id <code>0</code>) but has user privileges on the host. With this update, to run pods in the user namespace, you must pass the annotations that <a href="https://cri-o.io/">CRI-O</a> expects.</p>
<div class="ulist">
<ul>
<li>
<p>To add these annotations for all users, run the <code>oc edit clustertask buildah</code> command and edit the <code>buildah</code> cluster task.</p>
</li>
<li>
<p>To add the annotations to a specific namespace, export the cluster task as a task to that namespace.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Before this update, if certain conditions were not met, the <code>when</code> expression skipped a <code>Task</code> object and its dependent tasks. With this update, you can scope the <code>when</code> expression to guard the <code>Task</code> object only, not its dependent tasks. To enable this update, set the <code>scope-when-expressions-to-task</code> flag to <code>true</code> in the <code>TektonConfig</code> CRD.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>scope-when-expressions-to-task</code> flag is deprecated and will be removed in a future release. As a best practice for OpenShift Pipelines, use <code>when</code> expressions scoped to the guarded <code>Task</code> only.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>With this update, you can use variable substitution in the <code>subPath</code> field of a workspace within a task.</p>
</li>
<li>
<p>With this update, you can reference parameters and results by using a bracket notation with single or double quotes. Prior to this update, you could only use the dot notation. For example, the following are now equivalent:</p>
<div class="ulist">
<ul>
<li>
<p><code>$(param.myparam)</code>, <code>$(param['myparam'])</code>, and <code>$(param["myparam"])</code>.</p>
<div class="paragraph">
<p>You can use single or double quotes to enclose parameter names that contain problematic characters, such as <code>"."</code>. For example, <code>$(param['my.param'])</code> and <code>$(param["my.param"])</code>.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>With this update, you can include the <code>onError</code> parameter of a step in the task definition without enabling the <code>enable-api-fields</code> flag.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-7_op-release-notes"><a class="anchor" href="#triggers-new-features-1-7_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, the <code>feature-flag-triggers</code> config map has a new field <code>labels-exclusion-pattern</code>. You can set the value of this field to a regular expression (regex) pattern. The controller filters out labels that match the regex pattern from propagating from the event listener to the resources created for the event listener.</p>
</li>
<li>
<p>With this update, the <code>TriggerGroups</code> field is added to the <code>EventListener</code> specification. Using this field, you can specify a set of interceptors to run before selecting and running a group of triggers. To enable this feature, in the <code>TektonConfig</code> custom resource definition, in the <code>pipeline</code> section, you must set the <code>enable-api-fields</code> field to <code>alpha</code>.</p>
</li>
<li>
<p>With this update, <code>Trigger</code> resources support custom runs defined by a <code>TriggerTemplate</code> template.</p>
</li>
<li>
<p>With this update, Triggers support emitting Kubernetes events from an <code>EventListener</code> pod.</p>
</li>
<li>
<p>With this update, count metrics are available for the following objects: <code>ClusterInteceptor</code>, <code>EventListener</code>, <code>TriggerTemplate</code>, <code>ClusterTriggerBinding</code>, and <code>TriggerBinding</code>.</p>
</li>
<li>
<p>This update adds the <code>ServicePort</code> specification to Kubernetes resource. You can use this specification to modify which port exposes the event listener service. The default port is <code>8080</code>.</p>
</li>
<li>
<p>With this update, you can use the <code>targetURI</code> field in the <code>EventListener</code> specification to send cloud events during trigger processing. To enable this feature, in the <code>TektonConfig</code> custom resource definition, in the <code>pipeline</code> section, you must set the <code>enable-api-fields</code> field to <code>alpha</code>.</p>
</li>
<li>
<p>With this update, the <code>tekton-triggers-eventlistener-roles</code> object now has a <code>patch</code> verb, in addition to the <code>create</code> verb that already exists.</p>
</li>
<li>
<p>With this update, the <code>securityContext.runAsUser</code> parameter is removed from event listener deployment.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cli-new-features-1-7_op-release-notes"><a class="anchor" href="#cli-new-features-1-7_op-release-notes"></a>CLI</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, the <code>tkn [pipeline | pipelinerun] export</code> command exports a pipeline or pipeline run as a YAML file. For example:</p>
<div class="ulist">
<ul>
<li>
<p>Export a pipeline named <code>test_pipeline</code> in the <code>openshift-pipelines</code> namespace:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>tkn pipeline <span class="nb">export </span>test_pipeline <span class="nt">-n</span> openshift-pipelines</code></pre>
</div>
</div>
</li>
<li>
<p>Export a pipeline run named <code>test_pipeline_run</code> in the <code>openshift-pipelines</code> namespace:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>tkn pipelinerun <span class="nb">export </span>test_pipeline_run <span class="nt">-n</span> openshift-pipelines</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>With this update, the <code>--grace</code> option is added to the <code>tkn pipelinerun cancel</code>. Use the <code>--grace</code> option to terminate a pipeline run gracefully instead of forcing the termination. To enable this feature, in the <code>TektonConfig</code> custom resource definition, in the <code>pipeline</code> section, you must set the <code>enable-api-fields</code> field to <code>alpha</code>.</p>
</li>
<li>
<p>This update adds the Operator and Chains versions to the output of the <code>tkn version</code> command.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Chains is a Technology Preview feature.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>With this update, the <code>tkn pipelinerun describe</code> command displays all canceled task runs, when you cancel a pipeline run. Before this fix, only one task run was displayed.</p>
</li>
<li>
<p>With this update, you can skip supplying the asking specifications for optional workspace when you run the <code>tkn [t | p | ct] start</code> command skips with the <code>--skip-optional-workspace</code> flag. You can also skip it when running in interactive mode.</p>
</li>
<li>
<p>With this update, you can use the <code>tkn chains</code> command to manage Tekton Chains. You can also use the <code>--chains-namespace</code> option to specify the namespace where you want to install Tekton Chains.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Chains is a Technology Preview feature.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="operator-new-features-1-7_op-release-notes"><a class="anchor" href="#operator-new-features-1-7_op-release-notes"></a>Operator</h4>
<div class="ulist">
<ul>
<li>
<p>With this update, you can use the Red Hat OpenShift Pipelines Operator to install and deploy Tekton Hub and Tekton Chains.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Chains and deployment of Tekton Hub on a cluster are Technology Preview features.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>With this update, you can find and use Pipelines as Code (PAC) as an add-on option.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pipelines as Code is a Technology Preview feature.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>With this update, you can now disable the installation of community cluster tasks by setting the <code>communityClusterTasks</code> parameter to <code>false</code>. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="nn">...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">profile</span><span class="pi">:</span> <span class="s">all</span>
  <span class="na">targetNamespace</span><span class="pi">:</span> <span class="s">openshift-pipelines</span>
  <span class="na">addon</span><span class="pi">:</span>
    <span class="na">params</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">clusterTasks</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">pipelineTemplates</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">communityClusterTasks</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">false"</span>
<span class="nn">...</span></code></pre>
</div>
</div>
</li>
<li>
<p>With this update, you can disable the integration of Tekton Hub with the <strong>Developer</strong> perspective by setting the <code>enable-devconsole-integration</code> flag in the <code>TektonConfig</code> custom resource to <code>false</code>. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="nn">...</span>
<span class="na">hub</span><span class="pi">:</span>
  <span class="na">params</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">enable-devconsole-integration</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
<span class="nn">...</span></code></pre>
</div>
</div>
</li>
<li>
<p>With this update, the <code>operator-config.yaml</code> config map enables the output of the <code>tkn version</code> command to display of the Operator version.</p>
</li>
<li>
<p>With this update, the version of the <code>argocd-task-sync-and-wait</code> tasks is modified to <code>v0.2</code>.</p>
</li>
<li>
<p>With this update to the <code>TektonConfig</code> CRD, the <code>oc get tektonconfig</code> command displays the OPerator version.</p>
</li>
<li>
<p>With this update, service monitor is added to the Triggers metrics.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="hub-new-features-1-7_op-release-notes"><a class="anchor" href="#hub-new-features-1-7_op-release-notes"></a>Hub</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Deploying Tekton Hub on a cluster is a Technology Preview feature.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Tekton Hub helps you discover, search, and share reusable tasks and pipelines for your CI/CD workflows. A public instance of Tekton Hub is available at <a href="https://hub.tekton.dev/">hub.tekton.dev</a>.</p>
</div>
<div class="paragraph">
<p>Staring with Red Hat OpenShift Pipelines 1.7, cluster administrators can also install and deploy a custom instance of Tekton Hub on enterprise clusters. You can curate a catalog with reusable tasks and pipelines specific to your organization.</p>
</div>
</div>
<div class="sect3">
<h4 id="chains-new-features-1-7_op-release-notes"><a class="anchor" href="#chains-new-features-1-7_op-release-notes"></a>Chains</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tekton Chains is a Technology Preview feature.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Tekton Chains is a Kubernetes Custom Resource Definition (CRD) controller. You can use it to manage the supply chain security of the tasks and pipelines created using Red Hat OpenShift Pipelines.</p>
</div>
<div class="paragraph">
<p>By default, Tekton Chains monitors the task runs in your OpenShift Container Platform cluster. Chains takes snapshots of completed task runs, converts them to one or more standard payload formats, and signs and stores all artifacts.</p>
</div>
<div class="paragraph">
<p>Tekton Chains supports the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can sign task runs, task run results, and OCI registry images with cryptographic key types and services such as <code>cosign</code>.</p>
</li>
<li>
<p>You can use attestation formats such as <code>in-toto</code>.</p>
</li>
<li>
<p>You can securely store signatures and signed artifacts using OCI repository as a storage backend.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="pac-new-features-1-7_op-release-notes"><a class="anchor" href="#pac-new-features-1-7_op-release-notes"></a>Pipelines as Code (PAC)</h4>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pipelines as Code is a Technology Preview feature.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With Pipelines as Code, cluster administrators and users with the required privileges can define pipeline templates as part of source code Git repositories. When triggered by a source code push or a pull request for the configured Git repository, the feature runs the pipeline and reports status.</p>
</div>
<div class="paragraph">
<p>Pipelines as Code supports the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pull request status. When iterating over a pull request, the status and control of the pull request is exercised on the platform hosting the Git repository.</p>
</li>
<li>
<p>GitHub checks the API to set the status of a pipeline run, including rechecks.</p>
</li>
<li>
<p>GitHub pull request and commit events.</p>
</li>
<li>
<p>Pull request actions in comments, such as <code>/retest</code>.</p>
</li>
<li>
<p>Git events filtering, and a separate pipeline for each event.</p>
</li>
<li>
<p>Automatic task resolution in OpenShift Pipelines for local tasks, Tekton Hub, and remote URLs.</p>
</li>
<li>
<p>Use of GitHub blobs and objects API for retrieving configurations.</p>
</li>
<li>
<p>Access Control List (ACL) over a GitHub organization, or using a Prow-style <code>OWNER</code> file.</p>
</li>
<li>
<p>The <code>tkn pac</code> plugin for the <code>tkn</code> CLI tool, which you can use to manage Pipelines as Code repositories and bootstrapping.</p>
</li>
<li>
<p>Support for GitHub Application, GitHub Webhook, Bitbucket Server, and Bitbucket Cloud.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-7_op-release-notes"><a class="anchor" href="#deprecated-features-1-7_op-release-notes"></a>Deprecated features</h3>
<div class="ulist">
<ul>
<li>
<p>Breaking change: This update removes the <code>disable-working-directory-overwrite</code> and <code>disable-home-env-overwrite</code> fields from the <code>TektonConfig</code> custom resource (CR). As a result, the <code>TektonConfig</code> CR no longer automatically sets the <code>$HOME</code> environment variable and <code>workingDir</code> parameter. You can still set the <code>$HOME</code> environment variable and <code>workingDir</code> parameter by using the <code>env</code> and <code>workingDir</code> fields in the <code>Task</code> custom resource definition (CRD).</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>Conditions</code> custom resource definition (CRD) type is deprecated and planned to be removed in a future release. Instead, use the recommended <code>When</code> expression.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Breaking change: The <code>Triggers</code> resource validates the templates and generates an error if you do not specify the <code>EventListener</code> and <code>TriggerBinding</code> values.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-7_op-release-notes"><a class="anchor" href="#known-issues-1-7_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>When you run Maven and Jib-Maven cluster tasks, the default container image is supported only on Intel (x86) architecture. Therefore, tasks will fail on ARM, IBM Power Systems (ppc64le), IBM Z, and LinuxONE (s390x) clusters. As a workaround, you can specify a custom image by setting the <code>MAVEN_IMAGE</code> parameter value to <code>maven:3.6.3-adoptopenjdk-11</code>.</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Before you install tasks that are based on the Tekton Catalog on ARM, IBM Power Systems (ppc64le), IBM Z, and LinuxONE (s390x) using <code>tkn hub</code>, verify if the task can be executed on these platforms. To check if <code>ppc64le</code> and <code>s390x</code> are listed in the "Platforms" section of the task information, you can run the following command: <code>tkn hub info task &lt;name&gt;</code></p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>On IBM Power Systems, IBM Z, and LinuxONE, the <code>s2i-dotnet</code> cluster task is unsupported.</p>
</li>
<li>
<p>You cannot use the <code>nodejs:14-ubi8-minimal</code> image stream because doing so generates the following errors:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">STEP 7: RUN /usr/libexec/s2i/assemble
/bin/sh: /usr/libexec/s2i/assemble: No such file or directory
subprocess exited with status 127
subprocess exited with status 127
error building at STEP "RUN /usr/libexec/s2i/assemble": exit status 127
time="2021-11-04T13:05:26Z" level=error msg="exit status 127"</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Implicit parameter mapping incorrectly passes parameters from the top-level <code>Pipeline</code> or <code>PipelineRun</code> definitions to the <code>taskRef</code> tasks. Mapping should only occur from a top-level resource to tasks with in-line <code>taskSpec</code> specifications. This issue only affects clusters where this feature was enabled by setting the <code>enable-api-fields</code> field to <code>alpha</code> in the <code>pipeline</code> section of the <code>TektonConfig</code> custom resource definition.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-7_op-release-notes"><a class="anchor" href="#fixed-issues-1-7_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>With this update, if metadata such as <code>labels</code> and <code>annotations</code> are present in both <code>Pipeline</code> and <code>PipelineRun</code> object definitions, the values in the <code>PipelineRun</code> type takes precedence. You can observe similar behavior for <code>Task</code> and <code>TaskRun</code> objects.</p>
</li>
<li>
<p>With this update, if the <code>timeouts.tasks</code> field or the <code>timeouts.finally</code> field is set to <code>0</code>, then the <code>timeouts.pipeline</code> is also set to <code>0</code>.</p>
</li>
<li>
<p>With this update, the <code>-x</code> set flag is removed from scripts that do not use a shebang. The fix reduces potential data leak from script execution.</p>
</li>
<li>
<p>With this update, any backslash character present in the usernames in Git credentials is escaped with an additional backslash in the <code>.gitconfig</code> file.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, the <code>finalizer</code> property of the <code>EventListener</code> object is not necessary for cleaning up logging and config maps.</p>
</li>
<li>
<p>With this update, the default HTTP client associated with the event listener server is removed, and a custom HTTP client added. As a result, the timeouts have improved.</p>
</li>
<li>
<p>With this update, the Triggers cluster role now works with owner references.</p>
</li>
<li>
<p>With this update, the race condition in the event listener does not happen when multiple interceptors return extensions.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, the <code>tkn pr delete</code> command does not delete the pipeline runs with the <code>ignore-running</code> flag.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, the Operator pods do not continue restarting when you modify any add-on parameters.</p>
</li>
<li>
<p>With this update, the <code>tkn serve</code> CLI pod is scheduled on infra nodes, if not configured in the subscription and config custom resources.</p>
</li>
<li>
<p>With this update, cluster tasks with specified versions are not deleted during upgrade.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-7-1_op-release-notes"><a class="anchor" href="#release-notes-1-7-1_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.7.1</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.7.1 is available on OpenShift Container Platform 4.9, 4.10, and 4.11.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-7-1_op-release-notes"><a class="anchor" href="#fixed-issues-1-7-1_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, upgrading the Red Hat OpenShift Pipelines Operator deleted the data in the database associated with Tekton Hub and installed a new database. With this update, an Operator upgrade preserves the data.</p>
</li>
<li>
<p>Before this update, only cluster administrators could access pipeline metrics in the OpenShift Container Platform console. With this update, users with other cluster roles also can access the pipeline metrics.</p>
</li>
<li>
<p>Before this update, pipeline runs failed for pipelines containing tasks that emit large termination messages. The pipeline runs failed because the total size of termination messages of all containers in a pod cannot exceed 12 KB. With this update, the <code>place-tools</code> and <code>step-init</code> initialization containers that uses the same image are merged to reduce the number of containers running in each tasks&#8217;s pod. The solution reduces the chance of failed pipeline runs by minimizing the number of containers running in a task&#8217;s pod. However, it does not remove the limitation of the maximum allowed size of a termination message.</p>
</li>
<li>
<p>Before this update, attempts to access resource URLs directly from the Tekton Hub web console resulted in an Nginx <code>404</code> error. With this update, the Tekton Hub web console image is fixed to allow accessing resource URLs directly from the Tekton Hub web console.</p>
</li>
<li>
<p>Before this update, for each namespace the resource pruner job created a separate container to prune resources. With this update, the resource pruner job runs commands for all namespaces as a loop in one container.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-7-2_op-release-notes"><a class="anchor" href="#release-notes-1-7-2_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.7.2</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.7.2 is available on OpenShift Container Platform 4.9, 4.10, and the upcoming version.</p>
</div>
<div class="sect3">
<h4 id="known-issues-1-7-2_op-release-notes"><a class="anchor" href="#known-issues-1-7-2_op-release-notes"></a>Known issues</h4>
<div class="ulist">
<ul>
<li>
<p>The <code>chains-config</code> config map for Tekton Chains in the <code>openshift-pipelines</code> namespace is automatically reset to default after upgrading the Red Hat OpenShift Pipelines Operator. Currently, there is no workaround for this issue.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-7-2_op-release-notes"><a class="anchor" href="#fixed-issues-1-7-2_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, tasks on OpenShift Pipelines 1.7.1 failed on using <code>init</code> as the first argument, followed by two or more arguments. With this update, the flags are parsed correctly and the task runs are successful.</p>
</li>
<li>
<p>Before this update, installation of the Red Hat OpenShift Pipelines Operator on OpenShift Container Platform 4.9 and 4.10 failed due to invalid role binding, with the following error message:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">error updating rolebinding openshift-operators-prometheus-k8s-read-binding: RoleBinding.rbac.authorization.k8s.io "openshift-operators-prometheus-k8s-read-binding" is invalid: roleRef: Invalid value: rbac.RoleRef{APIGroup:"rbac.authorization.k8s.io", Kind:"Role", Name:"openshift-operator-read"}: cannot change roleRef</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With this update, the Red Hat OpenShift Pipelines Operator installs with distinct role binding namespaces to avoid conflict with installation of other Operators.</p>
</div>
</li>
<li>
<p>Before this update, upgrading the Operator triggered a reset of the <code>signing-secrets</code> secret key for Tekton Chains to its default value. With this update, the custom secret key persists after you upgrade the Operator.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Upgrading to Red Hat OpenShift Pipelines 1.7.2 resets the key. However, when you upgrade to future releases, the key is expected to persist.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Before this update, all S2I build tasks failed with an error similar to the following message:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">Error: error writing "0 0 4294967295\n" to /proc/22/uid_map: write /proc/22/uid_map: operation not permitted
time="2022-03-04T09:47:57Z" level=error msg="error writing \"0 0 4294967295\\n\" to /proc/22/uid_map: write /proc/22/uid_map: operation not permitted"
time="2022-03-04T09:47:57Z" level=error msg="(unable to determine exit status)"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>With this update, the <code>pipelines-scc</code> security context constraint (SCC) is compatible with the <code>SETFCAP</code> capability necessary for <code>Buildah</code> and <code>S2I</code> cluster tasks. As a result, the <code>Buildah</code> and <code>S2I</code> build tasks can run successfully.</p>
</div>
<div class="paragraph">
<p>To successfully run the <code>Buildah</code> cluster task and <code>S2I</code> build tasks for applications written in various languages and frameworks, add the following snippet for appropriate <code>steps</code> objects such as <code>build</code> and <code>push</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">securityContext</span><span class="pi">:</span>
  <span class="na">capabilities</span><span class="pi">:</span>
    <span class="na">add</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">SETFCAP"</span><span class="pi">]</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-7-3_op-release-notes"><a class="anchor" href="#release-notes-1-7-3_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.7.3</h3>
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.7.3 is available on OpenShift Container Platform 4.9, 4.10, and 4.11.</p>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-7-3_op-release-notes"><a class="anchor" href="#fixed-issues-1-7-3_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, the Operator failed when creating RBAC resources if any namespace was in a <code>Terminating</code> state. With this update, the Operator ignores namespaces in a <code>Terminating</code> state and creates the RBAC resources.</p>
</li>
<li>
<p>Previously, upgrading the Red Hat OpenShift Pipelines Operator caused the <code>pipeline</code> service account to be recreated, which meant that the secrets linked to the service account were lost. This update fixes the issue. During upgrades, the Operator no longer recreates the <code>pipeline</code> service account. As a result, secrets attached to the <code>pipeline</code> service account persist after upgrades, and the resources (tasks and pipelines) continue to work correctly.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-6_op-release-notes"><a class="anchor" href="#op-release-notes-1-6_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.6</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With this update, Red Hat OpenShift Pipelines General Availability (GA) 1.6 is available on OpenShift Container Platform 4.9.</p>
</div>
<div class="sect2">
<h3 id="new-features-1-6_op-release-notes"><a class="anchor" href="#new-features-1-6_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>In addition to the fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.6.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, you can configure a pipeline or task <code>start</code> command to return a YAML or JSON-formatted string by using the <code>--output &lt;string&gt;</code>, where <code>&lt;string&gt;</code> is <code>yaml</code> or <code>json</code>. Otherwise, without the <code>--output</code> option, the <code>start</code> command returns a human-friendly message that is hard for other programs to parse. Returning a YAML or JSON-formatted string is useful for continuous integration (CI) environments. For example, after a resource is created, you can use <code>yq</code> or <code>jq</code> to parse the YAML or JSON-formatted message about the resource and wait until that resource is terminated without using the <code>showlog</code> option.</p>
</li>
<li>
<p>With this update, you can authenticate to a registry using the <code>auth.json</code> authentication file of Podman. For example, you can use <code>tkn bundle push</code> to push to a remote registry using Podman instead of Docker CLI.</p>
</li>
<li>
<p>With this update, if you use the <code>tkn [taskrun | pipelinerun] delete --all</code> command, you can preserve runs that are younger than a specified number of minutes by using the new <code>--keep-since &lt;minutes&gt;</code> option. For example, to keep runs that are less than five minutes old, you enter <code>tkn [taskrun | pipelinerun] delete -all --keep-since 5</code>.</p>
</li>
<li>
<p>With this update, when you delete task runs or pipeline runs, you can use the <code>--parent-resource</code> and <code>--keep-since</code> options together. For example, the <code>tkn pipelinerun delete --pipeline pipelinename --keep-since 5</code> command preserves pipeline runs whose parent resource is named <code>pipelinename</code> and whose age is five minutes or less. The <code>tkn tr delete -t &lt;taskname&gt; --keep-since 5</code> and <code>tkn tr delete --clustertask &lt;taskname&gt; --keep-since 5</code> commands work similarly for task runs.</p>
</li>
<li>
<p>This update adds support for the triggers resources to work with <code>v1beta1</code> resources.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>This update adds an <code>ignore-running</code> option to the <code>tkn pipelinerun delete</code> and <code>tkn taskrun delete</code> commands.</p>
</li>
<li>
<p>This update adds a <code>create</code> subcommand to the <code>tkn task</code> and <code>tkn clustertask</code> commands.</p>
</li>
<li>
<p>With this update, when you use the <code>tkn pipelinerun delete --all</code> command, you can use the new <code>--label &lt;string&gt;</code> option to filter the pipeline runs by label. Optionally, you can use the <code>--label</code> option with <code>=</code> and <code>==</code> as equality operators, or <code>!=</code> as an inequality operator. For example, the <code>tkn pipelinerun delete --all --label asdf</code> and  <code>tkn pipelinerun delete --all --label==asdf</code> commands both delete all the pipeline runs that have the <code>asdf</code> label.</p>
</li>
<li>
<p>With this update, you can fetch the version of installed Tekton components from the config map or, if the config map is not present, from the deployment controller.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>With this update, triggers support the <code>feature-flags</code> and <code>config-defaults</code> config map to configure feature flags and to set default values respectively.</p>
</li>
<li>
<p>This update adds a new metric, <code>eventlistener_event_count</code>, that you can use to count events received by the <code>EventListener</code> resource.</p>
</li>
<li>
<p>This update adds <code>v1beta1</code> Go API types. With this update, triggers now support the <code>v1beta1</code> API version.</p>
<div class="paragraph">
<p>With the current release, the <code>v1alpha1</code> features are now deprecated and will be removed in a future release. Begin using the <code>v1beta1</code> features instead.</p>
</div>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>In the current release, auto-prunning of resources is enabled by default. In addition, you can configure auto-prunning of task run and pipeline run for each namespace separately, by using the following new annotations:</p>
<div class="ulist">
<ul>
<li>
<p><code>operator.tekton.dev/prune.schedule</code>: If the value of this annotation is different from the value specified at the <code>TektonConfig</code> custom resource definition, a new cron job in that namespace is created.</p>
</li>
<li>
<p><code>operator.tekton.dev/prune.skip</code>: When set to <code>true</code>, the namespace for which it is configured will not be prunned.</p>
</li>
<li>
<p><code>operator.tekton.dev/prune.resources</code>: This annotation accepts a comma-separated list of resources. To prune a single resource such as a pipeline run, set this annotation to <code>"pipelinerun"</code>. To prune multiple resources, such as task run and pipeline run, set this annotation to <code>"taskrun, pipelinerun"</code>.</p>
</li>
<li>
<p><code>operator.tekton.dev/prune.keep</code>: Use this annotation to retain a resource without prunning.</p>
</li>
<li>
<p><code>operator.tekton.dev/prune.keep-since</code>: Use this annotation to retain resources based on their age. The value for this annotation must be equal to the age of the resource in minutes. For example, to retain resources which were created not more than five days ago, set <code>keep-since</code> to <code>7200</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>keep</code> and <code>keep-since</code> annotations are mutually exclusive. For any resource, you must configure only one of them.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p><code>operator.tekton.dev/prune.strategy</code>: Set the value of this annotation to either <code>keep</code> or <code>keep-since</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Administrators can disable the creation of the <code>pipeline</code> service account for the entire cluster, and prevent privilege escalation by misusing the associated SCC, which is very similar to <code>anyuid</code>.</p>
</li>
<li>
<p>You can now configure feature flags and components by using the <code>TektonConfig</code> custom resource (CR) and the CRs for individual components, such as <code>TektonPipeline</code> and <code>TektonTriggers</code>. This level of granularity helps customize and test alpha features such as the Tekton OCI bundle for individual components.</p>
</li>
<li>
<p>You can now configure optional <code>Timeouts</code> field for the <code>PipelineRun</code> resource. For example, you can configure timeouts separately for a pipeline run, each task run, and the <code>finally</code> tasks.</p>
</li>
<li>
<p>The pods generated by the <code>TaskRun</code> resource now sets the <code>activeDeadlineSeconds</code> field of the pods. This enables OpenShift to consider them as terminating, and allows you to use specifically scoped <code>ResourceQuota</code> object for the pods.</p>
</li>
<li>
<p>You can use configmaps to eliminate metrics tags or labels type on a task run, pipeline run, task, and pipeline. In addition, you can configure different types of metrics for measuring duration, such as a histogram, gauge, or last value.</p>
</li>
<li>
<p>You can define requests and limits on a pod coherently, as Tekton now fully supports the <code>LimitRange</code> object by considering the <code>Min</code>, <code>Max</code>, <code>Default</code>, and <code>DefaultRequest</code> fields.</p>
</li>
<li>
<p>The following alpha features are introduced:</p>
<div class="ulist">
<ul>
<li>
<p>A pipeline run can now stop after running the <code>finally</code> tasks, rather than the previous behavior of stopping the execution of all task run directly. This update adds the following <code>spec.status</code> values:</p>
<div class="ulist">
<ul>
<li>
<p><code>StoppedRunFinally</code> will stop the currently running tasks after they are completed, and then run the <code>finally</code> tasks.</p>
</li>
<li>
<p><code>CancelledRunFinally</code> will immediately cancel the running tasks, and then run the <code>finally</code> tasks.</p>
</li>
<li>
<p><code>Cancelled</code> will retain the previous behavior provided by the <code>PipelineRunCancelled</code> status.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>Cancelled</code> status replaces the deprecated <code>PipelineRunCancelled</code> status, which will be removed in the <code>v1</code> version.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>You can now use the <code>oc debug</code> command to put a task run into debug mode, which pauses the execution and allows you to inspect specific steps in a pod.</p>
</li>
<li>
<p>When you set the <code>onError</code> field of a step to <code>continue</code>, the exit code for the step is recorded and passed on to subsequent steps. However, the task run does not fail and the execution of the rest of the steps in the task continues. To retain the existing behavior, you can set the value of the <code>onError</code> field to <code>stopAndFail</code>.</p>
</li>
<li>
<p>Tasks can now accept more parameters than are actually used. When the alpha feature flag is enabled, the parameters can implicitly propagate to inlined specs. For example, an inlined task can access parameters of its parent pipeline run, without explicitly defining each parameter for the task.</p>
</li>
<li>
<p>If you enable the flag for the alpha features, the conditions under <code>When</code> expressions will only apply to the task with which it is directly associated, and not the dependents of the task. To apply the <code>When</code> expressions to the associated task and its dependents, you must associate the expression with each dependent task separately. Note that, going forward, this will be the default behavior of the <code>When</code> expressions in any new API versions of Tekton. The existing default behavior will be deprecated in favor of this update.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The current release enables you to configure node selection by specifying the <code>nodeSelector</code> and <code>tolerations</code> values in the <code>TektonConfig</code> custom resource (CR). The Operator adds these values to all the deployments that it creates.</p>
<div class="ulist">
<ul>
<li>
<p>To configure node selection for the Operator&#8217;s controller and webhook deployment, you edit the <code>config.nodeSelector</code> and <code>config.tolerations</code> fields in the specification for the <code>Subscription</code> CR, after installing the Operator.</p>
</li>
<li>
<p>To deploy the rest of the control plane pods of OpenShift Pipelines on an infrastructure node, update the <code>TektonConfig</code> CR with the <code>nodeSelector</code> and <code>tolerations</code> fields. The modifications are then applied to all the pods created by Operator.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-6_op-release-notes"><a class="anchor" href="#deprecated-features-1-6_op-release-notes"></a>Deprecated features</h3>
<div class="ulist">
<ul>
<li>
<p>In CLI 0.21.0, support for all <code>v1alpha1</code> resources for <code>clustertask</code>, <code>task</code>, <code>taskrun</code>, <code>pipeline</code>, and <code>pipelinerun</code> commands are deprecated. These resources are now deprecated and will be removed in a future release.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>In Tekton Triggers v0.16.0, the redundant <code>status</code> label is removed from the metrics for the <code>EventListener</code> resource.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Breaking change: The <code>status</code> label has been removed from the <code>eventlistener_http_duration_seconds_*</code> metric.
Remove queries that are based on the <code>status</code> label.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>With the current release, the <code>v1alpha1</code> features are now deprecated and will be removed in a future release. With this update, you can begin using the <code>v1beta1</code> Go API types instead. Triggers now supports the <code>v1beta1</code> API version.</p>
</li>
<li>
<p>With the current release, the <code>EventListener</code> resource sends a response before the triggers finish processing.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Breaking change: With this change, the <code>EventListener</code> resource stops responding with a <code>201 Created</code> status code when it creates resources. Instead, it responds with a <code>202 Accepted</code> response code.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The current release removes the <code>podTemplate</code> field from the <code>EventListener</code> resource.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Breaking change: The <code>podTemplate</code> field, which was deprecated as part of <a href="https://github.com/tektoncd/triggers/pull/1100">#1100</a>, has been removed.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The current release removes the deprecated <code>replicas</code> field from the specification for the <code>EventListener</code> resource.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Breaking change: The deprecated <code>replicas</code> field has been removed.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>In Red Hat OpenShift Pipelines 1.6, the values of <code>HOME="/tekton/home"</code> and <code>workingDir="/workspace"</code> are removed from the specification of the <code>Step</code> objects.</p>
<div class="paragraph">
<p>Instead, Red Hat OpenShift Pipelines sets <code>HOME</code> and <code>workingDir</code> to the values defined by the containers running the <code>Step</code> objects. You can override these values in the specification of your <code>Step</code> objects.</p>
</div>
<div class="paragraph">
<p>To use the older behavior, you can change the <code>disable-working-directory-overwrite</code> and <code>disable-home-env-overwrite</code> fields in the <code>TektonConfig</code> CR to <code>false</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">operator.tekton.dev/v1alpha1</span>
  <span class="s">kind</span><span class="pi">:</span> <span class="s">TektonConfig</span>
  <span class="s">metadata</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">config</span>
  <span class="na">spec</span><span class="pi">:</span>
    <span class="na">pipeline</span><span class="pi">:</span>
      <span class="na">disable-working-directory-overwrite</span><span class="pi">:</span> <span class="no">false</span>
      <span class="na">disable-home-env-overwrite</span><span class="pi">:</span> <span class="no">false</span>
  <span class="s">...</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>disable-working-directory-overwrite</code> and <code>disable-home-env-overwrite</code> fields in the <code>TektonConfig</code> CR are now deprecated and will be removed in a future release.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-6_op-release-notes"><a class="anchor" href="#known-issues-1-6_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>When you run Maven and Jib-Maven cluster tasks, the default container image is supported only on Intel (x86) architecture. Therefore, tasks will fail on IBM Power Systems (ppc64le), IBM Z, and LinuxONE (s390x) clusters. As a workaround, you can specify a custom image by setting the <code>MAVEN_IMAGE</code> parameter value to <code>maven:3.6.3-adoptopenjdk-11</code>.</p>
</li>
<li>
<p>On IBM Power Systems, IBM Z, and LinuxONE, the <code>s2i-dotnet</code> cluster task is unsupported.</p>
</li>
<li>
<p>Before you install tasks based on the Tekton Catalog on IBM Power Systems (ppc64le), IBM Z, and LinuxONE (s390x) using <code>tkn hub</code>, verify if the task can be executed on these platforms. To check if <code>ppc64le</code> and <code>s390x</code> are listed in the "Platforms" section of the task information, you can run the following command: <code>tkn hub info task &lt;name&gt;</code></p>
</li>
<li>
<p>You cannot use the <code>nodejs:14-ubi8-minimal</code> image stream because doing so generates the following errors:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">STEP 7: RUN /usr/libexec/s2i/assemble
/bin/sh: /usr/libexec/s2i/assemble: No such file or directory
subprocess exited with status 127
subprocess exited with status 127
error building at STEP "RUN /usr/libexec/s2i/assemble": exit status 127
time="2021-11-04T13:05:26Z" level=error msg="exit status 127"</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-6_op-release-notes"><a class="anchor" href="#fixed-issues-1-6_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>The <code>tkn hub</code> command is now supported on IBM Power Systems, IBM Z, and LinuxONE.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Before this update, the terminal was not available after the user ran a <code>tkn</code> command, and the pipeline run was done, even if <code>retries</code> were specified. Specifying a timeout in the task run or pipeline run had no effect. This update fixes the issue so that the terminal is available after running the command.</p>
</li>
<li>
<p>Before this update, running <code>tkn pipelinerun delete --all</code> would delete all resources. This update prevents the resources in the running state from getting deleted.</p>
</li>
<li>
<p>Before this update, using the <code>tkn version --component=&lt;component&gt;</code> command did not return the component version. This update fixes the issue so that this command returns the component version.</p>
</li>
<li>
<p>Before this update, when you used the <code>tkn pr logs</code> command, it displayed the pipelines output logs in the wrong task order. This update resolves the issue so that logs of completed <code>PipelineRuns</code> are listed in the appropriate <code>TaskRun</code> execution order.</p>
</li>
</ul>
</div>
<div class="ulist">
<ul>
<li>
<p>Before this update, editing the specification of a running pipeline might prevent the pipeline run from stopping when it was complete. This update fixes the issue by fetching the definition only once and then using the specification stored in the status for verification. This change reduces the probability of a race condition when a <code>PipelineRun</code> or a <code>TaskRun</code> refers to a <code>Pipeline</code> or <code>Task</code> that changes while it is running.</p>
</li>
<li>
<p><code>When</code> expression values can now have array parameter references, such as: <code>values: [$(params.arrayParam[*])]</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-6-1_op-release-notes"><a class="anchor" href="#release-notes-1-6-1_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.6.1</h3>
<div class="sect3">
<h4 id="known-issues-1-6-1_op-release-notes"><a class="anchor" href="#known-issues-1-6-1_op-release-notes"></a>Known issues</h4>
<div class="ulist">
<ul>
<li>
<p>After upgrading to Red Hat OpenShift Pipelines 1.6.1 from an older version, OpenShift Pipelines might enter an inconsistent state where you are unable to perform any operations (create/delete/apply) on Tekton resources (tasks and pipelines). For example, while deleting a resource, you might encounter the following error:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">Error from server (InternalError): Internal error occurred: failed calling webhook "validation.webhook.pipeline.tekton.dev": Post "https://tekton-pipelines-webhook.openshift-pipelines.svc:443/resource-validation?timeout=10s": service "tekton-pipelines-webhook" not found.</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-6-1_op-release-notes"><a class="anchor" href="#fixed-issues-1-6-1_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>The <code>SSL_CERT_DIR</code> environment variable (<code>/tekton-custom-certs</code>) set by Red Hat OpenShift Pipelines will not override the following default system directories with certificate files:</p>
<div class="ulist">
<ul>
<li>
<p><code>/etc/pki/tls/certs</code></p>
</li>
<li>
<p><code>/etc/ssl/certs</code></p>
</li>
<li>
<p><code>/system/etc/security/cacerts</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>The Horizontal Pod Autoscaler can manage the replica count of deployments controlled by the Red Hat OpenShift Pipelines Operator. From this release onward, if the count is changed by an end user or an on-cluster agent, the Red Hat OpenShift Pipelines Operator will not reset the replica count of deployments managed by it. However, the replicas will be reset when you upgrade the Red Hat OpenShift Pipelines Operator.</p>
</li>
<li>
<p>The pod serving the <code>tkn</code> CLI will now be scheduled on nodes, based on the node selector and toleration limits specified in the <code>TektonConfig</code> custom resource.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-6-2_op-release-notes"><a class="anchor" href="#release-notes-1-6-2_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.6.2</h3>
<div class="sect3">
<h4 id="known-issues-1-6-2_op-release-notes"><a class="anchor" href="#known-issues-1-6-2_op-release-notes"></a>Known issues</h4>
<div class="ulist">
<ul>
<li>
<p>When you create a new project, the creation of the <code>pipeline</code> service account is delayed, and removal of existing cluster tasks and pipeline templates takes more than 10 minutes.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-6-2_op-release-notes"><a class="anchor" href="#fixed-issues-1-6-2_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, multiple instances of Tekton installer sets were created for a pipeline after upgrading to Red Hat OpenShift Pipelines 1.6.1 from an older version. With this update, the Operator ensures that only one instance of each type of <code>TektonInstallerSet</code> exists after an upgrade.</p>
</li>
<li>
<p>Before this update, all the reconcilers in the Operator used the component version to decide resource recreation during an upgrade to Red Hat OpenShift Pipelines 1.6.1 from an older version. As a result, those resources were not recreated whose component versions did not change in the upgrade. With this update, the Operator uses the Operator version instead of the component version to decide resource recreation during an upgrade.</p>
</li>
<li>
<p>Before this update, the pipelines webhook service was missing in the cluster after an upgrade. This was due to an upgrade deadlock on the config maps. With this update, a mechanism is added to disable webhook validation if the config maps are absent in the cluster. As a result, the pipelines webhook service persists in the cluster after an upgrade.</p>
</li>
<li>
<p>Before this update, cron jobs for auto-pruning got recreated after any configuration change to the namespace. With this update, cron jobs for auto-pruning get recreated only if there is a relevant annotation change in the namespace.</p>
</li>
<li>
<p>The upstream version of Tekton Pipelines is revised to <code>v0.28.3</code>, which has the following fixes:</p>
<div class="ulist">
<ul>
<li>
<p>Fix <code>PipelineRun</code> or <code>TaskRun</code> objects to allow label or annotation propagation.</p>
</li>
<li>
<p>For implicit params:</p>
<div class="ulist">
<ul>
<li>
<p>Do not apply the <code>PipelineSpec</code> parameters to the <code>TaskRefs</code> object.</p>
</li>
<li>
<p>Disable implicit param behavior for the <code>Pipeline</code> objects.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-6-3_op-release-notes"><a class="anchor" href="#release-notes-1-6-3_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.6.3</h3>
<div class="sect3">
<h4 id="fixed-issues-1-6-3_op-release-notes"><a class="anchor" href="#fixed-issues-1-6-3_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, the Red Hat OpenShift Pipelines Operator installed pod security policies from components such as Pipelines and Triggers. However, the pod security policies shipped as part of the components were deprecated in an earlier release. With this update, the Operator stops installing pod security policies from components. As a result, the following upgrade paths are affected:</p>
<div class="ulist">
<ul>
<li>
<p>Upgrading from OpenShift Pipelines 1.6.1 or 1.6.2 to OpenShift Pipelines 1.6.3 deletes the pod security policies, including those from the Pipelines and Triggers components.</p>
</li>
<li>
<p>Upgrading from OpenShift Pipelines 1.5.x to 1.6.3 retains the pod security policies installed from components. As a cluster administrator, you can delete them manually.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When you upgrade to future releases, the Red Hat OpenShift Pipelines Operator will automatically delete all obsolete pod security policies.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Before this update, only cluster administrators could access pipeline metrics in the OpenShift Container Platform console. With this update, users with other cluster roles also can access the pipeline metrics.</p>
</li>
<li>
<p>Before this update, role-based access control (RBAC) issues with the OpenShift Pipelines Operator caused problems upgrading or installing components. This update improves the reliability and consistency of installing various Red Hat OpenShift Pipelines components.</p>
</li>
<li>
<p>Before this update, setting the <code>clusterTasks</code> and <code>pipelineTemplates</code> fields to <code>false</code> in the <code>TektonConfig</code> CR slowed the removal of cluster tasks and pipeline templates. This update improves the speed of lifecycle management of Tekton resources such as cluster tasks and pipeline templates.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-1-6-4_op-release-notes"><a class="anchor" href="#release-notes-1-6-4_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.6.4</h3>
<div class="sect3">
<h4 id="known-issues-1-6-4_op-release-notes"><a class="anchor" href="#known-issues-1-6-4_op-release-notes"></a>Known issues</h4>
<div class="ulist">
<ul>
<li>
<p>After upgrading from Red Hat OpenShift Pipelines 1.5.2 to 1.6.4, accessing the event listener routes returns a <code>503</code> error.</p>
<div class="paragraph">
<p>Workaround: Modify the target port in the YAML file for the event listener&#8217;s route.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Extract the route name for the relevant namespace.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc get route <span class="nt">-n</span> &lt;namespace&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Edit the route to modify the value of the <code>targetPort</code> field.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc edit route <span class="nt">-n</span> &lt;namespace&gt; &lt;el-route_name&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Existing event listener route</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="nn">...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">host</span><span class="pi">:</span> <span class="s">el-event-listener-q8c3w5-test-upgrade1.apps.ve49aws.aws.ospqa.com</span>
  <span class="na">port</span><span class="pi">:</span>
    <span class="na">targetPort</span><span class="pi">:</span> <span class="m">8000</span>
  <span class="na">to</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">el-event-listener-q8c3w5</span>
    <span class="na">weight</span><span class="pi">:</span> <span class="m">100</span>
  <span class="na">wildcardPolicy</span><span class="pi">:</span> <span class="s">None</span>
<span class="nn">...</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Modified event listener route</div>
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="nn">...</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">host</span><span class="pi">:</span> <span class="s">el-event-listener-q8c3w5-test-upgrade1.apps.ve49aws.aws.ospqa.com</span>
  <span class="na">port</span><span class="pi">:</span>
    <span class="na">targetPort</span><span class="pi">:</span> <span class="s">http-listener</span>
  <span class="na">to</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Service</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">el-event-listener-q8c3w5</span>
    <span class="na">weight</span><span class="pi">:</span> <span class="m">100</span>
  <span class="na">wildcardPolicy</span><span class="pi">:</span> <span class="s">None</span>
<span class="nn">...</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="fixed-issues-1-6-4_op-release-notes"><a class="anchor" href="#fixed-issues-1-6-4_op-release-notes"></a>Fixed issues</h4>
<div class="ulist">
<ul>
<li>
<p>Before this update, the Operator failed when creating RBAC resources if any namespace was in a <code>Terminating</code> state. With this update, the Operator ignores namespaces in a <code>Terminating</code> state and creates the RBAC resources.</p>
</li>
<li>
<p>Before this update, the task runs failed or restarted due to absence of annotation specifying the release version of the associated Tekton controller. With this update, the inclusion of the appropriate annotations are automated, and the tasks run without failure or restarts.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-5_op-release-notes"><a class="anchor" href="#op-release-notes-1-5_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.5</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat OpenShift Pipelines General Availability (GA) 1.5 is now available on OpenShift Container Platform 4.8.</p>
</div>
<div class="sect2">
<h3 id="compatibility-support-matrix-1-5_op-release-notes"><a class="anchor" href="#compatibility-support-matrix-1-5_op-release-notes"></a>Compatibility and support matrix</h3>
<div class="paragraph">
<p>Some features in this release are currently in <a href="https://access.redhat.com/support/offerings/techpreview">Technology Preview</a>. These experimental features are not intended for production use.</p>
</div>
<div class="paragraph">
<p>In the table, features are marked with the following statuses:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
TP
</td>
<td class="hdlist2">
<p>Technology Preview</p>
</td>
</tr>
<tr>
<td class="hdlist1">
GA
</td>
<td class="hdlist2">
<p>General Availability</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note the following scope of support on the Red Hat Customer Portal for these features:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Compatibility and support matrix</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature</th>
<th class="tableblock halign-left valign-top">Version</th>
<th class="tableblock halign-left valign-top">Support Status</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipelines</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Catalog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Triggers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipeline resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TP</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For questions and feedback, you can send an email to the product team at <a href="mailto:pipelines-interest@redhat.com">pipelines-interest@redhat.com</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-features-1-5_op-release-notes"><a class="anchor" href="#new-features-1-5_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>In addition to the fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.5.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pipeline run and task runs will be automatically pruned by a cron job in the target namespace. The cron job uses the <code>IMAGE_JOB_PRUNER_TKN</code> environment variable to get the value of <code>tkn image</code>. With this enhancement, the following fields are introduced to the <code>TektonConfig</code> custom resource:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="nn">...</span>
<span class="na">pruner</span><span class="pi">:</span>
  <span class="na">resources</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">pipelinerun</span>
    <span class="pi">-</span> <span class="s">taskrun</span>
  <span class="na">schedule</span><span class="pi">:</span> <span class="s2">"</span><span class="s">*/5</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*</span><span class="nv"> </span><span class="s">*"</span> <span class="c1"># cron schedule</span>
  <span class="na">keep</span><span class="pi">:</span> <span class="m">2</span> <span class="c1"># delete all keeping n</span>
<span class="nn">...</span></code></pre>
</div>
</div>
</li>
<li>
<p>In OpenShift Container Platform, you can customize the installation of the Tekton Add-ons component by modifying the values of the new parameters <code>clusterTasks</code> and <code>pipelinesTemplates</code> in the <code>TektonConfig</code> custom resource:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">operator.tekton.dev/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">TektonConfig</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">config</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">profile</span><span class="pi">:</span> <span class="s">all</span>
  <span class="na">targetNamespace</span><span class="pi">:</span> <span class="s">openshift-pipelines</span>
  <span class="na">addon</span><span class="pi">:</span>
    <span class="na">params</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">clusterTasks</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">pipelineTemplates</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
<span class="nn">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The customization is allowed if you create the add-on using <code>TektonConfig</code>, or directly by using Tekton Add-ons. However, if the parameters are not passed, the controller adds parameters with default values.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>If add-on is created using the <code>TektonConfig</code> custom resource, and you change the parameter values later in the
<code>Addon</code> custom resource, then the values in the <code>TektonConfig</code> custom resource overwrites the changes.</p>
</li>
<li>
<p>You can set the value of the <code>pipelinesTemplates</code> parameter to <code>true</code> only when the value of the <code>clusterTasks</code> parameter is <code>true</code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The <code>enableMetrics</code> parameter is added to the <code>TektonConfig</code> custom resource. You can use it to disable the service monitor, which is part of Tekton Pipelines for OpenShift Container Platform.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">operator.tekton.dev/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">TektonConfig</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">config</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">profile</span><span class="pi">:</span> <span class="s">all</span>
  <span class="na">targetNamespace</span><span class="pi">:</span> <span class="s">openshift-pipelines</span>
  <span class="na">pipeline</span><span class="pi">:</span>
    <span class="na">params</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">enableMetrics</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
<span class="nn">...</span></code></pre>
</div>
</div>
</li>
<li>
<p>Eventlistener OpenCensus metrics, which captures metrics at process level, is added.</p>
</li>
<li>
<p>Triggers now has label selector; you can configure triggers for an event listener using labels.</p>
</li>
<li>
<p>The <code>ClusterInterceptor</code> custom resource definition for registering interceptors is added, which allows you to register new <code>Interceptor</code> types that you can plug in. In addition, the following relevant changes are made:</p>
<div class="ulist">
<ul>
<li>
<p>In the trigger specifications, you can configure interceptors using a new API that includes a <code>ref</code> field to refer to a cluster interceptor. In addition, you can use the <code>params</code> field to add parameters that pass on to the interceptors for processing.</p>
</li>
<li>
<p>The bundled interceptors CEL, GitHub, GitLab, and BitBucket, have been migrated. They are implemented using the new <code>ClusterInterceptor</code> custom resource definition.</p>
</li>
<li>
<p>Core interceptors are migrated to the new format, and any new triggers created using the old syntax automatically switch to the new <code>ref</code> or <code>params</code> based syntax.</p>
</li>
</ul>
</div>
</li>
<li>
<p>To disable prefixing the name of the task or step while displaying logs, use the <code>--prefix</code> option for <code>log</code> commands.</p>
</li>
<li>
<p>To display the version of a specific component, use the new <code>--component</code> flag in the <code>tkn version</code> command.</p>
</li>
<li>
<p>The <code>tkn hub check-upgrade</code> command is added, and other commands are revised to be based on the pipeline version. In addition, catalog names are displayed in the <code>search</code> command output.</p>
</li>
<li>
<p>Support for optional workspaces are added to the <code>start</code> command.</p>
</li>
<li>
<p>If the plugins are not present in the <code>plugins</code> directory, they are searched in the current path.</p>
</li>
<li>
<p>The <code>tkn start [task | clustertask | pipeline]</code> command starts interactively and ask for the <code>params</code> value, even when you specify the default parameters are specified. To stop the interactive prompts, pass the <code>--use-param-defaults</code> flag at the time of invoking the command. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>tkn pipeline start build-and-deploy <span class="se">\</span>
    <span class="nt">-w</span> <span class="nv">name</span><span class="o">=</span>shared-workspace,volumeClaimTemplateFile<span class="o">=</span>https://raw.githubusercontent.com/openshift/pipelines-tutorial/pipelines-1.13/01_pipeline/03_persistent_volume_claim.yaml <span class="se">\</span>
    <span class="nt">-p</span> deployment-name<span class="o">=</span>pipelines-vote-api <span class="se">\</span>
    <span class="nt">-p</span> git-url<span class="o">=</span>https://github.com/openshift/pipelines-vote-api.git <span class="se">\</span>
    <span class="nt">-p</span> <span class="nv">IMAGE</span><span class="o">=</span>image-registry.openshift-image-registry.svc:5000/pipelines-tutorial/pipelines-vote-api <span class="se">\</span>
    <span class="nt">--use-param-defaults</span></code></pre>
</div>
</div>
</li>
<li>
<p>The <code>version</code> field is added in the <code>tkn task describe</code> command.</p>
</li>
<li>
<p>The option to automatically select resources such as <code>TriggerTemplate</code>, or <code>TriggerBinding</code>, or <code>ClusterTriggerBinding</code>, or <code>Eventlistener</code>, is added in the <code>describe</code> command, if only one is present.</p>
</li>
<li>
<p>In the <code>tkn pr describe</code> command, a section for skipped tasks is added.</p>
</li>
<li>
<p>Support for the <code>tkn clustertask logs</code> is added.</p>
</li>
<li>
<p>The YAML merge and variable from <code>config.yaml</code> is removed. In addition, the <code>release.yaml</code> file can now be more easily consumed by tools such as <code>kustomize</code> and <code>ytt</code>.</p>
</li>
<li>
<p>The support for resource names to contain the dot character (".") is added.</p>
</li>
<li>
<p>The <code>hostAliases</code> array in the <code>PodTemplate</code> specification is added to the pod-level override of hostname resolution. It is achieved by modifying the <code>/etc/hosts</code> file.</p>
</li>
<li>
<p>A variable <code>$(tasks.status)</code> is introduced to access the aggregate execution status of tasks.</p>
</li>
<li>
<p>An entry-point binary build for Windows is added.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-5_op-release-notes"><a class="anchor" href="#deprecated-features-1-5_op-release-notes"></a>Deprecated features</h3>
<div class="ulist">
<ul>
<li>
<p>In the <code>when</code> expressions, support for fields written is PascalCase is removed. The <code>when</code> expressions only support fields written in lowercase.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you had applied a pipeline with <code>when</code> expressions in Tekton Pipelines <code>v0.16</code> (Operator <code>v1.2.x</code>), you have to reapply it.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>When you upgrade the Red Hat OpenShift Pipelines Operator to <code>v1.5</code>, the <code>openshift-client</code> and the <code>openshift-client-v-1-5-0</code> cluster tasks have the <code>SCRIPT</code> parameter. However, the <code>ARGS</code> parameter and the <code>git</code> resource are removed from the specification of the <code>openshift-client</code> cluster task. This is a breaking change, and only those cluster tasks that do not have a specific version in the <code>name</code> field of the <code>ClusterTask</code> resource upgrade seamlessly.</p>
<div class="paragraph">
<p>To prevent the pipeline runs from breaking, use the <code>SCRIPT</code> parameter after the upgrade because it moves the values previously specified in the <code>ARGS</code> parameter into the <code>SCRIPT</code> parameter of the cluster task. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="nn">...</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">deploy</span>
  <span class="na">params</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">SCRIPT</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s">oc rollout status &lt;deployment-name&gt;</span>
  <span class="na">runAfter</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">build</span>
  <span class="na">taskRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">ClusterTask</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">openshift-client</span>
<span class="nn">...</span></code></pre>
</div>
</div>
</li>
<li>
<p>When you upgrade from Red Hat OpenShift Pipelines Operator <code>v1.4</code> to <code>v1.5</code>, the profile names in which the <code>TektonConfig</code> custom resource is installed now change.</p>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Profiles for <code>TektonConfig</code> custom resource</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Profiles in Pipelines 1.5</th>
<th class="tableblock halign-left valign-top">Corresponding profile in Pipelines 1.4</th>
<th class="tableblock halign-left valign-top">Installed Tekton components</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">All (<em>default profile</em>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All (<em>default profile</em>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipelines, Triggers, Add-ons</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Basic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipelines, Triggers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lite</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Basic</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipelines</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you used <code>profile: all</code> in the <code>config</code> instance of the <code>TektonConfig</code> custom resource, no change is necessary in the resource specification.</p>
</div>
<div class="paragraph">
<p>However, if the installed Operator is either in the Default or the Basic profile before the upgrade, you must edit the <code>config</code> instance of the <code>TektonConfig</code> custom resource after the upgrade. For example, if the configuration was <code>profile: basic</code> before the upgrade, ensure that it is <code>profile: lite</code> after upgrading to Pipelines 1.5.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The <code>disable-home-env-overwrite</code> and <code>disable-working-dir-overwrite</code> fields are now deprecated and will be removed in a future release. For this release, the default value of these flags is set to <code>true</code> for backward compatibility.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the next release (Red Hat OpenShift Pipelines 1.6), the <code>HOME</code> environment variable will not be automatically set to <code>/tekton/home</code>, and the default working directory will not be set to <code>/workspace</code> for task runs. These defaults collide with any value set by image Dockerfile of the step.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The <code>ServiceType</code> and <code>podTemplate</code> fields are removed from the <code>EventListener</code> spec.</p>
</li>
<li>
<p>The controller service account no longer requests cluster-wide permission to list and watch namespaces.</p>
</li>
<li>
<p>The status of the <code>EventListener</code> resource has a new condition called <code>Ready</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In the future, the other status conditions for the <code>EventListener</code> resource will be deprecated in favor of the <code>Ready</code> status condition.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The <code>eventListener</code> and <code>namespace</code> fields in the <code>EventListener</code> response are deprecated. Use the <code>eventListenerUID</code> field instead.</p>
</li>
<li>
<p>The <code>replicas</code> field is deprecated from the <code>EventListener</code> spec. Instead, the <code>spec.replicas</code> field is moved to <code>spec.resources.kubernetesResource.replicas</code> in the <code>KubernetesResource</code> spec.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>replicas</code> field will be removed in a future release.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The old method of configuring the core interceptors is deprecated. However, it continues to work until it is removed in a future release. Instead, interceptors in a <code>Trigger</code> resource are now configured using a new <code>ref</code> and <code>params</code> based syntax. The resulting default webhook automatically switch the usages of the old syntax to the new syntax for new triggers.</p>
</li>
<li>
<p>Use <code>rbac.authorization.k8s.io/v1</code> instead of the deprecated <code>rbac.authorization.k8s.io/v1beta1</code> for the <code>ClusterRoleBinding</code> resource.</p>
</li>
<li>
<p>In cluster roles, the cluster-wide write access to resources such as <code>serviceaccounts</code>, <code>secrets</code>, <code>configmaps</code>, and <code>limitranges</code> are removed. In addition, cluster-wide access to resources such as <code>deployments</code>, <code>statefulsets</code>, and <code>deployment/finalizers</code> are removed.</p>
</li>
<li>
<p>The <code>image</code> custom resource definition in the <code>caching.internal.knative.dev</code> group is not used by Tekton anymore, and is excluded in this release.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-5_op-release-notes"><a class="anchor" href="#known-issues-1-5_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://github.com/tektoncd/catalog/tree/main/task/git-cli/0.1">git-cli</a> cluster task is built off the <a href="https://github.com/tektoncd/catalog/blob/68e44c629c9ee287393681030ed391d2c2e856cd/task/git-cli/0.1/git-cli.yaml#L32">alpine/git</a> base image, which expects <code>/root</code> as the user&#8217;s home directory. However, this is not explicitly set in the <code>git-cli</code> cluster task.</p>
<div class="paragraph">
<p>In Tekton, the default home directory is overwritten with <code>/tekton/home</code> for every step of a task, unless otherwise specified. This overwriting of the <code>$HOME</code> environment variable of the base image causes the <code>git-cli</code> cluster task to fail.</p>
</div>
<div class="paragraph">
<p>This issue is expected to be fixed in the upcoming releases. For Red Hat OpenShift Pipelines 1.5 and earlier versions, you can <em>use any one of the following workarounds</em> to avoid the failure of the <code>git-cli</code> cluster task:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set the <code>$HOME</code> environment variable in the steps, so that it is not overwritten.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>[OPTIONAL] If you installed Red Hat OpenShift Pipelines using the Operator, then clone the <code>git-cli</code> cluster task into a separate task. This approach ensures that the Operator does not overwrite the changes made to the cluster task.</p>
</li>
<li>
<p>Execute the <code>oc edit clustertasks git-cli</code> command.</p>
</li>
<li>
<p>Add the expected <code>HOME</code> environment variable to the YAML of the step:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="nn">...</span>
<span class="na">steps</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">git</span>
    <span class="na">env</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">HOME</span>
      <span class="na">value</span><span class="pi">:</span> <span class="s">/root</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">$(params.BASE_IMAGE)</span>
    <span class="na">workingDir</span><span class="pi">:</span> <span class="s">$(workspaces.source.path)</span>
<span class="nn">...</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For Red Hat OpenShift Pipelines installed by the Operator, if you do not clone the <code>git-cli</code> cluster task into a separate task before changing the <code>HOME</code> environment variable, then the changes are overwritten during Operator reconciliation.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Disable overwriting the <code>HOME</code> environment variable in the <code>feature-flags</code> config map.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Execute the <code>oc edit -n openshift-pipelines configmap feature-flags</code> command.</p>
</li>
<li>
<p>Set the value of the <code>disable-home-env-overwrite</code> flag to <code>true</code>.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>If you installed Red Hat OpenShift Pipelines using the Operator, then the changes are overwritten during Operator reconciliation.</p>
</li>
<li>
<p>Modifying the default value of the <code>disable-home-env-overwrite</code> flag can break other tasks and cluster tasks, as it changes the default behavior for all tasks.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Use a different service account for the <code>git-cli</code> cluster task, as the overwriting of the <code>HOME</code> environment variable happens when the default service account for pipelines is used.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new service account.</p>
</li>
<li>
<p>Link your Git secret to the service account you just created.</p>
</li>
<li>
<p>Use the service account while executing a task or a pipeline.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>On IBM Power Systems, IBM Z, and LinuxONE, the <code>s2i-dotnet</code> cluster task and the <code>tkn hub</code> command are unsupported.</p>
</li>
<li>
<p>When you run Maven and Jib-Maven cluster tasks, the default container image is supported only on Intel (x86) architecture. Therefore, tasks will fail on IBM Power Systems (ppc64le), IBM Z, and LinuxONE (s390x) clusters. As a workaround, you can specify a custom image by setting the <code>MAVEN_IMAGE</code> parameter value to <code>maven:3.6.3-adoptopenjdk-11</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-5_op-release-notes"><a class="anchor" href="#fixed-issues-1-5_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>The <code>when</code> expressions in <code>dag</code> tasks are not allowed to specify the context variable accessing the execution status (<code>$(tasks.&lt;pipelineTask&gt;.status)</code>) of any other task.</p>
</li>
<li>
<p>Use Owner UIDs instead of Owner names, as it helps avoid race conditions created by deleting a <code>volumeClaimTemplate</code> PVC, in situations where a <code>PipelineRun</code> resource is quickly deleted and then recreated.</p>
</li>
<li>
<p>A new Dockerfile is added for <code>pullrequest-init</code> for <code>build-base</code> image triggered by non-root users.</p>
</li>
<li>
<p>When a pipeline or task is executed with the <code>-f</code> option and the <code>param</code> in its definition does not have a <code>type</code> defined, a validation error is generated instead of the pipeline or task run failing silently.</p>
</li>
<li>
<p>For the <code>tkn start [task | pipeline | clustertask]</code> commands, the description of the <code>--workspace</code> flag is now consistent.</p>
</li>
<li>
<p>While parsing the parameters, if an empty array is encountered, the corresponding interactive help is displayed as an empty string now.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-4_op-release-notes"><a class="anchor" href="#op-release-notes-1-4_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines General Availability 1.4</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat OpenShift Pipelines General Availability (GA) 1.4 is now available on OpenShift Container Platform 4.7.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In addition to the stable and preview Operator channels, the Red Hat OpenShift Pipelines Operator 1.4.0 comes with the ocp-4.6, ocp-4.5, and ocp-4.4 deprecated channels. These deprecated channels and support for them will be removed in the following release of Red Hat OpenShift Pipelines.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="compatibility-support-matrix-1-4_op-release-notes"><a class="anchor" href="#compatibility-support-matrix-1-4_op-release-notes"></a>Compatibility and support matrix</h3>
<div class="paragraph">
<p>Some features in this release are currently in <a href="https://access.redhat.com/support/offerings/techpreview">Technology Preview</a>. These experimental features are not intended for production use.</p>
</div>
<div class="paragraph">
<p>In the table, features are marked with the following statuses:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
TP
</td>
<td class="hdlist2">
<p>Technology Preview</p>
</td>
</tr>
<tr>
<td class="hdlist1">
GA
</td>
<td class="hdlist2">
<p>General Availability</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note the following scope of support on the Red Hat Customer Portal for these features:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Compatibility and support matrix</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feature</th>
<th class="tableblock halign-left valign-top">Version</th>
<th class="tableblock halign-left valign-top">Support Status</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipelines</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Catalog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GA</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Triggers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pipeline resources</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TP</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For questions and feedback, you can send an email to the product team at <a href="mailto:pipelines-interest@redhat.com">pipelines-interest@redhat.com</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-features-1-4_op-release-notes"><a class="anchor" href="#new-features-1-4_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>In addition to the fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.4.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The custom tasks have the following enhancements:</p>
<div class="ulist">
<ul>
<li>
<p>Pipeline results can now refer to results produced by custom tasks.</p>
</li>
<li>
<p>Custom tasks can now use workspaces, service accounts, and pod templates to build more complex custom tasks.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The <code>finally</code> task has the following enhancements:</p>
<div class="ulist">
<ul>
<li>
<p>The <code>when</code> expressions are supported in <code>finally</code> tasks, which provides efficient guarded execution and improved reusability of tasks.</p>
</li>
<li>
<p>A <code>finally</code> task can be configured to consume the results of any task within the same pipeline.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Support for <code>when</code> expressions and <code>finally</code> tasks are unavailable in the OpenShift Container Platform 4.7 web console.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Support for multiple secrets of the type <code>dockercfg</code> or <code>dockerconfigjson</code> is added for authentication at runtime.</p>
</li>
<li>
<p>Functionality to support sparse-checkout with the <code>git-clone</code> task is added. This enables you to clone only a subset of the repository as your local copy, and helps you to restrict the size of the cloned repositories.</p>
</li>
<li>
<p>You can create pipeline runs in a pending state without actually starting them. In clusters that are under heavy load, this allows Operators to have control over the start time of the pipeline runs.</p>
</li>
<li>
<p>Ensure that you set the <code>SYSTEM_NAMESPACE</code> environment variable manually for the controller; this was previously set by default.</p>
</li>
<li>
<p>A non-root user is now added to the build-base image of pipelines so that <code>git-init</code> can clone repositories as a non-root user.</p>
</li>
<li>
<p>Support to validate dependencies between resolved resources before a pipeline run starts is added. All result variables in the pipeline must be valid, and optional workspaces from a pipeline can only be passed to tasks expecting it for the pipeline to start running.</p>
</li>
<li>
<p>The controller and webhook runs as a non-root group, and their superfluous capabilities have been removed to make them more secure.</p>
</li>
<li>
<p>You can use the <code>tkn pr logs</code> command to see the log streams for retried task runs.</p>
</li>
<li>
<p>You can use the <code>--clustertask</code> option in the <code>tkn tr delete</code> command to delete all the task runs associated with a particular cluster task.</p>
</li>
<li>
<p>Support for using Knative service with the <code>EventListener</code> resource is added by introducing a new <code>customResource</code> field.</p>
</li>
<li>
<p>An error message is displayed when an event payload does not use the JSON format.</p>
</li>
<li>
<p>The source control interceptors such as GitLab, BitBucket, and GitHub, now use the new <code>InterceptorRequest</code> or <code>InterceptorResponse</code> type interface.</p>
</li>
<li>
<p>A new CEL function <code>marshalJSON</code> is implemented so that you can encode a JSON object or an array to a string.</p>
</li>
<li>
<p>An HTTP handler for serving the CEL and the source control core interceptors is added. It packages four core interceptors into a single HTTP server that is deployed in the <code>tekton-pipelines</code> namespace. The <code>EventListener</code> object forwards events over the HTTP server to the interceptor. Each interceptor is available at a different path. For example, the CEL interceptor is available on the <code>/cel</code> path.</p>
</li>
<li>
<p>The <code>pipelines-scc</code> Security Context Constraint (SCC) is used with the default <code>pipeline</code> service account for pipelines. This new service account is similar to <code>anyuid</code>, but with a minor difference as defined in the YAML for SCC of OpenShift Container Platform 4.7:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">fsGroup</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">MustRunAs</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-4_op-release-notes"><a class="anchor" href="#deprecated-features-1-4_op-release-notes"></a>Deprecated features</h3>
<div class="ulist">
<ul>
<li>
<p>The <code>build-gcs</code> sub-type in the pipeline resource storage, and the <code>gcs-fetcher</code> image, are not supported.</p>
</li>
<li>
<p>In the <code>taskRun</code> field of cluster tasks, the label <code>tekton.dev/task</code> is removed.</p>
</li>
<li>
<p>For webhooks, the value <code>v1beta1</code> corresponding to the field <code>admissionReviewVersions</code> is removed.</p>
</li>
<li>
<p>The <code>creds-init</code> helper image for building and deploying is removed.</p>
</li>
<li>
<p>In the triggers spec and binding, the deprecated field <code>template.name</code> is removed in favor of <code>template.ref</code>. You should update all <code>eventListener</code> definitions to use the <code>ref</code> field.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Upgrade from OpenShift Pipelines 1.3.x and earlier versions to OpenShift Pipelines 1.4.0 breaks event listeners because of the unavailability of the <code>template.name</code> field. For such cases, use OpenShift Pipelines 1.4.1 to avail the restored <code>template.name</code> field.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>For <code>EventListener</code> custom resources/objects, the fields <code>PodTemplate</code> and <code>ServiceType</code> are deprecated in favor of <code>Resource</code>.</p>
</li>
<li>
<p>The deprecated spec style embedded bindings is removed.</p>
</li>
<li>
<p>The <code>spec</code> field is removed from the <code>triggerSpecBinding</code>.</p>
</li>
<li>
<p>The event ID representation is changed from a five-character random string to a UUID.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-4_op-release-notes"><a class="anchor" href="#known-issues-1-4_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>In the <strong>Developer</strong> perspective, the pipeline metrics and triggers features are available only on OpenShift Container Platform 4.7.6 or later versions.</p>
</li>
<li>
<p>On IBM Power Systems, IBM Z, and LinuxONE, the <code>tkn hub</code> command is not supported.</p>
</li>
<li>
<p>When you run Maven and Jib Maven cluster tasks on an IBM Power Systems (ppc64le), IBM Z, and LinuxONE (s390x) clusters, set the <code>MAVEN_IMAGE</code> parameter value to <code>maven:3.6.3-adoptopenjdk-11</code>.</p>
</li>
<li>
<p>Triggers throw error resulting from bad handling of the JSON format, if you have the following configuration in the trigger binding:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">params</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">github_json</span>
    <span class="na">value</span><span class="pi">:</span> <span class="s">$(body)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To resolve the issue:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you are using triggers v0.11.0 and above, use the <code>marshalJSON</code> CEL function, which takes a JSON object or array and returns the JSON encoding of that object or array as a string.</p>
</li>
<li>
<p>If you are using older triggers version, add the following annotation in the trigger template:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="yaml"><span class="na">annotations</span><span class="pi">:</span>
  <span class="s">triggers.tekton.dev/old-escape-quotes</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>When upgrading from OpenShift Pipelines 1.3.x to 1.4.x, you must recreate the routes.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-4_op-release-notes"><a class="anchor" href="#fixed-issues-1-4_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Previously, the <code>tekton.dev/task</code> label was removed from the task runs of cluster tasks, and the <code>tekton.dev/clusterTask</code> label was introduced. The problems resulting from that change is resolved by fixing the <code>clustertask describe</code> and  <code>delete</code> commands. In addition, the <code>lastrun</code> function for tasks is modified, to fix the issue of the <code>tekton.dev/task</code> label being applied to the task runs of both tasks and cluster tasks in older versions of pipelines.</p>
</li>
<li>
<p>When doing an interactive <code>tkn pipeline start pipelinename</code>, a <code>PipelineResource</code> is created interactively. The <code>tkn p start</code> command prints the resource status if the resource status is not <code>nil</code>.</p>
</li>
<li>
<p>Previously, the <code>tekton.dev/task=name</code> label was removed from the task runs created from cluster tasks. This fix modifies the <code>tkn clustertask start</code> command with the <code>--last</code> flag to check for the <code>tekton.dev/task=name</code> label in the created task runs.</p>
</li>
<li>
<p>When a task uses an inline task specification, the corresponding task run now gets embedded in the pipeline when you run the <code>tkn pipeline describe</code> command, and the task name is returned as embedded.</p>
</li>
<li>
<p>The <code>tkn version</code> command is fixed to display the version of the installed Tekton CLI tool, without a configured <code>kubeConfiguration namespace</code> or access to a cluster.</p>
</li>
<li>
<p>If an argument is unexpected or more than one arguments are used, the <code>tkn completion</code> command gives an error.</p>
</li>
<li>
<p>Previously, pipeline runs with the <code>finally</code> tasks nested in a pipeline specification would lose those <code>finally</code> tasks, when converted to the <code>v1alpha1</code> version and restored back to the <code>v1beta1</code> version. This error occurring during conversion is fixed to avoid potential data loss. Pipeline runs with the <code>finally</code> tasks nested in a pipeline specification is now serialized and stored on the alpha version, only to be deserialized later.</p>
</li>
<li>
<p>Previously, there was an error in the pod generation when a service account had the <code>secrets</code> field as <code>{}</code>. The task runs failed with <code>CouldntGetTask</code> because the GET request with an empty secret name returned an error, indicating that the resource name may not be empty. This issue is fixed by avoiding an empty secret name in the <code>kubeclient</code> GET request.</p>
</li>
<li>
<p>Pipelines with the <code>v1beta1</code> API versions can now be requested along with the <code>v1alpha1</code> version, without losing the <code>finally</code> tasks. Applying the returned <code>v1alpha1</code> version will store the resource as <code>v1beta1</code>, with the <code>finally</code> section restored to its original state.</p>
</li>
<li>
<p>Previously, an unset <code>selfLink</code> field in the controller caused an error in the Kubernetes v1.20 clusters. As a temporary fix, the <code>CloudEvent</code> source field is set to a value that matches the current source URI, without the value of the auto-populated <code>selfLink</code> field.</p>
</li>
<li>
<p>Previously, a secret name with dots such as <code>gcr.io</code> led to a task run creation failure. This happened because of the secret name being used internally as part of a volume mount name. The volume mount name conforms to the RFC1123 DNS label and disallows dots as part of the name. This issue is fixed by replacing the dot with a dash that results in a readable name.</p>
</li>
<li>
<p>Context variables are now validated in the <code>finally</code> tasks.</p>
</li>
<li>
<p>Previously, when the task run reconciler was passed a task run that did not have a previous status update containing the name of the pod it created, the task run reconciler listed the pods associated with the task run. The task run reconciler used the labels of the task run, which were propagated to the pod, to find the pod. Changing these labels while the task run was running, caused the code to not find the existing pod. As a result, duplicate pods were created. This issue is fixed by changing the task run reconciler to only use the <code>tekton.dev/taskRun</code> Tekton-controlled label when finding the pod.</p>
</li>
<li>
<p>Previously, when a pipeline accepted an optional workspace and passed it to a pipeline task, the pipeline run reconciler stopped with an error if the workspace was not provided, even if a missing workspace binding is a valid state for an optional workspace. This issue is fixed by ensuring that the pipeline run reconciler does not fail to create a task run, even if an optional workspace is not provided.</p>
</li>
<li>
<p>The sorted order of step statuses matches the order of step containers.</p>
</li>
<li>
<p>Previously, the task run status was set to <code>unknown</code> when a pod encountered the <code>CreateContainerConfigError</code> reason, which meant that the task and the pipeline ran until the pod timed out. This issue is fixed by setting the task run status to <code>false</code>, so that the task is set as failed when the pod encounters the <code>CreateContainerConfigError</code> reason.</p>
</li>
<li>
<p>Previously, pipeline results were resolved on the first reconciliation, after a pipeline run was completed. This could fail the resolution resulting in the <code>Succeeded</code> condition of the pipeline run being overwritten. As a result, the final status information was lost, potentially confusing any services watching the pipeline run conditions. This issue is fixed by moving the resolution of pipeline results to the end of a reconciliation, when the pipeline run is put into a <code>Succeeded</code> or <code>True</code> condition.</p>
</li>
<li>
<p>Execution status variable is now validated. This avoids validating task results while validating context variables to access execution status.</p>
</li>
<li>
<p>Previously, a pipeline result that contained an invalid variable would be added to the pipeline run with the literal expression of the variable intact. Therefore, it was difficult to assess whether the results were populated correctly. This issue is fixed by filtering out the pipeline run results that reference failed task runs. Now, a pipeline result that contains an invalid variable will not be emitted by the pipeline run at all.</p>
</li>
<li>
<p>The <code>tkn eventlistener describe</code> command is fixed to avoid crashing without a template. It also displays the details about trigger references.</p>
</li>
<li>
<p>Upgrades from OpenShift Pipelines 1.3.x and earlier versions to OpenShift Pipelines 1.4.0 breaks event listeners because of the unavailability of <code>template.name</code>. In OpenShift Pipelines 1.4.1, the <code>template.name</code> has been restored to avoid breaking event listeners in triggers.</p>
</li>
<li>
<p>In OpenShift Pipelines 1.4.1, the <code>ConsoleQuickStart</code> custom resource has been updated to align with OpenShift Container Platform 4.7 capabilities and behavior.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-3_op-release-notes"><a class="anchor" href="#op-release-notes-1-3_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines Technology Preview 1.3</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="new-features-1-3_op-release-notes"><a class="anchor" href="#new-features-1-3_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>Red Hat OpenShift Pipelines Technology Preview (TP) 1.3 is now available on OpenShift Container Platform 4.7. Red Hat OpenShift Pipelines TP 1.3 is updated to support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tekton Pipelines 0.19.0</p>
</li>
<li>
<p>Tekton <code>tkn</code> CLI 0.15.0</p>
</li>
<li>
<p>Tekton Triggers 0.10.2</p>
</li>
<li>
<p>cluster tasks based on Tekton Catalog 0.19.0</p>
</li>
<li>
<p>IBM Power Systems on OpenShift Container Platform 4.7</p>
</li>
<li>
<p>IBM Z and LinuxONE on OpenShift Container Platform 4.7</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to the fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.3.</p>
</div>
<div class="sect3">
<h4 id="pipeline-new-features-1-3_op-release-notes"><a class="anchor" href="#pipeline-new-features-1-3_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>Tasks that build images, such as S2I and Buildah tasks, now emit a URL of the image built that includes the image SHA.</p>
</li>
<li>
<p>Conditions in pipeline tasks that reference custom tasks are disallowed because the <code>Condition</code> custom resource definition (CRD) has been deprecated.</p>
</li>
<li>
<p>Variable expansion is now added in the <code>Task</code> CRD for the following fields:
<code>spec.steps[].imagePullPolicy</code> and <code>spec.sidecar[].imagePullPolicy</code>.</p>
</li>
<li>
<p>You can disable the built-in credential mechanism in Tekton by setting the <code>disable-creds-init</code> feature-flag to <code>true</code>.</p>
</li>
<li>
<p>Resolved when expressions are now listed in the <code>Skipped Tasks</code> and the <code>Task Runs</code> sections in the <code>Status</code> field of the <code>PipelineRun</code> configuration.</p>
</li>
<li>
<p>The <code>git init</code> command can now clone recursive submodules.</p>
</li>
<li>
<p>A <code>Task</code> CR author can now specify a timeout for a step in the <code>Task</code> spec.</p>
</li>
<li>
<p>You can now base the entry point image on the <code>distroless/static:nonroot</code> image and give it a mode to copy itself to the destination, without relying on the <code>cp</code> command being present in the base image.</p>
</li>
<li>
<p>You can now use the configuration flag <code>require-git-ssh-secret-known-hosts</code> to disallow omitting known hosts in the Git SSH secret. When the flag value is set to <code>true</code>, you must include the <code>known_host</code> field in the Git SSH secret. The default value for the flag is <code>false</code>.</p>
</li>
<li>
<p>The concept of optional workspaces is now introduced. A task or pipeline might declare a workspace optional and conditionally change their behavior based on its presence. A task run or pipeline run might also omit that workspace, thereby modifying the task or pipeline behavior. The default task run workspaces are not added in place of an omitted optional workspace.</p>
</li>
<li>
<p>Credentials initialization in Tekton now detects an SSH credential that is used with a non-SSH URL, and vice versa in Git pipeline resources, and logs a warning in the step containers.</p>
</li>
<li>
<p>The task run controller emits a warning event if the affinity specified by the pod template is overwritten by the affinity assistant.</p>
</li>
<li>
<p>The task run reconciler now records metrics for cloud events that are emitted once a task run is completed. This includes retries.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cli-new-features-1-3_op-release-notes"><a class="anchor" href="#cli-new-features-1-3_op-release-notes"></a>Pipelines CLI</h4>
<div class="ulist">
<ul>
<li>
<p>Support for <code>--no-headers flag</code> is now added to the following commands:
<code>tkn condition list</code>,<code>tkn triggerbinding list</code>,<code>tkn eventlistener list</code>,<code>tkn clustertask list</code>, <code>tkn clustertriggerbinding list</code>.</p>
</li>
<li>
<p>When used together, the <code>--last</code> or <code>--use</code> options override the <code>--prefix-name</code> and <code>--timeout</code> options.</p>
</li>
<li>
<p>The <code>tkn eventlistener logs</code> command is now added to view the <code>EventListener</code> logs.</p>
</li>
<li>
<p>The <code>tekton hub</code> commands are now integrated into the <code>tkn</code> CLI.</p>
</li>
<li>
<p>The <code>--nocolour</code> option is now changed to <code>--no-color</code>.</p>
</li>
<li>
<p>The <code>--all-namespaces</code> flag is added to the following commands:
<code>tkn triggertemplate list</code>, <code>tkn condition list</code>, <code>tkn triggerbinding list</code>, <code>tkn eventlistener list</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-3_op-release-notes"><a class="anchor" href="#triggers-new-features-1-3_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>You can now specify your resource information in the <code>EventListener</code> template.</p>
</li>
<li>
<p>It is now mandatory for <code>EventListener</code> service accounts to have the <code>list</code> and <code>watch</code> verbs, in addition to the <code>get</code> verb for all the triggers resources. This enables you to use <code>Listers</code> to fetch data from <code>EventListener</code>, <code>Trigger</code>, <code>TriggerBinding</code>, <code>TriggerTemplate</code>, and <code>ClusterTriggerBinding</code> resources. You can use this feature to create a <code>Sink</code> object rather than specifying multiple informers, and directly make calls to the API server.</p>
</li>
<li>
<p>A new <code>Interceptor</code> interface is added to support immutable input event bodies. Interceptors can now add data or fields to a new <code>extensions</code> field, and cannot modify the input bodies making them immutable. The CEL interceptor uses this new <code>Interceptor</code> interface.</p>
</li>
<li>
<p>A <code>namespaceSelector</code> field is added to the <code>EventListener</code> resource. Use it to specify the namespaces from where the <code>EventListener</code> resource can fetch the <code>Trigger</code> object for processing events. To use the <code>namespaceSelector</code> field, the service account for the <code>EventListener</code> resource must have a cluster role.</p>
</li>
<li>
<p>The triggers <code>EventListener</code> resource now supports end-to-end secure connection to the <code>eventlistener</code> pod.</p>
</li>
<li>
<p>The escaping parameters behavior in the <code>TriggerTemplates</code> resource by replacing <code>"</code> with <code>\"</code> is now removed.</p>
</li>
<li>
<p>A new <code>resources</code> field, supporting Kubernetes resources, is introduced as part of the <code>EventListener</code> spec.</p>
</li>
<li>
<p>A new functionality for the CEL interceptor, with support for upper and lower-casing of ASCII strings, is added.</p>
</li>
<li>
<p>You can embed <code>TriggerBinding</code> resources by using the <code>name</code> and <code>value</code> fields in a trigger, or an event listener.</p>
</li>
<li>
<p>The <code>PodSecurityPolicy</code> configuration is updated to run in restricted environments. It ensures that containers must run as non-root. In addition, the role-based access control for using the pod security policy is moved from cluster-scoped to namespace-scoped. This ensures that the triggers cannot use other pod security policies that are unrelated to a namespace.</p>
</li>
<li>
<p>Support for embedded trigger templates is now added. You can either use the <code>name</code> field to refer to an embedded template or embed the template inside the <code>spec</code> field.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-3_op-release-notes"><a class="anchor" href="#deprecated-features-1-3_op-release-notes"></a>Deprecated features</h3>
<div class="ulist">
<ul>
<li>
<p>Pipeline templates that use <code>PipelineResources</code> CRDs are now deprecated and will be removed in a future release.</p>
</li>
<li>
<p>The <code>template.name</code> field is deprecated in favor of the <code>template.ref</code> field and will be removed in a future release.</p>
</li>
<li>
<p>The <code>-c</code> shorthand for the <code>--check</code> command has been removed. In addition, global <code>tkn</code> flags are added to the <code>version</code> command.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-3_op-release-notes"><a class="anchor" href="#known-issues-1-3_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>CEL overlays add fields to a new top-level <code>extensions</code> function, instead of modifying the incoming event body. <code>TriggerBinding</code> resources can access values within this new <code>extensions</code> function using the <code>$(extensions.&lt;key&gt;)</code> syntax. Update your binding to use the <code>$(extensions.&lt;key&gt;)</code> syntax instead of the <code>$(body.&lt;overlay-key&gt;)</code> syntax.</p>
</li>
<li>
<p>The escaping parameters behavior by replacing <code>"</code> with <code>\"</code> is now removed. If you need to retain the old escaping parameters behavior add the <code>tekton.dev/old-escape-quotes: true"</code> annotation to your <code>TriggerTemplate</code> specification.</p>
</li>
<li>
<p>You can embed <code>TriggerBinding</code> resources by using the <code>name</code> and <code>value</code> fields inside a trigger or an event listener. However, you cannot specify both <code>name</code> and <code>ref</code> fields for a single binding. Use the <code>ref</code> field to refer to a <code>TriggerBinding</code> resource and the <code>name</code> field for embedded bindings.</p>
</li>
<li>
<p>An interceptor cannot attempt to reference a <code>secret</code> outside the namespace of an <code>EventListener</code> resource. You must include secrets in the namespace of the `EventListener`resource.</p>
</li>
<li>
<p>In Triggers 0.9.0 and later, if a body or header based <code>TriggerBinding</code> parameter is missing or malformed in an event payload, the default values are used instead of displaying an error.</p>
</li>
<li>
<p>Tasks and pipelines created with <code>WhenExpression</code> objects using Tekton Pipelines 0.16.x must be reapplied to fix their JSON annotations.</p>
</li>
<li>
<p>When a pipeline accepts an optional workspace and gives it to a task, the pipeline run stalls if the workspace is not provided.</p>
</li>
<li>
<p>To use the Buildah cluster task in a disconnected environment, ensure that the Dockerfile uses an internal image stream as the base image, and then use it in the same manner as any S2I cluster task.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-3_op-release-notes"><a class="anchor" href="#fixed-issues-1-3_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Extensions added by a CEL Interceptor are passed on to webhook interceptors by adding the <code>Extensions</code> field within the event body.</p>
</li>
<li>
<p>The activity timeout for log readers is now configurable using the <code>LogOptions</code> field. However, the default behavior of timeout in 10 seconds is retained.</p>
</li>
<li>
<p>The <code>log</code> command ignores the <code>--follow</code> flag when a task run or pipeline run is complete, and reads available logs instead of live logs.</p>
</li>
<li>
<p>References to the following Tekton resources: <code>EventListener</code>, <code>TriggerBinding</code>, <code>ClusterTriggerBinding</code>, <code>Condition</code>, and <code>TriggerTemplate</code> are now standardized and made consistent across all user-facing messages in <code>tkn</code> commands.</p>
</li>
<li>
<p>Previously, if you started a canceled task run or pipeline run with the <code>--use-taskrun &lt;canceled-task-run-name&gt;</code>, <code>--use-pipelinerun &lt;canceled-pipeline-run-name&gt;</code> or <code>--last</code> flags, the new run would be canceled. This bug is now fixed.</p>
</li>
<li>
<p>The <code>tkn pr desc</code> command  is now enhanced to ensure that it does not fail in case of pipeline runs with conditions.</p>
</li>
<li>
<p>When you delete a task run using the <code>tkn tr delete</code> command with the <code>--task</code> option, and a cluster task exists with the same name, the task runs for the cluster task also get deleted. As a workaround, filter the task runs by using the <code>TaskRefKind</code> field.</p>
</li>
<li>
<p>The <code>tkn triggertemplate describe</code> command would display only part of the <code>apiVersion</code> value in the output. For example, only <code>triggers.tekton.dev</code> was displayed instead of <code>triggers.tekton.dev/v1alpha1</code>. This bug is now fixed.</p>
</li>
<li>
<p>The webhook, under certain conditions, would fail to acquire a lease and not function correctly. This bug is now fixed.</p>
</li>
<li>
<p>Pipelines with when expressions created in v0.16.3 can now be run in v0.17.1 and later. After an upgrade, you do not need to reapply pipeline definitions created in previous versions because both the uppercase and lowercase first letters for the annotations are now supported.</p>
</li>
<li>
<p>By default, the <code>leader-election-ha</code> field is now enabled for high availability. When the <code>disable-ha</code> controller flag is set to <code>true</code>, it disables high availability support.</p>
</li>
<li>
<p>Issues with duplicate cloud events are now fixed. Cloud events are now sent only when a condition changes the state, reason, or message.</p>
</li>
<li>
<p>When a service account name is missing from a <code>PipelineRun</code> or <code>TaskRun</code> spec, the controller uses the service account name from the <code>config-defaults</code> config map. If the service account name is also missing in the <code>config-defaults</code> config map, the controller now sets it to <code>default</code> in the spec.</p>
</li>
<li>
<p>Validation for compatibility with the affinity assistant is now supported when the same persistent volume claim is used for multiple workspaces, but with different subpaths.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-2_op-release-notes"><a class="anchor" href="#op-release-notes-1-2_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines Technology Preview 1.2</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="new-features-1-2_op-release-notes"><a class="anchor" href="#new-features-1-2_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>Red Hat OpenShift Pipelines Technology Preview (TP) 1.2 is now available on OpenShift Container Platform 4.6. Red Hat OpenShift Pipelines TP 1.2 is updated to support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tekton Pipelines 0.16.3</p>
</li>
<li>
<p>Tekton <code>tkn</code> CLI 0.13.1</p>
</li>
<li>
<p>Tekton Triggers 0.8.1</p>
</li>
<li>
<p>cluster tasks based on Tekton Catalog 0.16</p>
</li>
<li>
<p>IBM Power Systems on OpenShift Container Platform 4.6</p>
</li>
<li>
<p>IBM Z and LinuxONE on OpenShift Container Platform 4.6</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to the fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.2.</p>
</div>
<div class="sect3">
<h4 id="pipeline-new-features-1-2_op-release-notes"><a class="anchor" href="#pipeline-new-features-1-2_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>This release of Red Hat OpenShift Pipelines adds support for a disconnected installation.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Installations in restricted environments are currently not supported on IBM Power Systems, IBM Z, and LinuxONE.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>You can now use the <code>when</code> field, instead of <code>conditions</code> resource, to run a task only when certain criteria are met. The key components of <code>WhenExpression</code> resources are <code>Input</code>, <code>Operator</code>, and <code>Values</code>. If all the when expressions evaluate to <code>True</code>, then the task is run. If any of the when expressions evaluate to <code>False</code>, the task is skipped.</p>
</li>
<li>
<p>Step statuses are now updated if a task run is canceled or times out.</p>
</li>
<li>
<p>Support for Git Large File Storage (LFS) is now available to build the base image used by <code>git-init</code>.</p>
</li>
<li>
<p>You can now use the <code>taskSpec</code> field to specify metadata, such as labels and annotations, when a task is embedded in a pipeline.</p>
</li>
<li>
<p>Cloud events are now supported by pipeline runs. Retries with <code>backoff</code> are now enabled for cloud events sent by the cloud event pipeline resource.</p>
</li>
<li>
<p>You can now set a default <code>Workspace</code> configuration for any workspace that a <code>Task</code> resource declares, but that a <code>TaskRun</code> resource does not explicitly provide.</p>
</li>
<li>
<p>Support is available for namespace variable interpolation for the <code>PipelineRun</code> namespace and <code>TaskRun</code> namespace.</p>
</li>
<li>
<p>Validation for <code>TaskRun</code> objects is now added to check that not more than one persistent volume claim workspace is used when a <code>TaskRun</code> resource is associated with an Affinity Assistant. If more than one persistent volume claim workspace is used, the task run fails with a <code>TaskRunValidationFailed</code> condition. Note that by default, the Affinity Assistant is disabled in Red Hat OpenShift Pipelines, so you will need to enable the assistant to use it.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cli-new-features-1-2_op-release-notes"><a class="anchor" href="#cli-new-features-1-2_op-release-notes"></a>Pipelines CLI</h4>
<div class="ulist">
<ul>
<li>
<p>The <code>tkn task describe</code>, <code>tkn taskrun describe</code>,  <code>tkn clustertask describe</code>, <code>tkn pipeline describe</code>, and <code>tkn pipelinerun describe</code> commands now:</p>
<div class="ulist">
<ul>
<li>
<p>Automatically select the <code>Task</code>, <code>TaskRun</code>, <code>ClusterTask</code>, <code>Pipeline</code> and <code>PipelineRun</code> resource, respectively, if only one of them is present.</p>
</li>
<li>
<p>Display the results of the <code>Task</code>, <code>TaskRun</code>, <code>ClusterTask</code>, <code>Pipeline</code> and <code>PipelineRun</code> resource in their outputs, respectively.</p>
</li>
<li>
<p>Display workspaces declared in the <code>Task</code>, <code>TaskRun</code>, <code>ClusterTask</code>, <code>Pipeline</code> and <code>PipelineRun</code> resource in their outputs, respectively.</p>
</li>
</ul>
</div>
</li>
<li>
<p>You can now use the <code>--prefix-name</code> option with the <code>tkn clustertask start</code> command to specify a prefix for the name of a task run.</p>
</li>
<li>
<p>Interactive mode support has now been provided to the <code>tkn clustertask start</code> command.</p>
</li>
<li>
<p>You can now specify <code>PodTemplate</code> properties supported by pipelines using local or remote file definitions for <code>TaskRun</code> and <code>PipelineRun</code> objects.</p>
</li>
<li>
<p>You can now use the <code>--use-params-defaults</code> option with the <code>tkn clustertask start</code> command to use the default values set in the <code>ClusterTask</code> configuration and create the task run.</p>
</li>
<li>
<p>The <code>--use-param-defaults</code> flag for the <code>tkn pipeline start</code> command now prompts the interactive mode if the default values have not been specified for some of the parameters.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-2_op-release-notes"><a class="anchor" href="#triggers-new-features-1-2_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>The Common Expression Language (CEL) function named <code>parseYAML</code> has been added to parse a YAML string into a map of strings.</p>
</li>
<li>
<p>Error messages for parsing CEL expressions have been improved to make them more granular while evaluating expressions and when parsing the hook body for creating the evaluation environment.</p>
</li>
<li>
<p>Support is now available for marshaling boolean values and maps if they are used as the values of expressions in a CEL overlay mechanism.</p>
</li>
<li>
<p>The following fields have been added to the <code>EventListener</code> object:</p>
<div class="ulist">
<ul>
<li>
<p>The <code>replicas</code> field enables the event listener to run more than one pod by specifying the number of replicas in the YAML file.</p>
</li>
<li>
<p>The <code>NodeSelector</code> field enables the <code>EventListener</code> object to schedule the event listener pod to a specific node.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Webhook interceptors can now parse the <code>EventListener-Request-URL</code> header to extract parameters from the original request URL being handled by the event listener.</p>
</li>
<li>
<p>Annotations from the event listener can now be propagated to the deployment, services, and other pods. Note that custom annotations on services or deployment are overwritten, and hence, must be added to the event listener annotations so that they are propagated.</p>
</li>
<li>
<p>Proper validation for replicas in the <code>EventListener</code> specification is now available for cases when a user specifies the <code>spec.replicas</code> values as <code>negative</code> or <code>zero</code>.</p>
</li>
<li>
<p>You can now specify the <code>TriggerCRD</code> object inside the <code>EventListener</code> spec as a reference using the <code>TriggerRef</code> field to create the <code>TriggerCRD</code> object separately and then bind it inside the <code>EventListener</code> spec.</p>
</li>
<li>
<p>Validation and defaults for the <code>TriggerCRD</code> object are now available.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-2_op-release-notes"><a class="anchor" href="#deprecated-features-1-2_op-release-notes"></a>Deprecated features</h3>
<div class="ulist">
<ul>
<li>
<p><code>$(params)</code> parameters are now removed from the <code>triggertemplate</code> resource and replaced by <code>$(tt.params)</code> to avoid confusion between the <code>resourcetemplate</code> and <code>triggertemplate</code> resource parameters.</p>
</li>
<li>
<p>The <code>ServiceAccount</code> reference of the optional <code>EventListenerTrigger</code>-based authentication level has changed from an object reference to a <code>ServiceAccountName</code> string. This ensures that the <code>ServiceAccount</code> reference is in the same namespace as the <code>EventListenerTrigger</code> object.</p>
</li>
<li>
<p>The <code>Conditions</code> custom resource definition (CRD) is now deprecated; use the <code>WhenExpressions</code> CRD instead.</p>
</li>
<li>
<p>The <code>PipelineRun.Spec.ServiceAccountNames</code> object is being deprecated and replaced by the <code>PipelineRun.Spec.TaskRunSpec[].ServiceAccountName</code> object.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-2_op-release-notes"><a class="anchor" href="#known-issues-1-2_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>This release of Red Hat OpenShift Pipelines adds support for a disconnected installation. However, some images used by the cluster tasks must be mirrored for them to work in disconnected clusters.</p>
</li>
<li>
<p>Pipelines in the <code>openshift</code> namespace are not deleted after you uninstall the Red Hat OpenShift Pipelines Operator. Use the <code>oc delete pipelines -n openshift --all</code> command to delete the pipelines.</p>
</li>
<li>
<p>Uninstalling the Red Hat OpenShift Pipelines Operator does not remove the event listeners.</p>
<div class="paragraph">
<p>As a workaround, to remove the <code>EventListener</code> and <code>Pod</code> CRDs:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit the <code>EventListener</code> object with the <code>foregroundDeletion</code> finalizers:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc patch el/&lt;eventlistener_name&gt; <span class="nt">-p</span> <span class="s1">'{"metadata":{"finalizers":["foregroundDeletion"]}}'</span> <span class="nt">--type</span><span class="o">=</span>merge</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc patch el/github-listener-interceptor <span class="nt">-p</span> <span class="s1">'{"metadata":{"finalizers":["foregroundDeletion"]}}'</span> <span class="nt">--type</span><span class="o">=</span>merge</code></pre>
</div>
</div>
</li>
<li>
<p>Delete the <code>EventListener</code> CRD:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>oc patch crd/eventlisteners.triggers.tekton.dev <span class="nt">-p</span> <span class="s1">'{"metadata":{"finalizers":[]}}'</span> <span class="nt">--type</span><span class="o">=</span>merge</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>When you run a multi-arch container image task without command specification on an IBM Power Systems (ppc64le) or IBM Z (s390x) cluster, the <code>TaskRun</code> resource fails with the following error:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="go">Error executing command: fork/exec /bin/bash: exec format error</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As a workaround, use an architecture specific container image or specify the sha256 digest to point to the correct architecture.
To get the sha256 digest enter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight nowrap"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>skopeo inspect <span class="nt">--raw</span> &lt;image_name&gt;| jq <span class="s1">'.manifests[] | select(.platform.architecture == "&lt;architecture&gt;") | .digest'</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-2_op-release-notes"><a class="anchor" href="#fixed-issues-1-2_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>A simple syntax validation to check the CEL filter, overlays in the Webhook validator, and the expressions in the interceptor has now been added.</p>
</li>
<li>
<p>Triggers no longer overwrite annotations set on the underlying deployment and service objects.</p>
</li>
<li>
<p>Previously, an event listener would stop accepting events. This fix adds an idle timeout of 120 seconds for the <code>EventListener</code> sink to resolve this issue.</p>
</li>
<li>
<p>Previously, canceling a pipeline run with a <code>Failed(Canceled)</code> state gave a success message. This has been fixed to display an error instead.</p>
</li>
<li>
<p>The <code>tkn eventlistener list</code> command now provides the status of the listed event listeners, thus enabling you to easily identify the available ones.</p>
</li>
<li>
<p>Consistent error messages are now displayed for the <code>triggers list</code> and <code>triggers describe</code> commands when triggers are not installed or when a resource cannot be found.</p>
</li>
<li>
<p>Previously, a large number of idle connections would build up during cloud event delivery. The <code>DisableKeepAlives: true</code> parameter was added to the <code>cloudeventclient</code> config to fix this issue. Thus, a new connection is set up for every cloud event.</p>
</li>
<li>
<p>Previously, the <code>creds-init</code> code would write empty files to the disk even if credentials of a given type were not provided. This fix modifies the <code>creds-init</code> code to write files for only those credentials that have actually been mounted from correctly annotated secrets.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-1_op-release-notes"><a class="anchor" href="#op-release-notes-1-1_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines Technology Preview 1.1</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="new-features-1-1_op-release-notes"><a class="anchor" href="#new-features-1-1_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>Red Hat OpenShift Pipelines Technology Preview (TP) 1.1 is now available on OpenShift Container Platform 4.5. Red Hat OpenShift Pipelines TP 1.1 is updated to support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tekton Pipelines 0.14.3</p>
</li>
<li>
<p>Tekton <code>tkn</code> CLI 0.11.0</p>
</li>
<li>
<p>Tekton Triggers 0.6.1</p>
</li>
<li>
<p>cluster tasks based on Tekton Catalog 0.14</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to the fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.1.</p>
</div>
<div class="sect3">
<h4 id="pipeline-new-features-1-1_op-release-notes"><a class="anchor" href="#pipeline-new-features-1-1_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>Workspaces can now be used instead of pipeline resources. It is recommended that you use workspaces in OpenShift Pipelines, as pipeline resources are difficult to debug, limited in scope, and make tasks less reusable. For more details on workspaces, see the Understanding OpenShift Pipelines section.</p>
</li>
<li>
<p>Workspace support for volume claim templates has been added:</p>
<div class="ulist">
<ul>
<li>
<p>The volume claim template for a pipeline run and task run can now be added as a volume source for workspaces. The tekton-controller then creates a persistent volume claim (PVC) using the template that is seen as a PVC for all task runs in the pipeline. Thus you do not need to define the PVC configuration every time it binds a workspace that spans multiple tasks.</p>
</li>
<li>
<p>Support to find the name of the PVC when a volume claim template is used as a volume source is now available using variable substitution.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Support for improving audits:</p>
<div class="ulist">
<ul>
<li>
<p>The <code>PipelineRun.Status</code> field now contains the status of every task run in the pipeline and the pipeline specification used to instantiate a pipeline run to monitor the progress of the pipeline run.</p>
</li>
<li>
<p>Pipeline results have been added to the pipeline specification and <code>PipelineRun</code> status.</p>
</li>
<li>
<p>The <code>TaskRun.Status</code> field now contains the exact task specification used to instantiate the <code>TaskRun</code> resource.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Support to apply the default parameter to conditions.</p>
</li>
<li>
<p>A task run created by referencing a cluster task now adds the <code>tekton.dev/clusterTask</code> label instead of the <code>tekton.dev/task</code> label.</p>
</li>
<li>
<p>The kube config writer now adds the <code>ClientKeyData</code> and the <code>ClientCertificateData</code> configurations in the resource structure to enable replacement of the pipeline resource type cluster with the kubeconfig-creator task.</p>
</li>
<li>
<p>The names of the <code>feature-flags</code> and the <code>config-defaults</code> config maps are now customizable.</p>
</li>
<li>
<p>Support for the host network in the pod template used by the task run is now available.</p>
</li>
<li>
<p>An Affinity Assistant is now available to support node affinity in task runs that share workspace volume. By default, this is disabled on OpenShift Pipelines.</p>
</li>
<li>
<p>The pod template has been updated to specify <code>imagePullSecrets</code> to identify secrets that the container runtime should use to authorize container image pulls when starting a pod.</p>
</li>
<li>
<p>Support for emitting warning events from the task run controller if the controller fails to update the task run.</p>
</li>
<li>
<p>Standard or recommended k8s labels have been added to all resources to identify resources belonging to an application or component.</p>
</li>
<li>
<p>The <code>Entrypoint</code> process is now notified for signals and these signals are then propagated using a dedicated PID Group of the <code>Entrypoint</code> process.</p>
</li>
<li>
<p>The pod template can now be set on a task level at runtime using task run specs.</p>
</li>
<li>
<p>Support for emitting Kubernetes events:</p>
<div class="ulist">
<ul>
<li>
<p>The controller now emits events for additional task run lifecycle events - <code>taskrun started</code> and <code>taskrun running</code>.</p>
</li>
<li>
<p>The pipeline run controller now emits an event every time a pipeline starts.</p>
</li>
</ul>
</div>
</li>
<li>
<p>In addition to the default Kubernetes events, support for cloud events for task runs is now available. The controller can be configured to send any task run events, such as create, started, and failed, as cloud events.</p>
</li>
<li>
<p>Support for using the <code>$context.&lt;task|taskRun|pipeline|pipelineRun&gt;.name</code> variable to reference the appropriate name when in pipeline runs and task runs.</p>
</li>
<li>
<p>Validation for pipeline run parameters is now available to ensure that all the parameters required by the pipeline are provided by the pipeline run. This also allows pipeline runs to provide extra parameters in addition to the required parameters.</p>
</li>
<li>
<p>You can now specify tasks within a pipeline that will always execute before the pipeline exits, either after finishing all tasks successfully or after a task in the pipeline failed, using the <code>finally</code> field in the pipeline YAML file.</p>
</li>
<li>
<p>The <code>git-clone</code> cluster task is now available.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cli-new-features-1-1_op-release-notes"><a class="anchor" href="#cli-new-features-1-1_op-release-notes"></a>Pipelines CLI</h4>
<div class="ulist">
<ul>
<li>
<p>Support for embedded trigger binding is now available to the <code>tkn evenlistener describe</code> command.</p>
</li>
<li>
<p>Support to recommend subcommands and make suggestions if an incorrect subcommand is used.</p>
</li>
<li>
<p>The <code>tkn task describe</code> command now auto selects the task if only one task is present in the pipeline.</p>
</li>
<li>
<p>You can now start a task using default parameter values by specifying the <code>--use-param-defaults</code> flag in the <code>tkn task start</code> command.</p>
</li>
<li>
<p>You can now specify a volume claim template for pipeline runs or task runs using the <code>--workspace</code> option with the  <code>tkn pipeline start</code> or  <code>tkn task start</code> commands.</p>
</li>
<li>
<p>The <code>tkn pipelinerun logs</code> command now displays logs for the final tasks listed in the <code>finally</code> section.</p>
</li>
<li>
<p>Interactive mode support has now been provided to the <code>tkn task start</code> command and the <code>describe</code> subcommand for the following <code>tkn</code> resources:  <code>pipeline</code>, <code>pipelinerun</code>, <code>task</code>, <code>taskrun</code>, <code>clustertask</code>, and <code>pipelineresource</code>.</p>
</li>
<li>
<p>The <code>tkn version</code> command now displays the version of the triggers installed in the cluster.</p>
</li>
<li>
<p>The <code>tkn pipeline describe</code> command now displays parameter values and timeouts specified for tasks used in the pipeline.</p>
</li>
<li>
<p>Support added for the <code>--last</code> option for the <code>tkn pipelinerun describe</code> and the <code>tkn taskrun describe</code> commands to describe the most recent pipeline run or task run, respectively.</p>
</li>
<li>
<p>The <code>tkn pipeline describe</code> command now displays the conditions applicable to the tasks in the pipeline.</p>
</li>
<li>
<p>You can now use the <code>--no-headers</code> and <code>--all-namespaces</code> flags with the <code>tkn resource list</code> command.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-1_op-release-notes"><a class="anchor" href="#triggers-new-features-1-1_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>The following Common Expression Language (CEL) functions are now available:</p>
<div class="ulist">
<ul>
<li>
<p><code>parseURL</code>  to parse and extract portions of a URL</p>
</li>
<li>
<p><code>parseJSON</code> to parse JSON value types embedded in a string in the <code>payload</code> field of the <code>deployment</code> webhook</p>
</li>
</ul>
</div>
</li>
<li>
<p>A new interceptor for webhooks from Bitbucket has been added.</p>
</li>
<li>
<p>Event listeners now display the <code>Address URL</code> and the <code>Available status</code> as additional fields when listed with the <code>kubectl get</code> command.</p>
</li>
<li>
<p>trigger template params now use the <code>$(tt.params.&lt;paramName&gt;)</code> syntax instead of <code>$(params.&lt;paramName&gt;)</code> to reduce the confusion between trigger template and resource templates params.</p>
</li>
<li>
<p>You can now add <code>tolerations</code> in the <code>EventListener</code> CRD to ensure that event listeners are deployed with the same configuration even if all nodes are tainted due to security or management issues.</p>
</li>
<li>
<p>You can now add a Readiness Probe for event listener Deployment at <code>URL/live</code>.</p>
</li>
<li>
<p>Support for embedding <code>TriggerBinding</code> specifications in event listener triggers is now added.</p>
</li>
<li>
<p>Trigger resources are now annotated with the recommended <code>app.kubernetes.io</code> labels.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-1_op-release-notes"><a class="anchor" href="#deprecated-features-1-1_op-release-notes"></a>Deprecated features</h3>
<div class="paragraph">
<p>The following items are deprecated in this release:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>--namespace</code> or <code>-n</code> flags for all cluster-wide commands, including the <code>clustertask</code> and <code>clustertriggerbinding</code> commands, are deprecated. It will be removed in a future release.</p>
</li>
<li>
<p>The <code>name</code> field in <code>triggers.bindings</code> within an event listener has been deprecated in favor of the <code>ref</code> field and will be removed in a future release.</p>
</li>
<li>
<p>Variable interpolation in trigger templates using <code>$(params)</code> has been deprecated in favor of using <code>$(tt.params)</code> to reduce confusion with the pipeline variable interpolation syntax. The <code>$(params.&lt;paramName&gt;)</code> syntax will be removed in a future release.</p>
</li>
<li>
<p>The <code>tekton.dev/task</code> label is deprecated on cluster tasks.</p>
</li>
<li>
<p>The <code>TaskRun.Status.ResourceResults.ResourceRef</code> field is deprecated and will be removed.</p>
</li>
<li>
<p>The <code>tkn pipeline create</code>, <code>tkn task create</code>, and <code>tkn resource create -f</code> subcommands have been removed.</p>
</li>
<li>
<p>Namespace validation has been removed from <code>tkn</code> commands.</p>
</li>
<li>
<p>The default timeout of <code>1h</code> and the  <code>-t</code> flag for the <code>tkn ct start</code> command have been removed.</p>
</li>
<li>
<p>The <code>s2i</code> cluster task has been deprecated.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-1_op-release-notes"><a class="anchor" href="#known-issues-1-1_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>Conditions do not support workspaces.</p>
</li>
<li>
<p>The <code>--workspace</code> option and the interactive mode is not supported for the <code>tkn clustertask start</code> command.</p>
</li>
<li>
<p>Support of backward compatibility for <code>$(params.&lt;paramName&gt;)</code> syntax forces you to use trigger templates with pipeline specific params as the trigger s webhook is unable to differentiate trigger  params from pipelines params.</p>
</li>
<li>
<p>Pipeline metrics report incorrect values when you run a  promQL query for <code>tekton_taskrun_count</code>  and <code>tekton_taskrun_duration_seconds_count</code>.</p>
</li>
<li>
<p>pipeline runs and task runs continue to be in the <code>Running</code> and <code>Running(Pending)</code> states respectively even when a non existing PVC name is given to a workspace.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-1_op-release-notes"><a class="anchor" href="#fixed-issues-1-1_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Previously, the <code>tkn task delete &lt;name&gt; --trs</code> command would delete both the task and cluster task if the name of the task and cluster task were the same. With this fix, the command deletes only the task runs that are created by the task <code>&lt;name&gt;</code>.</p>
</li>
<li>
<p>Previously the  <code>tkn pr delete -p &lt;name&gt; --keep 2</code> command would disregard the <code>-p</code> flag when used with the <code>--keep</code> flag and would delete all the pipeline runs except the latest two. With this fix, the command deletes only the pipeline runs that are created by the pipeline <code>&lt;name&gt;</code>, except for the latest two.</p>
</li>
<li>
<p>The <code>tkn triggertemplate describe</code> output now displays resource templates in a table format instead of YAML format.</p>
</li>
<li>
<p>Previously the <code>buildah</code> cluster task failed when a new user was added to a container. With this fix, the issue has been resolved.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="op-release-notes-1-0_op-release-notes"><a class="anchor" href="#op-release-notes-1-0_op-release-notes"></a>Release notes for Red Hat OpenShift Pipelines Technology Preview 1.0</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="new-features-1-0_op-release-notes"><a class="anchor" href="#new-features-1-0_op-release-notes"></a>New features</h3>
<div class="paragraph">
<p>Red Hat OpenShift Pipelines Technology Preview (TP) 1.0 is now available on OpenShift Container Platform 4.4. Red Hat OpenShift Pipelines TP 1.0 is updated to support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tekton Pipelines 0.11.3</p>
</li>
<li>
<p>Tekton <code>tkn</code> CLI 0.9.0</p>
</li>
<li>
<p>Tekton Triggers 0.4.0</p>
</li>
<li>
<p>cluster tasks based on Tekton Catalog 0.11</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to the fixes and stability improvements, the following sections highlight what is new in Red Hat OpenShift Pipelines 1.0.</p>
</div>
<div class="sect3">
<h4 id="pipeline-new-features-1-0_op-release-notes"><a class="anchor" href="#pipeline-new-features-1-0_op-release-notes"></a>Pipelines</h4>
<div class="ulist">
<ul>
<li>
<p>Support for  v1beta1 API Version.</p>
</li>
<li>
<p>Support for an improved limit range. Previously, limit range was specified exclusively for the task run and the pipeline run. Now there is no need to explicitly specify the limit range. The minimum limit range across the namespace is used.</p>
</li>
<li>
<p>Support for sharing data between tasks using task results and task params.</p>
</li>
<li>
<p>Pipelines can now be configured to not overwrite the <code>HOME</code> environment variable and the working directory of steps.</p>
</li>
<li>
<p>Similar to task steps, <code>sidecars</code> now support script mode.</p>
</li>
<li>
<p>You can now specify a different scheduler name in task run <code>podTemplate</code> resource.</p>
</li>
<li>
<p>Support for variable substitution using Star Array Notation.</p>
</li>
<li>
<p>Tekton controller can now be configured to monitor an individual namespace.</p>
</li>
<li>
<p>A new description field is now added to the specification of pipelines, tasks, cluster tasks, resources, and conditions.</p>
</li>
<li>
<p>Addition of proxy parameters to Git pipeline resources.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="cli-new-features-1-0_op-release-notes"><a class="anchor" href="#cli-new-features-1-0_op-release-notes"></a>Pipelines CLI</h4>
<div class="ulist">
<ul>
<li>
<p>The <code>describe</code> subcommand is now added for the following <code>tkn</code> resources: <code>EventListener</code>, <code>Condition</code>, <code>TriggerTemplate</code>, <code>ClusterTask</code>, and <code>TriggerSBinding</code>.</p>
</li>
<li>
<p>Support added for <code>v1beta1</code> to the following resources along with backward compatibility for <code>v1alpha1</code>: <code>ClusterTask</code>, <code>Task</code>, <code>Pipeline</code>, <code>PipelineRun</code>,  and <code>TaskRun</code>.</p>
</li>
<li>
<p>The following commands can now list output from all namespaces using the <code>--all-namespaces</code> flag option: <code>tkn task list</code>, <code>tkn pipeline list</code>, <code>tkn taskrun list</code>, <code>tkn pipelinerun list</code></p>
<div class="paragraph">
<p>The output of these commands is also enhanced to display information without headers using the <code>--no-headers</code> flag option.</p>
</div>
</li>
<li>
<p>You can now start a pipeline using default parameter values by specifying <code>--use-param-defaults</code> flag in the <code>tkn pipelines start</code> command.</p>
</li>
<li>
<p>Support for workspace is now added to <code>tkn pipeline start</code> and <code>tkn task start</code> commands.</p>
</li>
<li>
<p>A new <code>clustertriggerbinding</code> command is now added with the following subcommands: <code>describe</code>, <code>delete</code>, and <code>list</code>.</p>
</li>
<li>
<p>You can now directly start a pipeline run using a local or remote <code>yaml</code> file.</p>
</li>
<li>
<p>The <code>describe</code> subcommand now displays an enhanced and detailed output. With the addition of new fields,  such as <code>description</code>, <code>timeout</code>, <code>param description</code>, and <code>sidecar status</code>, the command output now provides more detailed information about a specific <code>tkn</code> resource.</p>
</li>
<li>
<p>The <code>tkn task log</code> command now displays logs directly if only one task is present in the namespace.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="triggers-new-features-1-0_op-release-notes"><a class="anchor" href="#triggers-new-features-1-0_op-release-notes"></a>Triggers</h4>
<div class="ulist">
<ul>
<li>
<p>Triggers can now create both <code>v1alpha1</code> and <code>v1beta1</code> pipeline resources.</p>
</li>
<li>
<p>Support for new Common Expression Language (CEL) interceptor function - <code>compareSecret</code>. This function securely compares strings to secrets in CEL expressions.</p>
</li>
<li>
<p>Support for authentication and authorization at the event listener trigger  level.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deprecated-features-1-0_op-release-notes"><a class="anchor" href="#deprecated-features-1-0_op-release-notes"></a>Deprecated features</h3>
<div class="paragraph">
<p>The following items are deprecated in this release:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The environment variable <code>$HOME</code>, and variable <code>workingDir</code> in the <code>Steps</code> specification are deprecated and might be changed in a future release. Currently in a <code>Step</code> container, the <code>HOME</code> and  <code>workingDir</code> variables are overwritten to <code>/tekton/home</code> and <code>/workspace</code> variables, respectively.</p>
<div class="paragraph">
<p>In a later release, these two fields will not be modified, and will be set to values defined in the container image and the <code>Task</code> YAML.
For this release, use the <code>disable-home-env-overwrite</code> and <code>disable-working-directory-overwrite</code> flags to disable overwriting of the <code>HOME</code> and <code>workingDir</code> variables.</p>
</div>
</li>
<li>
<p>The following commands are deprecated and might be removed in the future release: <code>tkn pipeline create</code>, <code>tkn task create</code>.</p>
</li>
<li>
<p>The <code>-f</code> flag with the <code>tkn resource create</code> command is now deprecated. It might be removed in the future release.</p>
</li>
<li>
<p>The <code>-t</code> flag and the <code>--timeout</code> flag (with seconds format) for the <code>tkn clustertask create</code> command are now deprecated. Only duration timeout format is now supported, for example <code>1h30s</code>. These deprecated flags might be removed in the future release.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="known-issues-1-4-0_op-release-notes"><a class="anchor" href="#known-issues-1-4-0_op-release-notes"></a>Known issues</h3>
<div class="ulist">
<ul>
<li>
<p>If you are upgrading from an older version of Red Hat OpenShift Pipelines, you must delete your existing deployments before upgrading to Red Hat OpenShift Pipelines version 1.0. To delete an existing deployment, you must first delete Custom Resources and then uninstall the Red Hat OpenShift Pipelines Operator. For more details, see the uninstalling Red Hat OpenShift Pipelines section.</p>
</li>
<li>
<p>Submitting the same <code>v1alpha1</code> tasks more than once results in an error. Use the <code>oc replace</code> command instead of <code>oc apply</code> when re-submitting a <code>v1alpha1</code> task.</p>
</li>
<li>
<p>The <code>buildah</code> cluster task does not work when a new user is added to a container.</p>
<div class="paragraph">
<p>When the Operator is installed, the <code>--storage-driver</code> flag for the <code>buildah</code> cluster task is not specified, therefore the flag is set to its default value. In some cases, this causes the storage driver to be set incorrectly. When a new user is added, the incorrect storage-driver results in the failure of the <code>buildah</code> cluster task with the following error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">useradd: /etc/passwd.8: lock file already used
useradd: cannot lock /etc/passwd; try again later.</pre>
</div>
</div>
<div class="paragraph">
<p>As a workaround, manually set the <code>--storage-driver</code> flag value to <code>overlay</code> in the <code>buildah-task.yaml</code> file:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Login to your cluster as a <code>cluster-admin</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc login -u &lt;login&gt; -p &lt;password&gt; https://openshift.example.com:6443</pre>
</div>
</div>
</li>
<li>
<p>Use the <code>oc edit</code> command to edit <code>buildah</code> cluster task:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ oc edit clustertask buildah</pre>
</div>
</div>
<div class="paragraph">
<p>The current version of the <code>buildah</code> clustertask YAML file opens in the editor set by your <code>EDITOR</code> environment variable.</p>
</div>
</li>
<li>
<p>Under the <code>Steps</code> field, locate the following <code>command</code> field:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"> command: ['buildah', 'bud', '--format=$(params.FORMAT)', '--tls-verify=$(params.TLSVERIFY)', '--layers', '-f', '$(params.DOCKERFILE)', '-t', '$(resources.outputs.image.url)', '$(params.CONTEXT)']</pre>
</div>
</div>
</li>
<li>
<p>Replace the <code>command</code> field with the following:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap"> command: ['buildah', '--storage-driver=overlay', 'bud', '--format=$(params.FORMAT)', '--tls-verify=$(params.TLSVERIFY)', '--no-cache', '-f', '$(params.DOCKERFILE)', '-t', '$(params.IMAGE)', '$(params.CONTEXT)']</pre>
</div>
</div>
</li>
<li>
<p>Save the file and exit.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Alternatively, you can also modify the <code>buildah</code> cluster task YAML file directly on the web console by navigating to <strong>Pipelines</strong> &#8594; <strong>Cluster Tasks</strong> &#8594; <strong>buildah</strong>. Select <strong>Edit Cluster Task</strong> from the <strong>Actions</strong> menu and replace the <code>command</code> field as shown in the previous procedure.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fixed-issues-1-0_op-release-notes"><a class="anchor" href="#fixed-issues-1-0_op-release-notes"></a>Fixed issues</h3>
<div class="ulist">
<ul>
<li>
<p>Previously, the <code>DeploymentConfig</code> task triggered a new deployment build even when an image build was already in progress. This caused the deployment of the pipeline to fail. With this fix, the <code>deploy task</code> command  is now replaced with the <code>oc rollout status</code> command which waits for the in-progress deployment to finish.</p>
</li>
<li>
<p>Support for <code>APP_NAME</code> parameter is now added in pipeline templates.</p>
</li>
<li>
<p>Previously, the pipeline template for Java S2I failed to look up the image in the registry. With this fix, the image is looked up using the existing image pipeline resources instead of the user provided <code>IMAGE_NAME</code> parameter.</p>
</li>
<li>
<p>All the OpenShift Pipelines images are now based on the Red Hat Universal Base Images (UBI).</p>
</li>
<li>
<p>Previously, when the pipeline was installed in a namespace other than <code>tekton-pipelines</code>, the <code>tkn version</code> command displayed the pipeline version as <code>unknown</code>. With this fix, the <code>tkn version</code> command now displays the correct pipeline version in any namespace.</p>
</li>
<li>
<p>The <code>-c</code> flag is no longer supported for the <code>tkn version</code> command.</p>
</li>
<li>
<p>Non-admin users can now list the cluster trigger bindings.</p>
</li>
<li>
<p>The event listener <code>CompareSecret</code> function is now fixed for the CEL Interceptor.</p>
</li>
<li>
<p>The <code>list</code>, <code>describe</code>, and <code>start</code> subcommands for tasks and cluster tasks now correctly display the output in case a task and cluster task have the same name.</p>
</li>
<li>
<p>Previously, the OpenShift Pipelines Operator modified the privileged security context constraints (SCCs), which caused an error during cluster upgrade. This error is now fixed.</p>
</li>
<li>
<p>In the <code>tekton-pipelines</code> namespace, the timeouts of all task runs and pipeline runs are now set to the value of <code>default-timeout-minutes</code> field using the config map.</p>
</li>
<li>
<p>Previously, the pipelines section in the web console was not displayed for non-admin users. This issue is now resolved.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/nav-tertiary.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/hc-search.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/page-loader.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/clipboard.js" type="text/javascript"></script>
  <script src="https://docs.openshift.com/container-platform/4.1/_javascripts/collapsible.js" type="text/javascript"></script>
  <script>
  var dk = 'openshift-pipelines';
  var version = 'Branch Build';

  var distros = {
    'openshift-origin': ['docs_origin', version],
    // specific labels are used for OSD instead of the URL filter, due to its unusual URL structure; assume v4
    'openshift-dedicated': ['docs_dedicated_v4'],
    'openshift-online': ['docs_online', version],
    'openshift-enterprise': ['docs_cp', version],
    'openshift-aro' : ['docs_aro', version],
    'openshift-rosa' : ['docs_rosa'],
    'openshift-acs' : ['docs_acs', version],
    'openshift-serverless' : ['docs_serverless', version]
  };

  // only OSD v3 docs have the version variable specified
  if (dk == "openshift-dedicated" && version == "3") {
    distros['openshift-dedicated'] = ['docs_dedicated_v3']
  }

  distros[dk] ? hcSearchCategory.apply(null, distros[dk]) : hcSearchCategory("docs");
  </script>
  <script type="text/javascript">
  /*<![CDATA[*/
  $(document).ready(function() {
    $("[id^='topicGroup']").on('show.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicGroup']").on('hide.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });

    const collapsibleContent = document.getElementsByTagName("details");
    for (var i = 0; i < collapsibleContent.length; i++) {
      collapsibleContent[i].setAttribute("open", "");
    }

  });
  /*]]>*/
  </script>

  <footer id="rh">

    <div class="container">
        <div class="row">

            <div class="col-sm-2">
                <img src="https://assets.openshift.com/hubfs/images/logos/Logo-RedHat-A-Reverse-RGB.svg" class="img-fluid" alt="Red Hat" style="height: 30px;">
            </div>

            <div class="col-sm-3">
              <p class="text-nowrap">Copyright  2023 Red Hat, Inc.</p>
            </div>



            <div class="col">
                <nav class="nav">
                    <a target="_blank" href="https://www.redhat.com/en/about/privacy-policy" class="nav-link">Privacy statement</a>
                    <a target="_blank" href="https://www.openshift.com/legal/terms/" class="nav-link">Terms of use</a>
                    <a target="_blank" href="https://www.redhat.com/en/about/all-policies-guidelines" class="nav-link">All policies and guidelines</a>
                    <a id="teconsent"></a>
                </nav>
            </div>
        </div>
    </div>
</footer>
<div id="consent_blackbar" style="z-index: 100; position: fixed"></div>



<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->

  <!-- adjust page css based on breadcrumb and/or resize -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      }
    });

    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      } else if ($(window).width() < 1008) {
        sidebar.classList.remove('wide');
        document.querySelector('#hc-search').classList.remove('wide');
        if (sidebar.classList.contains('open')) {
          sidebar.style.display = 'block';
        } else {
          sidebar.style.display = 'none';
        }
        document.querySelector('.main').style.paddingTop = '0px';
      }
    });

    function adjustSide() {
      sidebar.classList.add('wide');
      document.querySelector('#hc-search').classList.add('wide');
      sidebar.style.display = 'block';
      document.querySelector('.sidebar').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 125), 10) + "px";
      document.querySelector('#hc-search').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 95), 10) + "px";
    }

    function adjustToc() {
      if (document.querySelector('#toc') !== null) {
        document.querySelector('#toc').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      }
    }

    function adjustMain() {
      document.querySelector('html').style.scrollPaddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      document.querySelector('.main').style.paddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight - 70), 10) + "px";
    }

  </script>

  <!-- remove toc active class when page is loaded -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      var tocItems = $("#toc a");

      for (let i = 0; i < tocItems.length; i++) {
        tocItems[i].classList.remove("toc-active");
      }
    })
  </script>

  <!-- maintain sidebar scroll position between page loads -->
  <script type="text/javascript">
    let sidebar = document.querySelector(".sidebar");
    let scrolltop = localStorage.getItem("sidebar-scroll");

    if (scrolltop == null) {
      sidebar.scrollTop = parseInt(top, 10);
    }

    window.addEventListener("beforeunload", () => {
      localStorage.setItem("sidebar-scroll", sidebar.scrollTop);
    });

    window.addEventListener('load', () => {
      sidebar.scrollTo(0, scrolltop)
    })
  </script>

  <!-- open/close the nav -->
  <script type="text/javascript">
    function closeNav() {
      let sidebar = document.querySelector(".sidebar");
      sidebar.style.display = "none";
      sidebar.classList.remove('open');
    }

    function openNav() {
      let sidebar = document.querySelector(".sidebar");
      let hc_search = document.querySelector('#hc-search');
      sidebar.style.display = "block";
      sidebar.style.top = "0px";
      hc_search.style.top = 'unset';
      sidebar.classList.add('open');
    }
  </script>

  <!-- clear and add toc-active to clicked toc link -->
  <script type="text/javascript">
  $("#toc a").click(function() {
    var tocItems = $("#toc a");
    for (let i = 0; i < tocItems.length; i++) {
      tocItems[i].classList.remove("toc-active");
    }
    this.classList.add("toc-active");
  });
  </script>

  <!-- update active toc class when mouse scrolls -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      window.addEventListener("wheel", () => {

        const ioConfiguration = {
          "rootMargin": "-120px 0px -400px 0px",
          "threshold": 0
        };

        const observer = new IntersectionObserver(setCurrent, ioConfiguration, entries => {
          entries.forEach(entry => {
            var id = entry.target.getAttribute('id');
            //fight with js
            document.querySelector(`#toc li a[href="#${id}"]`).classList.remove('toc-active');
          });
        });

        //track all h1-4 headings that have an id
        document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
          observer.observe(h);
        });

        //runs when the IntersectionObserver fires
        function setCurrent(e) {
          var allTocLinks = document.querySelectorAll("#toc li a");
          if (allTocLinks !== undefined) {
            e.map(i => {
              if (i.isIntersecting && i.intersectionRatio >= 1) {
                allTocLinks.forEach(link => link.classList.remove("toc-active"));
                document.querySelector(`#toc li a[href="#${i.target.id}"]`).classList.add('toc-active')
              }
            })
          }
        };

        //make clicked toc item active and stop IntersectionObserver
        $("#toc a").click(function() {
          //stop tracking all h1-4 headings that have an id
          document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
            observer.unobserve(h);
          });
          var tocItems = $("#toc a");
          if (tocItems !== undefined) {
            for (let i = 0; i < tocItems.length; i++) {
              tocItems[i].classList.remove("toc-active");
            };
            this.classList.add("toc-active");
          }
        })
      })
    })
  </script>

  <!--handle page scroll top and bottom, add toc-active -->
  <script type="text/javascript">
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active")
          };
          tocItems[tocItems.length - 1].classList.add("toc-active");
        };
      //scroll to top
      if(window.pageYOffset === 0) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active");
          };
          tocItems[0].classList.add("toc-active");
        };
      })
  </script>

  <!--adjust sidebar and toc when footer is displayed -->
  <script type="text/javascript">
    sidebar = document.querySelector('.sidebar')
    toc = document.querySelector('#toc')
    main = document.querySelector('.main')
    okd_footer = document.querySelector('.footer-origin-docs')

    //handle short pages
    if (window.innerHeight === document.documentElement.scrollHeight) {
      //sidebar
      if (sidebar !== null && okd_footer == null) {
        sidebar.style.marginBottom = "38px";
        main.style.marginBottom = "35px";
      };
      //okd sidebar
      if(sidebar !== null && okd_footer !== null) {
        sidebar.style.marginBottom = "176px";
        main.style.marginBottom = "135px";
      }
    };

    //handle scrolling pages
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if ($(window).width() >= 1008) {
        if(sidebar !== null) {
          //pages with multiple toc entries
          if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
              //sidebar
              if (sidebar !== null && okd_footer == null){
                sidebar.style.marginBottom = "38px";
                main.style.marginBottom = "35px";
              };
              //toc
              if (toc !== null && okd_footer == null){
                toc.style.bottom = "35px";
              };
              //okd sidebar
              if(sidebar !== null && okd_footer !== null) {
                sidebar.style.marginBottom = "176px";
                main.style.marginBottom = "135px";
              };
              //okd toc
              if (toc !== null && okd_footer !== null){
                toc.style.bottom = "175px";
              };
            };
          if(document.documentElement.scrollHeight != window.pageYOffset + window.innerHeight) {
            sidebar.style.marginBottom = "0px";
            if (toc !== null) {
              toc.style.bottom = "0px";
            }
          }
        }
      }
    })
  </script>

  <!-- adjust alerts on mobile -->
  <script type="text/javascript">
    alert = document.querySelector('#support-alert')
    window.addEventListener("wheel", () => {
      if ($(window).width() < 1008) {
        //adjust alert
        if(window.pageYOffset > 0) {
          if(alert !== null) {
            document.querySelector('#support-alert').style.position = "fixed";
            document.querySelector('#support-alert').style.bottom = "0px";
            document.querySelector('#support-alert').style.margin = "5px";
            document.querySelector('#support-alert').style.zIndex = "9999999";
          }
        }
      }
   });
    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        if(alert !== null) {
          document.querySelector('#support-alert').style.removeProperty('position');
          document.querySelector('#support-alert').style.removeProperty('bottom');
          document.querySelector('#support-alert').style.removeProperty('margin');
          document.querySelector('#support-alert').style.removeProperty('zIndex');
        }
      }
    })
  </script>

</body>
</html>